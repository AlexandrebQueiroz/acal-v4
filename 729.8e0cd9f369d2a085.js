"use strict";(self.webpackChunkacal_web=self.webpackChunkacal_web||[]).push([[729],{6729:(E,h,d)=>{d.r(h),d.d(h,{GroupModule:()=>k});var Z=d(5531),p=d(6019),a=d(9133),n=d(4348),s=d(4382),t=d(3668),c=d(7128);let g=(()=>{class o{constructor(e){this.firestore=e}get(){const e=(0,c.hJ)(this.firestore,"group");return(0,c.BS)(e,{idField:"id"})}add(e){const r=(0,c.hJ)(this.firestore,"group");return(0,c.ET)(r,e)}getByID(e){const r=(0,c.JU)(this.firestore,`group/${e}`);return(0,c._1)(r,{idField:"id"})}update(e){(0,c.JU)(this.firestore,`group/${e.id}`)}delete(e){const r=(0,c.JU)(this.firestore,`group/${e.id}`);return(0,c.r7)(r,{active:!1,deletedAt:Date()})}realDelete(e){const r=(0,c.JU)(this.firestore,`group/${e.id}`);return(0,c.oe)(r)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(c.gg))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();function _(o,i){1&o&&(t.TgZ(0,"span",15),t._uU(1," Campo Obrigat\xf3rio "),t.qZA())}function b(o,i){1&o&&(t.TgZ(0,"span",15),t._uU(1," Campo Obrigat\xf3rio "),t.qZA())}let v=(()=>{class o{constructor(e,r,u,l,m){this.toast=e,this.fb=r,this.service=u,this.activatedRoute=l,this.router=m,this.isSubmmited=!1,this.loading=!1}ngOnInit(){this.createForm()}createForm(){this.form=this.fb.group({name:["",a.kI.required],category:["",[a.kI.required]],value:["",[a.kI.required]],createdAt:[Date()],updatedAt:[Date()],active:[!0]})}onSubmit(){this.isSubmmited=!0,!this.form.invalid&&(this.loading=!0,this.service.add(this.form.value).then(e=>{this.toast.default(null==e?void 0:e.id,"Dado salvo"),this.loading=!1,this.router.navigate(["./../list"],{relativeTo:this.activatedRoute})},()=>{this.loading=!1}))}back(){this.router.navigate(["./../list"],{relativeTo:this.activatedRoute})}getStatus(e){return this.isSubmmited?e.valid?"success":"danger":"basic"}name(){return this.form.get("name")}category(){return this.form.get("category")}value(){return this.form.get("value")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(n.quB),t.Y36(a.qu),t.Y36(g),t.Y36(s.gz),t.Y36(s.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ngx-group-add"]],decls:30,vars:10,consts:[[1,"form",3,"formGroup","nbSpinner","ngSubmit"],[1,"row"],[1,"col-xl-8","col-md-6","col-12","form-group"],[1,"label"],["type","text","nbInput","","fullWidth","","formControlName","name","placeholder","Nome:",1,"form-control",3,"status"],["class","text-danger label",4,"ngIf"],[1,"col-xl-4","col-md-6","col-12","form-group"],["placeholder","Selecione","formControlName","category","fullWidth","","title","Categoria:",3,"status"],["value","S\xf3cio Fundador"],["value","S\xf3cio Efetivo"],["value","Tempor\xe1rio"],[1,"col-md-6","col-12","form-group"],["mask","separator.2","prefix","R$ ","type","text","nbInput","","fullWidth","","formControlName","value","placeholder","Valor:",1,"form-control",3,"thousandSeparator","decimalMarker","dropSpecialCharacters","status"],["nbButton","","type","button",1,"m-1",3,"click"],["nbButton","","type","submit",1,"m-1"],[1,"text-danger","label"]],template:function(e,r){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(1,"nb-card"),t.TgZ(2,"nb-card-body"),t.TgZ(3,"div",1),t.TgZ(4,"div",2),t.TgZ(5,"span",3),t._uU(6," Nome:* "),t.qZA(),t._UZ(7,"input",4),t.YNc(8,_,2,0,"span",5),t.qZA(),t.TgZ(9,"div",6),t.TgZ(10,"span",3),t._uU(11," Categoria:* "),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"nb-select",7),t.TgZ(14,"nb-option",8),t._uU(15,"S\xf3cio Fundador"),t.qZA(),t.TgZ(16,"nb-option",9),t._uU(17,"S\xf3cio Efetivo"),t.qZA(),t.TgZ(18,"nb-option",10),t._uU(19,"Tempor\xe1rio"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",11),t.TgZ(21,"span",3),t._uU(22," Valor:* "),t.qZA(),t._UZ(23,"input",12),t.YNc(24,b,2,0,"span",5),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"nb-card-footer"),t.TgZ(26,"button",13),t.NdJ("click",function(){return r.back()}),t._uU(27," Voltar "),t.qZA(),t.TgZ(28,"button",14),t._uU(29," Enviar "),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("formGroup",r.form)("nbSpinner",r.loading),t.xp6(7),t.Q6J("status",r.getStatus(r.name())),t.xp6(1),t.Q6J("ngIf",r.isSubmmited&&r.name().hasError("required")),t.xp6(5),t.Q6J("status",r.getStatus(r.category())),t.xp6(10),t.Q6J("thousandSeparator",".")("decimalMarker",",")("dropSpecialCharacters",!0)("status",r.getStatus(r.value())),t.xp6(1),t.Q6J("ngIf",r.isSubmmited&&r.value().hasError("required")))},directives:[a._Y,a.JL,a.sg,n.Q7R,n.Asz,n.yKW,n.h8i,a.Fj,a.JJ,a.u,p.O5,n.rs,n.q51,Z.hx,n.XWE,n.DPz],styles:[""]}),o})(),f=(()=>{class o{constructor(){}get item(){return this._item}set item(e){this._item=e}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function T(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"nb-card-body"),t.TgZ(1,"div",2),t.TgZ(2,"div",3),t.TgZ(3,"span",4),t._uU(4," Nome: "),t.qZA(),t.TgZ(5,"input",5),t.NdJ("ngModelChange",function(u){return t.CHM(e),t.oxw().item.name=u}),t.qZA(),t.qZA(),t.TgZ(6,"div",6),t.TgZ(7,"span",4),t._uU(8," Categoria:* "),t.qZA(),t._UZ(9,"br"),t.TgZ(10,"nb-select",7),t.NdJ("selectedChange",function(u){return t.CHM(e),t.oxw().item.category=u}),t.TgZ(11,"nb-option",8),t._uU(12,"S\xf3cio Fundador"),t.qZA(),t.TgZ(13,"nb-option",9),t._uU(14,"S\xf3cio Efetivo"),t.qZA(),t.TgZ(15,"nb-option",10),t._uU(16,"Tempor\xe1rio"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",11),t.TgZ(18,"span",4),t._uU(19," Valor:* "),t.qZA(),t.TgZ(20,"input",12),t.NdJ("ngModelChange",function(u){return t.CHM(e),t.oxw().item.value=u}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngModel",e.item.name),t.xp6(5),t.Q6J("selected",e.item.category),t.xp6(10),t.Q6J("thousandSeparator",".")("decimalMarker",",")("ngModel",e.item.value)("dropSpecialCharacters",!0)}}let A=(()=>{class o{constructor(e,r,u,l,m){this.toast=e,this.service=r,this.activatedRoute=u,this.router=l,this.dataService=m}ngOnInit(){this.item=this.dataService.item,this.item||this.back()}delete(){this.service.delete(this.item).then(()=>{var e;this.toast.default(null===(e=this.item)||void 0===e?void 0:e.id,"Dado Excluido"),this.router.navigate(["./../list"],{relativeTo:this.activatedRoute})})}back(){this.router.navigate(["./list"],{relativeTo:this.activatedRoute})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(n.quB),t.Y36(g),t.Y36(s.gz),t.Y36(s.F0),t.Y36(f))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ngx-group-delete"]],decls:7,vars:1,consts:[[4,"ngIf"],["nbButton","","type","button",1,"m-1",3,"click"],[1,"row"],[1,"col-xl-8","col-md-6","col-12","form-group"],[1,"label"],["type","text","nbInput","","fullWidth","","disabled","","placeholder","Nome:",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-xl-4","col-md-6","col-12","form-group"],["placeholder","Selecione","fullWidth","","disabled","","title","Categoria:",3,"selected","selectedChange"],["value","S\xf3cio Fundador"],["value","S\xf3cio Efetivo"],["value","Tempor\xe1rio"],[1,"col-md-6","col-12","form-group"],["mask","separator.2","prefix","R$ ","disabled","","type","text","nbInput","","fullWidth","","placeholder","Valor:",1,"form-control",3,"thousandSeparator","decimalMarker","ngModel","dropSpecialCharacters","ngModelChange"]],template:function(e,r){1&e&&(t.TgZ(0,"nb-card"),t.YNc(1,T,21,6,"nb-card-body",0),t.TgZ(2,"nb-card-footer"),t.TgZ(3,"button",1),t.NdJ("click",function(){return r.back()}),t._uU(4," Voltar "),t.qZA(),t.TgZ(5,"button",1),t.NdJ("click",function(){return r.delete()}),t._uU(6," Excluir "),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",r.item))},directives:[n.Asz,p.O5,n.XWE,n.DPz,n.yKW,n.h8i,a.Fj,a.JJ,a.On,n.rs,n.q51,Z.hx],encapsulation:2}),o})();function q(o,i){1&o&&(t.TgZ(0,"span",16),t._uU(1," Campo Obrigat\xf3rio "),t.qZA())}function C(o,i){1&o&&(t.TgZ(0,"span",16),t._uU(1," Campo Obrigat\xf3rio "),t.qZA())}function S(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"nb-card"),t.TgZ(1,"nb-card-body"),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"span",4),t._uU(5," Nome:* "),t.qZA(),t._UZ(6,"input",5),t.YNc(7,q,2,0,"span",6),t.qZA(),t.TgZ(8,"div",7),t.TgZ(9,"span",4),t._uU(10," Categoria:* "),t.qZA(),t._UZ(11,"br"),t.TgZ(12,"nb-select",8),t.TgZ(13,"nb-option",9),t._uU(14,"S\xf3cio Fundador"),t.qZA(),t.TgZ(15,"nb-option",10),t._uU(16,"S\xf3cio Efetivo"),t.qZA(),t.TgZ(17,"nb-option",11),t._uU(18,"Tempor\xe1rio"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",12),t.TgZ(20,"span",4),t._uU(21," Valor:* "),t.qZA(),t._UZ(22,"input",13),t.YNc(23,C,2,0,"span",6),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"nb-card-footer"),t.TgZ(25,"button",14),t.NdJ("click",function(){return t.CHM(e),t.oxw().back()}),t._uU(26," Voltar "),t.qZA(),t.TgZ(27,"button",15),t._uU(28," Enviar "),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(6),t.Q6J("status",e.getStatus(e.name())),t.xp6(1),t.Q6J("ngIf",e.isSubmmited&&e.name().hasError("required")),t.xp6(5),t.Q6J("status",e.getStatus(e.category())),t.xp6(10),t.Q6J("thousandSeparator",".")("decimalMarker",",")("dropSpecialCharacters",!0)("status",e.getStatus(e.value())),t.xp6(1),t.Q6J("ngIf",e.isSubmmited&&e.value().hasError("required"))}}let y=(()=>{class o{constructor(e,r,u,l,m,J){this.toast=e,this.dataService=r,this.fb=u,this.service=l,this.activatedRoute=m,this.router=J,this.isSubmmited=!1,this.init=!1,this.loading=!1}ngOnInit(){const e=this.dataService.item;e||this.back(),this.createForm(e),this.init=!0}createForm(e){this.form=this.fb.group({name:[e.name,a.kI.required],category:[e.category,[a.kI.required]],value:[e.value,[a.kI.required]],createdAt:[e.createdAt,[a.kI.required]],active:[e.active,[a.kI.required]],updatedAt:[Date(),[a.kI.required]]})}onSubmit(){this.isSubmmited=!0,!this.form.invalid&&(this.loading=!0,this.service.add(this.form.value).then(e=>{this.toast.default(null==e?void 0:e.id,"Dado salvo"),this.loading=!1,this.back()},()=>{this.loading=!1}))}back(){this.router.navigate(["./../list"],{relativeTo:this.activatedRoute})}getStatus(e){return this.isSubmmited?e.valid?"success":"danger":"basic"}name(){return this.form.get("name")}category(){return this.form.get("category")}value(){return this.form.get("value")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(n.quB),t.Y36(f),t.Y36(a.qu),t.Y36(g),t.Y36(s.gz),t.Y36(s.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ngx-group-edit"]],decls:2,vars:3,consts:[[1,"form",3,"formGroup","nbSpinner","ngSubmit"],[4,"ngIf"],[1,"row"],[1,"col-xl-8","col-md-6","col-12","form-group"],[1,"label"],["type","text","nbInput","","fullWidth","","formControlName","name","placeholder","Nome:",1,"form-control",3,"status"],["class","text-danger label",4,"ngIf"],[1,"col-xl-4","col-md-6","col-12","form-group"],["placeholder","Selecione","formControlName","category","fullWidth","","title","Categoria:",3,"status"],["value","S\xf3cio Fundador"],["value","S\xf3cio Efetivo"],["value","Tempor\xe1rio"],[1,"col-md-6","col-12","form-group"],["mask","separator.2","prefix","R$ ","type","text","nbInput","","fullWidth","","formControlName","value","placeholder","Valor:",1,"form-control",3,"thousandSeparator","decimalMarker","dropSpecialCharacters","status"],["nbButton","","type","button",1,"m-1",3,"click"],["nbButton","","type","submit",1,"m-1"],[1,"text-danger","label"]],template:function(e,r){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.YNc(1,S,29,8,"nb-card",1),t.qZA()),2&e&&(t.Q6J("formGroup",r.form)("nbSpinner",r.loading),t.xp6(1),t.Q6J("ngIf",r.init))},directives:[a._Y,a.JL,a.sg,n.Q7R,p.O5,n.Asz,n.yKW,n.h8i,a.Fj,a.JJ,a.u,n.rs,n.q51,Z.hx,n.XWE,n.DPz],styles:[""]}),o})();function x(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td",17),t._uU(2),t.qZA(),t.TgZ(3,"td",17),t._uU(4),t.qZA(),t.TgZ(5,"td",17),t._uU(6),t.ALo(7,"currency"),t.qZA(),t.TgZ(8,"td"),t.TgZ(9,"button",18),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw().edit(l)}),t._UZ(10,"nb-icon",19),t.qZA(),t.qZA(),t.TgZ(11,"td"),t.TgZ(12,"button",20),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw().delete(l)}),t._UZ(13,"nb-icon",21),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=i.$implicit;t.xp6(2),t.Oqu(null==e?null:e.category),t.xp6(2),t.Oqu(null==e?null:e.name),t.xp6(2),t.Oqu(t.lcZ(7,3,null==e?null:e.value))}}const G=[{path:"",component:(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["ngx-group"]],decls:5,vars:0,consts:[["pack","eva","icon","people-outline"]],template:function(e,r){1&e&&(t.TgZ(0,"nb-card"),t.TgZ(1,"nb-card-header"),t._UZ(2,"nb-icon",0),t._uU(3," Grupos "),t.qZA(),t.qZA(),t._UZ(4,"router-outlet"))},directives:[n.Asz,n.ndF,n.fMN,s.lC],encapsulation:2}),o})(),children:[{path:"add",component:v},{path:"edit",component:y},{path:"list",component:(()=>{class o{constructor(e,r,u,l){this.service=e,this.activatedRoute=r,this.router=u,this.dataService=l}ngOnInit(){this.item$=this.service.get()}add(){this.router.navigate(["./../add"],{relativeTo:this.activatedRoute})}edit(e){this.dataService.item=e,this.router.navigate(["./../edit"],{relativeTo:this.activatedRoute})}delete(e){this.dataService.item=e,this.router.navigate(["./../delete"],{relativeTo:this.activatedRoute})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(g),t.Y36(s.gz),t.Y36(s.F0),t.Y36(f))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ngx-group-list"]],decls:38,vars:3,consts:[["pack","eva","icon","funnel-outline","attr.aria-label","Filtro"],[1,"row"],[1,"col-9"],["type","text","nbInput","","fullWidth","","placeholder","Nome:"],[1,"col-2"],["type","text","nbInput","","fullWidth","","placeholder","Documento:"],[1,"col-1"],["nbButton","","fullWidth","","outline","",3,"click"],["pack","eva","icon","search-outline","attr.aria-label","adicionar usuario"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],[1,"col-7"],["colspan","2",1,"col-1"],["colspan","3"],["colspan","2"],["pack","eva","icon","plus-outline","attr.aria-label","adicionar usuario"],[4,"ngFor","ngForOf"],[1,"align-middle"],["nbButton","","fullWidth","","outline","","status","success",3,"click"],["pack","eva","icon","edit-outline","attr.aria-label","adicionar usuario"],["nbButton","","fullWidth","","outline","","status","danger",3,"click"],["pack","eva","icon","trash-2-outline","attr.aria-label","adicionar usuario"]],template:function(e,r){1&e&&(t.TgZ(0,"nb-card"),t.TgZ(1,"nb-card-header"),t.TgZ(2,"nb-accordion"),t.TgZ(3,"nb-accordion-item"),t.TgZ(4,"nb-accordion-item-header"),t._UZ(5,"nb-icon",0),t._uU(6," Filtros "),t.qZA(),t.TgZ(7,"nb-accordion-item-body"),t.TgZ(8,"div",1),t.TgZ(9,"div",2),t._UZ(10,"input",3),t.qZA(),t.TgZ(11,"div",4),t._UZ(12,"input",5),t.qZA(),t.TgZ(13,"div",6),t.TgZ(14,"button",7),t.NdJ("click",function(){return r.add()}),t._UZ(15,"nb-icon",8),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"nb-card-body"),t.TgZ(17,"div",9),t.TgZ(18,"table",10),t.TgZ(19,"thead"),t.TgZ(20,"tr"),t.TgZ(21,"th",4),t._uU(22," Categoria "),t.qZA(),t.TgZ(23,"th",11),t._uU(24," Nome "),t.qZA(),t.TgZ(25,"th",4),t._uU(26," Valor "),t.qZA(),t.TgZ(27,"th",12),t._uU(28,"A\xe7\xf5es"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(29,"thead"),t.TgZ(30,"tr"),t._UZ(31,"th",13),t.TgZ(32,"th",14),t.TgZ(33,"button",7),t.NdJ("click",function(){return r.add()}),t._UZ(34,"nb-icon",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"tbody"),t.YNc(36,x,14,5,"tr",16),t.ALo(37,"async"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(36),t.Q6J("ngForOf",t.lcZ(37,1,r.item$)))},directives:[n.Asz,n.ndF,n.qCO,n.SaG,n.YZd,n.fMN,n.AvE,n.h8i,n.DPz,n.yKW,p.sg],pipes:[p.Ov,p.H9],styles:[""]}),o})()},{path:"delete",component:A},{path:"",redirectTo:"list"}]},{path:"**",redirectTo:""}];let U=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[s.Bz.forChild(G)],s.Bz]}),o})();var F=d(841);let k=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[g],imports:[[p.ez,U,a.UX,a.u5,n.uuI,n.KdK,n.oGl,n.zyh,n.T2N,n.nKr,Z.yI.forChild(),n.IIj,F.JX]]}),o})()}}]);