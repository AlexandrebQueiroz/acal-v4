(function(){var Mt,Xt,Dn,ge,Fn,Ln,xt,Nt,Ie,j,xe,We,$e,ne,et,Me,qe,Q,q,me,te,re,oe,Be,fe,Re,at,pt,dt,Le,Ce,Se,Je,Et,gt,Dt,Pe,ct,ut,Tt,ve,Qe,Ct,He,_t,Lt,Ot,rn,Qt=[].slice,Cn={}.hasOwnProperty,cn=function(lt,Ae){function mt(){this.constructor=lt}for(var vt in Ae)Cn.call(Ae,vt)&&(lt[vt]=Ae[vt]);return mt.prototype=Ae.prototype,lt.prototype=new mt,lt.__super__=Ae.prototype,lt},wn=[].indexOf||function(lt){for(var Ae=0,mt=this.length;mt>Ae;Ae++)if(Ae in this&&this[Ae]===lt)return Ae;return-1};for(te={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},dt=function(){var lt;return null!=(lt="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?lt:+new Date},Ce=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,me=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==Ce&&(Ce=function(lt){return setTimeout(lt,50)},me=function(lt){return clearTimeout(lt)}),Je=function(lt){var Ae,mt;return Ae=dt(),(mt=function(){var vt;return(vt=dt()-Ae)>=33?(Ae=dt(),lt(vt,function(){return Ce(mt)})):setTimeout(mt,33-vt)})()},Se=function(){var lt,Ae,mt;return mt=arguments[0],Ae=arguments[1],lt=3<=arguments.length?Qt.call(arguments,2):[],"function"==typeof mt[Ae]?mt[Ae].apply(mt,lt):mt[Ae]},re=function(){var lt,Ae,mt,vt,Ye,kt,Ft;for(Ae=arguments[0],kt=0,Ft=(vt=2<=arguments.length?Qt.call(arguments,1):[]).length;Ft>kt;kt++)if(mt=vt[kt])for(lt in mt)Cn.call(mt,lt)&&(Ye=mt[lt],null!=Ae[lt]&&"object"==typeof Ae[lt]&&null!=Ye&&"object"==typeof Ye?re(Ae[lt],Ye):Ae[lt]=Ye);return Ae},qe=function(lt){var Ae,mt,Ye,kt;for(mt=Ae=0,Ye=0,kt=lt.length;kt>Ye;Ye++)mt+=Math.abs(lt[Ye]),Ae++;return mt/Ae},Be=function(lt,Ae){var mt,Ye;if(null==lt&&(lt="options"),null==Ae&&(Ae=!0),Ye=document.querySelector("[data-pace-"+lt+"]")){if(mt=Ye.getAttribute("data-pace-"+lt),!Ae)return mt;try{return JSON.parse(mt)}catch(kt){return"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",kt):void 0}}},xt=function(){function lt(){}return lt.prototype.on=function(Ae,mt,vt,Ye){var kt;return null==Ye&&(Ye=!1),null==this.bindings&&(this.bindings={}),null==(kt=this.bindings)[Ae]&&(kt[Ae]=[]),this.bindings[Ae].push({handler:mt,ctx:vt,once:Ye})},lt.prototype.once=function(Ae,mt,vt){return this.on(Ae,mt,vt,!0)},lt.prototype.off=function(Ae,mt){var vt,Ye,kt;if(null!=(null!=(Ye=this.bindings)?Ye[Ae]:void 0)){if(null==mt)return delete this.bindings[Ae];for(vt=0,kt=[];vt<this.bindings[Ae].length;)kt.push(this.bindings[Ae][vt].handler===mt?this.bindings[Ae].splice(vt,1):vt++);return kt}},lt.prototype.trigger=function(){var Ae,mt,vt,kt,Ft,Yt,an,$t;if(vt=arguments[0],Ae=2<=arguments.length?Qt.call(arguments,1):[],null!=(Yt=this.bindings)?Yt[vt]:void 0){for(kt=0,$t=[];kt<this.bindings[vt].length;)Ft=(an=this.bindings[vt][kt]).once,an.handler.apply(null!=(mt=an.ctx)?mt:this,Ae),$t.push(Ft?this.bindings[vt].splice(kt,1):kt++);return $t}},lt}(),j=window.Pace||{},window.Pace=j,re(j,xt.prototype),Le=j.options=re({},te,window.paceOptions,Be()),Ct=0,_t=(Ot=["ajax","document","eventLag","elements"]).length;_t>Ct;Ct++)!0===Le[Pe=Ot[Ct]]&&(Le[Pe]=te[Pe]);Ie=function(lt){function Ae(){return Ae.__super__.constructor.apply(this,arguments)}return cn(Ae,lt),Ae}(Error),Xt=function(){function lt(){this.progress=0}return lt.prototype.getElement=function(){var Ae;if(null==this.el){if(!(Ae=document.querySelector(Le.target)))throw new Ie;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=Ae.firstChild?Ae.insertBefore(this.el,Ae.firstChild):Ae.appendChild(this.el)}return this.el},lt.prototype.finish=function(){var Ae;return(Ae=this.getElement()).className=Ae.className.replace("pace-active",""),Ae.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},lt.prototype.update=function(Ae){return this.progress=Ae,this.render()},lt.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(Ae){Ie=Ae}return this.el=void 0},lt.prototype.render=function(){var Ae,vt,Ye,kt,Ft,Yt;if(null==document.querySelector(Le.target))return!1;for(Ae=this.getElement(),Ye="translate3d("+this.progress+"%, 0, 0)",kt=0,Ft=(Yt=["webkitTransform","msTransform","transform"]).length;Ft>kt;kt++)Ae.children[0].style[Yt[kt]]=Ye;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(Ae.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),this.progress>=100?vt="99":(vt=this.progress<10?"0":"",vt+=0|this.progress),Ae.children[0].setAttribute("data-progress",""+vt)),this.lastRenderedProgress=this.progress},lt.prototype.done=function(){return this.progress>=100},lt}(),Nt=function(){function lt(){this.bindings={}}return lt.prototype.trigger=function(Ae,mt){var Ye,kt,Ft,Yt;if(null!=this.bindings[Ae]){for(Yt=[],Ye=0,kt=(Ft=this.bindings[Ae]).length;kt>Ye;Ye++)Yt.push(Ft[Ye].call(this,mt));return Yt}},lt.prototype.on=function(Ae,mt){var vt;return null==(vt=this.bindings)[Ae]&&(vt[Ae]=[]),this.bindings[Ae].push(mt)},lt}(),Qe=window.XMLHttpRequest,ve=window.XDomainRequest,Tt=window.WebSocket,oe=function(lt,Ae){var vt,Ye;for(vt in Ye=[],Ae.prototype)try{Ye.push(null==lt[vt]&&"function"!=typeof Ae[vt]?"function"==typeof Object.defineProperty?Object.defineProperty(lt,vt,{get:function(){return Ae.prototype[vt]},configurable:!0,enumerable:!0}):lt[vt]=Ae.prototype[vt]:void 0)}catch(kt){}return Ye},at=[],j.ignore=function(){var lt,Ae,mt;return Ae=arguments[0],lt=2<=arguments.length?Qt.call(arguments,1):[],at.unshift("ignore"),mt=Ae.apply(null,lt),at.shift(),mt},j.track=function(){var lt,Ae,mt;return Ae=arguments[0],lt=2<=arguments.length?Qt.call(arguments,1):[],at.unshift("track"),mt=Ae.apply(null,lt),at.shift(),mt},Dt=function(lt){var Ae;return null==lt&&(lt="GET"),"track"===at[0]?"force":!(at.length||!Le.ajax||!("socket"===lt&&Le.ajax.trackWebSockets||(Ae=lt.toUpperCase(),wn.call(Le.ajax.trackMethods,Ae)>=0)))},xe=function(lt){function Ae(){var mt,vt=this;Ae.__super__.constructor.apply(this,arguments),mt=function(Ye){var kt;return kt=Ye.open,Ye.open=function(Ft,Yt,an){return Dt(Ft)&&vt.trigger("request",{type:Ft,url:Yt,request:Ye}),kt.apply(Ye,arguments)}},window.XMLHttpRequest=function(Ye){var kt;return kt=new Qe(Ye),mt(kt),kt};try{oe(window.XMLHttpRequest,Qe)}catch(Ye){}if(null!=ve){window.XDomainRequest=function(){var Ye;return Ye=new ve,mt(Ye),Ye};try{oe(window.XDomainRequest,ve)}catch(Ye){}}if(null!=Tt&&Le.ajax.trackWebSockets){window.WebSocket=function(Ye,kt){var Ft;return Ft=null!=kt?new Tt(Ye,kt):new Tt(Ye),Dt("socket")&&vt.trigger("request",{type:"socket",url:Ye,protocols:kt,request:Ft}),Ft};try{oe(window.WebSocket,Tt)}catch(Ye){}}}return cn(Ae,lt),Ae}(Nt),He=null,gt=function(lt){var Ae,mt,vt,Ye;for(mt=0,vt=(Ye=Le.ajax.ignoreURLs).length;vt>mt;mt++)if("string"==typeof(Ae=Ye[mt])){if(-1!==lt.indexOf(Ae))return!0}else if(Ae.test(lt))return!0;return!1},(fe=function(){return null==He&&(He=new xe),He})().on("request",function(lt){var Ae,mt,vt,Ye;return Ye=lt.type,vt=lt.request,gt(lt.url)||j.running||!1===Le.restartOnRequestAfter&&"force"!==Dt(Ye)?void 0:(mt=arguments,"boolean"==typeof(Ae=Le.restartOnRequestAfter||0)&&(Ae=0),setTimeout(function(){var Yt,an,$t,Fe,nt;if("socket"===Ye?vt.readyState<2:0<($t=vt.readyState)&&4>$t){for(j.restart(),nt=[],Yt=0,an=(Fe=j.sources).length;an>Yt;Yt++){if((Pe=Fe[Yt])instanceof Mt){Pe.watch.apply(Pe,mt);break}nt.push(void 0)}return nt}},Ae))}),Mt=function(){function lt(){var Ae=this;this.elements=[],fe().on("request",function(){return Ae.watch.apply(Ae,arguments)})}return lt.prototype.watch=function(Ae){var mt,vt,Ye;return Ye=Ae.type,mt=Ae.request,gt(Ae.url)?void 0:(vt="socket"===Ye?new ne(mt):new et(mt),this.elements.push(vt))},lt}(),et=function(Ae){var Ye,kt,Ft,Yt,an=this;if(this.progress=0,null!=window.ProgressEvent)for(Ae.addEventListener("progress",function($t){return an.progress=$t.lengthComputable?100*$t.loaded/$t.total:an.progress+(100-an.progress)/2},!1),Ye=0,kt=(Yt=["load","abort","timeout","error"]).length;kt>Ye;Ye++)Ae.addEventListener(Yt[Ye],function(){return an.progress=100},!1);else Ft=Ae.onreadystatechange,Ae.onreadystatechange=function(){var $t;return 0===($t=Ae.readyState)||4===$t?an.progress=100:3===Ae.readyState&&(an.progress=50),"function"==typeof Ft?Ft.apply(null,arguments):void 0}},ne=function(Ae){var vt,Ye,kt,Ft=this;for(this.progress=0,vt=0,Ye=(kt=["error","open"]).length;Ye>vt;vt++)Ae.addEventListener(kt[vt],function(){return Ft.progress=100},!1)},ge=function(Ae){var vt,Ye,kt;for(null==Ae&&(Ae={}),this.elements=[],null==Ae.selectors&&(Ae.selectors=[]),vt=0,Ye=(kt=Ae.selectors).length;Ye>vt;vt++)this.elements.push(new Fn(kt[vt]))},Fn=function(){function lt(Ae){this.selector=Ae,this.progress=0,this.check()}return lt.prototype.check=function(){var Ae=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return Ae.check()},Le.elements.checkInterval)},lt.prototype.done=function(){return this.progress=100},lt}(),Dn=function(){function lt(){var Ae,mt,vt=this;this.progress=null!=(mt=this.states[document.readyState])?mt:100,Ae=document.onreadystatechange,document.onreadystatechange=function(){return null!=vt.states[document.readyState]&&(vt.progress=vt.states[document.readyState]),"function"==typeof Ae?Ae.apply(null,arguments):void 0}}return lt.prototype.states={loading:0,interactive:50,complete:100},lt}(),Ln=function(){var Ae,mt,vt,Ye,kt,Ft=this;this.progress=0,Ae=0,kt=[],Ye=0,vt=dt(),mt=setInterval(function(){var Yt;return Yt=dt()-vt-50,vt=dt(),kt.push(Yt),kt.length>Le.eventLag.sampleCount&&kt.shift(),Ae=qe(kt),++Ye>=Le.eventLag.minSamples&&Ae<Le.eventLag.lagThreshold?(Ft.progress=100,clearInterval(mt)):Ft.progress=3/(Ae+3)*100},50)},$e=function(){function lt(Ae){this.source=Ae,this.last=this.sinceLastUpdate=0,this.rate=Le.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=Se(this.source,"progress"))}return lt.prototype.tick=function(Ae,mt){var vt;return null==mt&&(mt=Se(this.source,"progress")),mt>=100&&(this.done=!0),mt===this.last?this.sinceLastUpdate+=Ae:(this.sinceLastUpdate&&(this.rate=(mt-this.last)/this.sinceLastUpdate),this.catchup=(mt-this.progress)/Le.catchupTime,this.sinceLastUpdate=0,this.last=mt),mt>this.progress&&(this.progress+=this.catchup*Ae),vt=1-Math.pow(this.progress/100,Le.easeFactor),this.progress+=vt*this.rate*Ae,this.progress=Math.min(this.lastProgress+Le.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},lt}(),ct=null,Et=null,Q=null,ut=null,Me=null,q=null,j.running=!1,Re=function(){return Le.restartOnPushState?j.restart():void 0},null!=window.history.pushState&&(Lt=window.history.pushState,window.history.pushState=function(){return Re(),Lt.apply(window.history,arguments)}),null!=window.history.replaceState&&(rn=window.history.replaceState,window.history.replaceState=function(){return Re(),rn.apply(window.history,arguments)}),We={ajax:Mt,elements:ge,document:Dn,eventLag:Ln},(pt=function(){var lt,Ae,mt,vt,Ye,kt,Ft,Yt;for(j.sources=ct=[],Ae=0,vt=(kt=["ajax","elements","document","eventLag"]).length;vt>Ae;Ae++)!1!==Le[lt=kt[Ae]]&&ct.push(new We[lt](Le[lt]));for(mt=0,Ye=(Yt=null!=(Ft=Le.extraSources)?Ft:[]).length;Ye>mt;mt++)ct.push(new(Pe=Yt[mt])(Le));return j.bar=Q=new Xt,Et=[],ut=new $e})(),j.stop=function(){return j.trigger("stop"),j.running=!1,Q.destroy(),q=!0,null!=Me&&("function"==typeof me&&me(Me),Me=null),pt()},j.restart=function(){return j.trigger("restart"),j.stop(),j.start()},j.go=function(){var lt;return j.running=!0,Q.render(),lt=dt(),q=!1,Me=Je(function(Ae,mt){var Ye,kt,Yt,an,$t,nt,ht,Bt,bt,st,Rt,Ut,Vt;for(Ye=Bt=0,kt=!0,an=bt=0,Rt=ct.length;Rt>bt;an=++bt)for(Pe=ct[an],ht=null!=Et[an]?Et[an]:Et[an]=[],$t=st=0,Ut=(Yt=null!=(Vt=Pe.elements)?Vt:[Pe]).length;Ut>st;$t=++st)kt&=(nt=null!=ht[$t]?ht[$t]:ht[$t]=new $e(Yt[$t])).done,nt.done||(Ye++,Bt+=nt.tick(Ae));return Q.update(ut.tick(Ae,Bt/Ye)),Q.done()||kt||q?(Q.update(100),j.trigger("done"),setTimeout(function(){return Q.finish(),j.running=!1,j.trigger("hide")},Math.max(Le.ghostTime,Math.max(Le.minTime-(dt()-lt),0)))):mt()})},j.start=function(lt){re(Le,lt),j.running=!0;try{Q.render()}catch(Ae){Ie=Ae}return document.querySelector(".pace")?(j.trigger("start"),j.go()):setTimeout(j.start,50)},"function"==typeof define&&define.amd?define(["pace"],function(){return j}):"object"==typeof exports?module.exports=j:Le.startOnPageLoad&&j.start()}).call(this),function(Mt,Xt){"use strict";function ge(_,w,g){if("string"!=typeof _)throw"invalid module definition, module id must be defined and be a string";if(w===Xt)throw"invalid module definition, dependencies must be specified";if(g===Xt)throw"invalid module definition, definition function must be specified";!function(_,w){for(var g,f=[],i=0;i<_.length;++i){if(!(g=Nt[_[i]]||Ln(_[i])))throw"module definition dependecy not found: "+_[i];f.push(g)}w.apply(null,f)}(w,function(){Nt[_]=g.apply(null,arguments)})}function Ln(_){for(var w=Mt,g=_.split(/[.\/]/),f=0;f<g.length;++f){if(!w[g[f]])return;w=w[g[f]]}return w}var Nt={},Ie="tinymce/geom/Rect",j="tinymce/util/Promise",xe="tinymce/util/Delay",We="tinymce/Env",$e="tinymce/dom/EventUtils",ne="tinymce/dom/Sizzle",et="tinymce/util/Arr",Me="tinymce/util/Tools",qe="tinymce/dom/DomQuery",Q="tinymce/html/Styles",q="tinymce/dom/TreeWalker",me="tinymce/dom/Range",te="tinymce/html/Entities",re="tinymce/dom/StyleSheetLoader",oe="tinymce/dom/DOMUtils",Be="tinymce/dom/ScriptLoader",fe="tinymce/AddOnManager",Re="tinymce/dom/NodeType",at="tinymce/text/Zwsp",pt="tinymce/caret/CaretContainer",dt="tinymce/dom/RangeUtils",Le="tinymce/NodeChange",Ce="tinymce/html/Node",Se="tinymce/html/Schema",Je="tinymce/html/SaxParser",Et="tinymce/html/DomParser",gt="tinymce/html/Writer",Dt="tinymce/html/Serializer",Pe="tinymce/dom/Serializer",ct="tinymce/dom/TridentSelection",ut="tinymce/util/VK",Tt="tinymce/dom/ControlSelection",ve="tinymce/util/Fun",Qe="tinymce/caret/CaretCandidate",Ct="tinymce/geom/ClientRect",He="tinymce/text/ExtendingChar",_t="tinymce/caret/CaretPosition",Lt="tinymce/caret/CaretBookmark",Ot="tinymce/dom/BookmarkManager",sn="tinymce/dom/Selection",rn="tinymce/dom/ElementUtils",Qt="tinymce/fmt/Preview",Cn="tinymce/fmt/Hooks",cn="tinymce/Formatter",wn="tinymce/undo/Diff",lt="tinymce/undo/Fragments",Ae="tinymce/undo/Levels",mt="tinymce/UndoManager",vt="tinymce/EnterKey",Ye="tinymce/ForceBlocks",kt="tinymce/caret/CaretUtils",Ft="tinymce/caret/CaretWalker",Yt="tinymce/InsertList",an="tinymce/InsertContent",$t="tinymce/EditorCommands",Fe="tinymce/util/URI",nt="tinymce/util/Class",ht="tinymce/util/EventDispatcher",Bt="tinymce/data/Binding",bt="tinymce/util/Observable",st="tinymce/data/ObservableObject",Rt="tinymce/ui/Selector",Ut="tinymce/ui/Collection",Vt="tinymce/ui/DomUtils",Jt="tinymce/ui/BoxUtils",ln="tinymce/ui/ClassList",En="tinymce/ui/ReflowQueue",Sn="tinymce/ui/Control",Tn="tinymce/ui/Factory",Xn="tinymce/ui/KeyboardNavigation",On="tinymce/ui/Container",An="tinymce/ui/DragHelper",Mn="tinymce/ui/Scrollable",Bn="tinymce/ui/Panel",$n="tinymce/ui/Movable",Yn="tinymce/ui/Resizable",zn="tinymce/ui/FloatPanel",Kn="tinymce/ui/Window",De="tinymce/ui/MessageBox",Xe="tinymce/WindowManager",wt="tinymce/ui/Tooltip",ft="tinymce/ui/Widget",It="tinymce/ui/Progress",jt="tinymce/ui/Notification",Gt="tinymce/NotificationManager",Kt="tinymce/dom/NodePath",Zt="tinymce/util/Quirks",tn="tinymce/EditorObservable",fn="tinymce/Mode",hn="tinymce/Shortcuts",Nn="tinymce/file/Uploader",_n="tinymce/file/Conversions",Rn="tinymce/file/ImageScanner",In="tinymce/file/BlobCache",Un="tinymce/file/UploadStatus",Wn="tinymce/ErrorReporter",Vn="tinymce/EditorUpload",Gn="tinymce/caret/FakeCaret",jn="tinymce/dom/Dimensions",Cr="tinymce/caret/LineWalker",wr="tinymce/caret/LineUtils",Nr="tinymce/dom/MousePosition",Sr="tinymce/DragDropOverrides",kr="tinymce/SelectionOverrides",rr="tinymce/util/Uuid",_r="tinymce/ui/Sidebar",ir="tinymce/Editor",or="tinymce/util/I18n",ar="tinymce/FocusManager",Qn="tinymce/EditorManager",sr="tinymce/util/XHR",lr="tinymce/util/JSON",Er="tinymce/util/JSONRequest",Tr="tinymce/util/JSONP",Rr="tinymce/util/LocalStorage",Ar="tinymce/Compat",Zn="tinymce/ui/Layout",Jn="tinymce/ui/AbsoluteLayout",er="tinymce/ui/Button",Br="tinymce/ui/ButtonGroup",ur="tinymce/ui/Checkbox",tr="tinymce/ui/ComboBox",Pr="tinymce/ui/ColorBox",cr="tinymce/ui/PanelButton",Dr="tinymce/ui/ColorButton",dr="tinymce/util/Color",Mr="tinymce/ui/ColorPicker",fr="tinymce/ui/Path",Lr="tinymce/ui/ElementPath",pr="tinymce/ui/FormItem",mr="tinymce/ui/Form",Or="tinymce/ui/FieldSet",Ir="tinymce/content/LinkTargets",Hr="tinymce/ui/FilePicker",Fr="tinymce/ui/FitLayout",zr="tinymce/ui/FlexLayout",hr="tinymce/ui/FlowLayout",Ur="tinymce/fmt/FontInfo",Wr="tinymce/ui/FormatControls",Vr="tinymce/ui/GridLayout",$r="tinymce/ui/Iframe",qr="tinymce/ui/InfoBox",jr="tinymce/ui/Label",gr="tinymce/ui/Toolbar",vr="tinymce/ui/MenuBar",nr="tinymce/ui/MenuButton",br="tinymce/ui/MenuItem",yr="tinymce/ui/Throbber",xr="tinymce/ui/Menu",Xr="tinymce/ui/ListBox",Yr="tinymce/ui/Radio",Kr="tinymce/ui/ResizeHandle",Gr="tinymce/ui/SelectBox",Jr="tinymce/ui/Slider",Qr="tinymce/ui/Spacer",Zr="tinymce/ui/SplitButton",ei="tinymce/ui/StackLayout",ti="tinymce/ui/TabPanel",ni="tinymce/ui/TextBox";ge(Ie,[],function(){function _(u,d,m){var b,p,x,h,N,l;return b=d.x,p=d.y,x=u.w,h=u.h,N=d.w,l=d.h,"b"===(m=(m||"").split(""))[0]&&(p+=l),"r"===m[1]&&(b+=N),"c"===m[0]&&(p+=v(l/2)),"c"===m[1]&&(b+=v(N/2)),"b"===m[3]&&(p-=h),"r"===m[4]&&(b-=x),"c"===m[3]&&(p-=v(h/2)),"c"===m[4]&&(b-=v(x/2)),s(b,p,x,h)}function s(u,d,m,b){return{x:u,y:d,w:m,h:b}}var r=Math.min,o=Math.max,v=Math.round;return{inflate:function(u,d,m){return s(u.x-d,u.y-m,u.w+2*d,u.h+2*m)},relativePosition:_,findBestRelativePosition:function(u,d,m,b){var p,x;for(x=0;x<b.length;x++)if((p=_(u,d,b[x])).x>=m.x&&p.x+p.w<=m.w+m.x&&p.y>=m.y&&p.y+p.h<=m.h+m.y)return b[x];return null},intersect:function(u,d){var m,b,p,x;return m=o(u.x,d.x),b=o(u.y,d.y),p=r(u.x+u.w,d.x+d.w),x=r(u.y+u.h,d.y+d.h),p-m<0||x-b<0?null:s(m,b,p-m,x-b)},clamp:function(u,d,m){var b,p,x,h,N,l,c,a,e,n;return l=u.y,c=u.x+u.w,a=u.y+u.h,e=d.x+d.w,n=d.y+d.h,b=o(0,d.x-(N=u.x)),p=o(0,d.y-l),x=o(0,c-e),h=o(0,a-n),N+=b,l+=p,m&&(c+=b,a+=p,N-=x,l-=h),s(N,l,(c-=x)-N,(a-=h)-l)},create:s,fromClientRect:function(u){return s(u.left,u.top,u.width,u.height)}}}),ge(j,[],function(){function _(u,d){return function(){u.apply(d,arguments)}}function w(u){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof u)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],r(u,_(f,this),_(i,this))}function g(u){var d=this;return null===this._state?void this._deferreds.push(u):void o(function(){var m=d._state?u.onFulfilled:u.onRejected;if(null!==m){var b;try{b=m(d._value)}catch(p){return void u.reject(p)}u.resolve(b)}else(d._state?u.resolve:u.reject)(d._value)})}function f(u){try{if(u===this)throw new TypeError("A promise cannot be resolved with itself.");if(u&&("object"==typeof u||"function"==typeof u)){var d=u.then;if("function"==typeof d)return void r(_(d,u),_(f,this),_(i,this))}this._state=!0,this._value=u,s.call(this)}catch(m){i.call(this,m)}}function i(u){this._state=!1,this._value=u,s.call(this)}function s(){for(var u=0,d=this._deferreds.length;u<d;u++)g.call(this,this._deferreds[u]);this._deferreds=null}function t(u,d,m,b){this.onFulfilled="function"==typeof u?u:null,this.onRejected="function"==typeof d?d:null,this.resolve=m,this.reject=b}function r(u,d,m){var b=!1;try{u(function(p){b||(b=!0,d(p))},function(p){b||(b=!0,m(p))})}catch(p){if(b)return;b=!0,m(p)}}if(window.Promise)return window.Promise;var o=w.immediateFn||"function"==typeof setImmediate&&setImmediate||function(u){setTimeout(u,1)},v=Array.isArray||function(u){return"[object Array]"===Object.prototype.toString.call(u)};return w.prototype.catch=function(u){return this.then(null,u)},w.prototype.then=function(u,d){var m=this;return new w(function(b,p){g.call(m,new t(u,d,b,p))})},w.all=function(){var u=Array.prototype.slice.call(1===arguments.length&&v(arguments[0])?arguments[0]:arguments);return new w(function(d,m){function b(h,N){try{if(N&&("object"==typeof N||"function"==typeof N)){var l=N.then;if("function"==typeof l)return void l.call(N,function(c){b(h,c)},m)}u[h]=N,0==--p&&d(u)}catch(c){m(c)}}if(0===u.length)return d([]);for(var p=u.length,x=0;x<u.length;x++)b(x,u[x])})},w.resolve=function(u){return u&&"object"==typeof u&&u.constructor===w?u:new w(function(d){d(u)})},w.reject=function(u){return new w(function(d,m){m(u)})},w.race=function(u){return new w(function(d,m){for(var b=0,p=u.length;b<p;b++)u[b].then(d,m)})},w}),ge(xe,[j],function(_){function g(o,v){return"number"!=typeof v&&(v=0),setTimeout(o,v)}function f(o,v){return"number"!=typeof v&&(v=1),setInterval(o,v)}function t(o,v){var u,d;return d=function(){var m=arguments;clearTimeout(u),u=g(function(){o.apply(this,m)},v)},d.stop=function(){clearTimeout(u)},d}var r;return{requestAnimationFrame:function(o,v){return r?void r.then(o):void(r=new _(function(u){v||(v=document.body),function(o,v){var d,m=window.requestAnimationFrame,b=["ms","moz","webkit"];for(d=0;d<b.length&&!m;d++)m=window[b[d]+"RequestAnimationFrame"];m||(m=function(p){window.setTimeout(p,0)}),m(o,v)}(u,v)}).then(o))},setTimeout:g,setInterval:f,setEditorTimeout:function(o,v,u){return g(function(){o.removed||v()},u)},setEditorInterval:function(o,v,u){var d;return d=f(function(){o.removed?clearInterval(d):v()},u)},debounce:t,throttle:t,clearInterval:function(o){return clearInterval(o)},clearTimeout:function(o){return clearTimeout(o)}}}),ge(We,[],function(){function _(N){return"matchMedia"in window&&matchMedia(N).matches}var f,i,s,t,r,o,v,u,d,m,b,p,x,w=navigator,g=w.userAgent;return f=window.opera&&window.opera.buildNumber,d=/Android/.test(g),s=(s=!(i=/WebKit/.test(g))&&!f&&/MSIE/gi.test(g)&&/Explorer/gi.test(w.appName))&&/MSIE (\w+)\./.exec(g)[1],t=-1!=g.indexOf("Trident/")&&(-1!=g.indexOf("rv:")||-1!=w.appName.indexOf("Netscape"))&&11,r=-1!=g.indexOf("Edge/")&&!s&&!t&&12,s=s||t||r,o=!i&&!t&&/Gecko/.test(g),v=-1!=g.indexOf("Mac"),u=/(iPad|iPhone)/.test(g),m="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,b=_("only screen and (max-device-width: 480px)")&&(d||u),p=_("only screen and (min-width: 800px)")&&(d||u),x=-1!=g.indexOf("Windows Phone"),r&&(i=!1),{opera:f,webkit:i,ie:s,gecko:o,mac:v,iOS:u,android:d,contentEditable:!u||m||g.match(/AppleWebKit\/(\d*)/)[1]>=534,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=s,range:window.getSelection&&"Range"in window,documentMode:s&&!r?document.documentMode||7:10,fileApi:m,ceFalse:!1===s||s>8,canHaveCSP:!1===s||s>11,desktop:!b&&!p,windowsPhone:x}}),ge($e,[xe,We],function(_,w){function g(d,m,b,p){d.addEventListener?d.addEventListener(m,b,p||!1):d.attachEvent&&d.attachEvent("on"+m,b)}function f(d,m,b,p){d.removeEventListener?d.removeEventListener(m,b,p||!1):d.detachEvent&&d.detachEvent("on"+m,b)}function s(d,m){function b(){return!1}function p(){return!0}var x,N,h=m||{};for(x in d)u[x]||(h[x]=d[x]);if(h.target||(h.target=h.srcElement||document),w.experimentalShadowDom&&(h.target=function(d,m){var b,p=m;return(b=d.path)&&b.length>0&&(p=b[0]),d.deepPath&&(b=d.deepPath())&&b.length>0&&(p=b[0]),p}(d,h.target)),d&&v.test(d.type)&&d.pageX===N&&d.clientX!==N){var l=h.target.ownerDocument||document,c=l.documentElement,a=l.body;h.pageX=d.clientX+(c&&c.scrollLeft||a&&a.scrollLeft||0)-(c&&c.clientLeft||a&&a.clientLeft||0),h.pageY=d.clientY+(c&&c.scrollTop||a&&a.scrollTop||0)-(c&&c.clientTop||a&&a.clientTop||0)}return h.preventDefault=function(){h.isDefaultPrevented=p,d&&(d.preventDefault?d.preventDefault():d.returnValue=!1)},h.stopPropagation=function(){h.isPropagationStopped=p,d&&(d.stopPropagation?d.stopPropagation():d.cancelBubble=!0)},h.stopImmediatePropagation=function(){h.isImmediatePropagationStopped=p,h.stopPropagation()},h.isDefaultPrevented||(h.isDefaultPrevented=b,h.isPropagationStopped=b,h.isImmediatePropagationStopped=b),void 0===h.metaKey&&(h.metaKey=!1),h}function t(d,m,b){function p(){b.domLoaded||(b.domLoaded=!0,m(l))}var N=d.document,l={type:"ready"};return b.domLoaded?void m(l):(N.addEventListener?"complete"===N.readyState?p():g(d,"DOMContentLoaded",p):(g(N,"readystatechange",function x(){("complete"===N.readyState||"interactive"===N.readyState&&N.body)&&(f(N,"readystatechange",x),p())}),N.documentElement.doScroll&&d.self===d.top&&function h(){try{N.documentElement.doScroll("left")}catch(c){return void _.setTimeout(h)}p()}()),void g(d,"load",p))}function r(){function d(c,a){var e,n,y,S,C=b[a];if(e=C&&C[c.type])for(n=0,y=e.length;n<y;n++)if((S=e[n])&&!1===S.func.call(S.scope,c)&&c.preventDefault(),c.isImmediatePropagationStopped())return}var p,x,h,N,l,m=this,b={};x=o+(+new Date).toString(32),N="onmouseenter"in document.documentElement,h="onfocusin"in document.documentElement,l={mouseenter:"mouseover",mouseleave:"mouseout"},p=1,m.domLoaded=!1,m.events=b,m.bind=function(c,a,e,n){function y(L){d(s(L||O.event),S)}var S,C,k,T,I,M,D,O=window;if(c&&3!==c.nodeType&&8!==c.nodeType){for(c[x]?S=c[x]:(S=p++,c[x]=S,b[S]={}),n=n||c,k=(a=a.split(" ")).length;k--;)M=y,I=D=!1,"DOMContentLoaded"===(T=a[k])&&(T="ready"),m.domLoaded&&"ready"===T&&"complete"==c.readyState?e.call(n,s({type:T})):(N||(I=l[T])&&(M=function(L){var U,W;if(U=L.currentTarget,(W=L.relatedTarget)&&U.contains)W=U.contains(W);else for(;W&&W!==U;)W=W.parentNode;W||((L=s(L||O.event)).type="mouseout"===L.type?"mouseleave":"mouseenter",L.target=U,d(L,S))}),h||"focusin"!==T&&"focusout"!==T||(D=!0,I="focusin"===T?"focus":"blur",M=function(L){(L=s(L||O.event)).type="focus"===L.type?"focusin":"focusout",d(L,S)}),(C=b[S][T])?"ready"===T&&m.domLoaded?e({type:T}):C.push({func:e,scope:n}):(b[S][T]=C=[{func:e,scope:n}],C.fakeName=I,C.capture=D,C.nativeHandler=M,"ready"===T?t(c,M,m):g(c,I||T,M,D)));return c=C=0,e}},m.unbind=function(c,a,e){var n,y,S,C,k,T;if(!c||3===c.nodeType||8===c.nodeType)return m;if(n=c[x]){if(T=b[n],a){for(S=(a=a.split(" ")).length;S--;)if(y=T[k=a[S]]){if(e)for(C=y.length;C--;)if(y[C].func===e){var I=y.nativeHandler,M=y.fakeName,D=y.capture;(y=y.slice(0,C).concat(y.slice(C+1))).nativeHandler=I,y.fakeName=M,y.capture=D,T[k]=y}e&&0!==y.length||(delete T[k],f(c,y.fakeName||k,y.nativeHandler,y.capture))}}else{for(k in T)f(c,(y=T[k]).fakeName||k,y.nativeHandler,y.capture);T={}}for(k in T)return m;delete b[n];try{delete c[x]}catch(O){c[x]=null}}return m},m.fire=function(c,a,e){var n;if(!c||3===c.nodeType||8===c.nodeType)return m;(e=s(null,e)).type=a,e.target=c;do{(n=c[x])&&d(e,n),c=c.parentNode||c.ownerDocument||c.defaultView||c.parentWindow}while(c&&!e.isPropagationStopped());return m},m.clean=function(c){var a,e,n=m.unbind;if(!c||3===c.nodeType||8===c.nodeType)return m;if(c[x]&&n(c),c.getElementsByTagName||(c=c.document),c&&c.getElementsByTagName)for(n(c),a=(e=c.getElementsByTagName("*")).length;a--;)(c=e[a])[x]&&n(c);return m},m.destroy=function(){b={}},m.cancel=function(c){return c&&(c.preventDefault(),c.stopImmediatePropagation()),!1}}var o="mce-data-",v=/^(?:mouse|contextmenu)|click/,u={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1};return(r.Event=new r).bind(window,"ready",function(){}),r}),ge(ne,[],function(){function _(A,F,J,le){var Te,de,$,he,ye,Ze,Z,Ee,ue,Ue;if((F?F.ownerDocument||F:Y)!==O&&D(F),J=J||[],!A||"string"!=typeof A)return J;if(1!==(he=(F=F||O).nodeType)&&9!==he)return[];if(U&&!le){if(Te=Pt.exec(A))if($=Te[1]){if(9===he){if(!(de=F.getElementById($))||!de.parentNode)return J;if(de.id===$)return J.push(de),J}else if(F.ownerDocument&&(de=F.ownerDocument.getElementById($))&&H(F,de)&&de.id===$)return J.push(de),J}else{if(Te[2])return ee.apply(J,F.getElementsByTagName(A)),J;if(($=Te[3])&&a.getElementsByClassName)return ee.apply(J,F.getElementsByClassName($)),J}if(a.qsa&&(!W||!W.test(A))){if(Ee=Z=V,ue=F,Ue=9===he&&A,1===he&&"object"!==F.nodeName.toLowerCase()){for(Ze=S(A),(Z=F.getAttribute("id"))?Ee=Z.replace(zt,"\\$&"):F.setAttribute("id",Ee),Ee="[id='"+Ee+"'] ",ye=Ze.length;ye--;)Ze[ye]=Ee+d(Ze[ye]);ue=yt.test(A)&&v(F.parentNode)||F,Ue=Ze.join(",")}if(Ue)try{return ee.apply(J,ue.querySelectorAll(Ue)),J}catch(Ke){}finally{Z||F.removeAttribute("id")}}}return k(A.replace(vn,"$1"),F,J,le)}function w(){var F=[];return function A(J,le){return F.push(J+" ")>e.cacheLength&&delete A[F.shift()],A[J+" "]=le}}function g(A){return A[V]=!0,A}function f(A){var F=O.createElement("div");try{return!!A(F)}catch(J){return!1}finally{F.parentNode&&F.parentNode.removeChild(F),F=null}}function i(A,F){for(var J=A.split("|"),le=A.length;le--;)e.attrHandle[J[le]]=F}function s(A,F){var J=F&&A,le=J&&1===A.nodeType&&1===F.nodeType&&(~F.sourceIndex||R)-(~A.sourceIndex||R);if(le)return le;if(J)for(;J=J.nextSibling;)if(J===F)return-1;return A?1:-1}function t(A){return function(F){return"input"===F.nodeName.toLowerCase()&&F.type===A}}function r(A){return function(F){var J=F.nodeName.toLowerCase();return("input"===J||"button"===J)&&F.type===A}}function o(A){return g(function(F){return F=+F,g(function(J,le){for(var Te,de=A([],J.length,F),$=de.length;$--;)J[Te=de[$]]&&(J[Te]=!(le[Te]=J[Te]))})})}function v(A){return A&&typeof A.getElementsByTagName!==B&&A}function u(){}function d(A){for(var F=0,J=A.length,le="";F<J;F++)le+=A[F].value;return le}function m(A,F,J){var le=F.dir,Te=J&&"parentNode"===le,de=Oe++;return F.first?function($,he,ye){for(;$=$[le];)if(1===$.nodeType||Te)return A($,he,ye)}:function($,he,ye){var Ze,Z,Ee=[pe,de];if(ye){for(;$=$[le];)if((1===$.nodeType||Te)&&A($,he,ye))return!0}else for(;$=$[le];)if(1===$.nodeType||Te){if((Ze=(Z=$[V]||($[V]={}))[le])&&Ze[0]===pe&&Ze[1]===de)return Ee[2]=Ze[2];if(Z[le]=Ee,Ee[2]=A($,he,ye))return!0}}}function b(A){return A.length>1?function(F,J,le){for(var Te=A.length;Te--;)if(!A[Te](F,J,le))return!1;return!0}:A[0]}function x(A,F,J,le,Te){for(var de,$=[],he=0,ye=A.length,Ze=null!=F;he<ye;he++)(de=A[he])&&(J&&!J(de,le,Te)||($.push(de),Ze&&F.push(he)));return $}function h(A,F,J,le,Te,de){return le&&!le[V]&&(le=h(le)),Te&&!Te[V]&&(Te=h(Te,de)),g(function($,he,ye,Ze){var Z,Ee,ue,Ue=[],Ke=[],it=he.length,Ge=$||function(A,F,J){for(var le=0,Te=F.length;le<Te;le++)_(A,F[le],J);return J}(F||"*",ye.nodeType?[ye]:ye,[]),ot=!A||!$&&F?Ge:x(Ge,Ue,A,ye,Ze),At=J?Te||($?A:it||le)?[]:he:ot;if(J&&J(ot,At,ye,Ze),le)for(Z=x(At,Ke),le(Z,[],ye,Ze),Ee=Z.length;Ee--;)(ue=Z[Ee])&&(At[Ke[Ee]]=!(ot[Ke[Ee]]=ue));if($){if(Te||A){if(Te){for(Z=[],Ee=At.length;Ee--;)(ue=At[Ee])&&Z.push(ot[Ee]=ue);Te(null,At=[],Z,Ze)}for(Ee=At.length;Ee--;)(ue=At[Ee])&&(Z=Te?be.call($,ue):Ue[Ee])>-1&&($[Z]=!(he[Z]=ue))}}else At=x(At===he?At.splice(it,At.length):At),Te?Te(null,he,At,Ze):ee.apply(he,At)})}function N(A){for(var F,J,le,Te=A.length,de=e.relative[A[0].type],$=de||e.relative[" "],he=de?1:0,ye=m(function(Ee){return Ee===F},$,!0),Ze=m(function(Ee){return be.call(F,Ee)>-1},$,!0),Z=[function(Ee,ue,Ue){return!de&&(Ue||ue!==T)||((F=ue).nodeType?ye(Ee,ue,Ue):Ze(Ee,ue,Ue))}];he<Te;he++)if(J=e.relative[A[he].type])Z=[m(b(Z),J)];else{if((J=e.filter[A[he].type].apply(null,A[he].matches))[V]){for(le=++he;le<Te&&!e.relative[A[le].type];le++);return h(he>1&&b(Z),he>1&&d(A.slice(0,he-1).concat({value:" "===A[he-2].type?"*":""})).replace(vn,"$1"),J,he<le&&N(A.slice(he,le)),le<Te&&N(A=A.slice(le)),le<Te&&d(A))}Z.push(J)}return b(Z)}var c,a,e,n,y,S,C,k,T,I,M,D,O,L,U,W,E,P,H,V="sizzle"+-new Date,Y=window.document,pe=0,Oe=0,Ve=w(),rt=w(),je=w(),X=function(A,F){return A===F&&(M=!0),0},B=typeof Xt,R=1<<31,z={}.hasOwnProperty,G=[],se=G.pop,ce=G.push,ee=G.push,_e=G.slice,be=G.indexOf||function(A){for(var F=0,J=this.length;F<J;F++)if(this[F]===A)return F;return-1},Ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ke="[\\x20\\t\\r\\n\\f]",St="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Wt="\\["+ke+"*("+St+")(?:"+ke+"*([*^$|!~]?=)"+ke+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+St+"))|)"+ke+"*\\]",en=":("+St+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Wt+")*)|.*)\\)|)",vn=new RegExp("^"+ke+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ke+"+$","g"),un=new RegExp("^"+ke+"*,"+ke+"*"),nn=new RegExp("^"+ke+"*([>+~]|"+ke+")"+ke+"*"),bn=new RegExp("="+ke+"*([^\\]'\"]*?)"+ke+"*\\]","g"),pn=new RegExp(en),mn=new RegExp("^"+St+"$"),ze={ID:new RegExp("^#("+St+")"),CLASS:new RegExp("^\\.("+St+")"),TAG:new RegExp("^("+St+"|[*])"),ATTR:new RegExp("^"+Wt),PSEUDO:new RegExp("^"+en),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ke+"*(even|odd|(([+-]|)(\\d*)n|)"+ke+"*(?:([+-]|)"+ke+"*(\\d+)|))"+ke+"*\\)|)","i"),bool:new RegExp("^(?:"+Ne+")$","i"),needsContext:new RegExp("^"+ke+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ke+"*((?:-\\d)?\\d*)"+ke+"*\\)|)(?=[^-]|$)","i")},tt=/^(?:input|select|textarea|button)$/i,ae=/^h\d$/i,we=/^[^{]+\{\s*\[native \w/,Pt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,zt=/'|\\/g,K=new RegExp("\\\\([\\da-f]{1,6}"+ke+"?|("+ke+")|.)","ig"),ie=function(A,F,J){var le="0x"+F-65536;return le!=le||J?F:le<0?String.fromCharCode(le+65536):String.fromCharCode(le>>10|55296,1023&le|56320)};try{ee.apply(G=_e.call(Y.childNodes),Y.childNodes)}catch(A){ee={apply:G.length?function(F,J){ce.apply(F,_e.call(J))}:function(F,J){for(var le=F.length,Te=0;F[le++]=J[Te++];);F.length=le-1}}}for(c in a=_.support={},y=_.isXML=function(A){var F=A&&(A.ownerDocument||A).documentElement;return!!F&&"HTML"!==F.nodeName},D=_.setDocument=function(A){var J,le=A?A.ownerDocument||A:Y,Te=le.defaultView;return le!==O&&9===le.nodeType&&le.documentElement?(O=le,L=le.documentElement,U=!y(le),Te&&Te!==function(de){try{return de.top}catch($){}return null}(Te)&&(Te.addEventListener?Te.addEventListener("unload",function(){D()},!1):Te.attachEvent&&Te.attachEvent("onunload",function(){D()})),a.attributes=f(function(de){return de.className="i",!de.getAttribute("className")}),a.getElementsByTagName=f(function(de){return de.appendChild(le.createComment("")),!de.getElementsByTagName("*").length}),a.getElementsByClassName=we.test(le.getElementsByClassName),a.getById=f(function(de){return L.appendChild(de).id=V,!le.getElementsByName||!le.getElementsByName(V).length}),a.getById?(e.find.ID=function(de,$){if(typeof $.getElementById!==B&&U){var he=$.getElementById(de);return he&&he.parentNode?[he]:[]}},e.filter.ID=function(de){var $=de.replace(K,ie);return function(he){return he.getAttribute("id")===$}}):(delete e.find.ID,e.filter.ID=function(de){var $=de.replace(K,ie);return function(he){var ye=typeof he.getAttributeNode!==B&&he.getAttributeNode("id");return ye&&ye.value===$}}),e.find.TAG=a.getElementsByTagName?function(de,$){if(typeof $.getElementsByTagName!==B)return $.getElementsByTagName(de)}:function(de,$){var he,ye=[],Ze=0,Z=$.getElementsByTagName(de);if("*"===de){for(;he=Z[Ze++];)1===he.nodeType&&ye.push(he);return ye}return Z},e.find.CLASS=a.getElementsByClassName&&function(de,$){if(U)return $.getElementsByClassName(de)},E=[],W=[],(a.qsa=we.test(le.querySelectorAll))&&(f(function(de){de.innerHTML="<select msallowcapture=''><option selected=''></option></select>",de.querySelectorAll("[msallowcapture^='']").length&&W.push("[*^$]="+ke+"*(?:''|\"\")"),de.querySelectorAll("[selected]").length||W.push("\\["+ke+"*(?:value|"+Ne+")"),de.querySelectorAll(":checked").length||W.push(":checked")}),f(function(de){var $=le.createElement("input");$.setAttribute("type","hidden"),de.appendChild($).setAttribute("name","D"),de.querySelectorAll("[name=d]").length&&W.push("name"+ke+"*[*^$|!~]?="),de.querySelectorAll(":enabled").length||W.push(":enabled",":disabled"),de.querySelectorAll("*,:x"),W.push(",.*:")})),(a.matchesSelector=we.test(P=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&f(function(de){a.disconnectedMatch=P.call(de,"div"),P.call(de,"[s!='']:x"),E.push("!=",en)}),W=W.length&&new RegExp(W.join("|")),E=E.length&&new RegExp(E.join("|")),J=we.test(L.compareDocumentPosition),H=J||we.test(L.contains)?function(de,$){var he=9===de.nodeType?de.documentElement:de,ye=$&&$.parentNode;return de===ye||!(!ye||1!==ye.nodeType||!(he.contains?he.contains(ye):de.compareDocumentPosition&&16&de.compareDocumentPosition(ye)))}:function(de,$){if($)for(;$=$.parentNode;)if($===de)return!0;return!1},X=J?function(de,$){if(de===$)return M=!0,0;var he=!de.compareDocumentPosition-!$.compareDocumentPosition;return he||(1&(he=(de.ownerDocument||de)===($.ownerDocument||$)?de.compareDocumentPosition($):1)||!a.sortDetached&&$.compareDocumentPosition(de)===he?de===le||de.ownerDocument===Y&&H(Y,de)?-1:$===le||$.ownerDocument===Y&&H(Y,$)?1:I?be.call(I,de)-be.call(I,$):0:4&he?-1:1)}:function(de,$){if(de===$)return M=!0,0;var he,ye=0,Ze=de.parentNode,Z=$.parentNode,Ee=[de],ue=[$];if(!Ze||!Z)return de===le?-1:$===le?1:Ze?-1:Z?1:I?be.call(I,de)-be.call(I,$):0;if(Ze===Z)return s(de,$);for(he=de;he=he.parentNode;)Ee.unshift(he);for(he=$;he=he.parentNode;)ue.unshift(he);for(;Ee[ye]===ue[ye];)ye++;return ye?s(Ee[ye],ue[ye]):Ee[ye]===Y?-1:ue[ye]===Y?1:0},le):O},_.matches=function(A,F){return _(A,null,null,F)},_.matchesSelector=function(A,F){if((A.ownerDocument||A)!==O&&D(A),F=F.replace(bn,"='$1']"),a.matchesSelector&&U&&(!E||!E.test(F))&&(!W||!W.test(F)))try{var J=P.call(A,F);if(J||a.disconnectedMatch||A.document&&11!==A.document.nodeType)return J}catch(le){}return _(F,O,null,[A]).length>0},_.contains=function(A,F){return(A.ownerDocument||A)!==O&&D(A),H(A,F)},_.attr=function(A,F){(A.ownerDocument||A)!==O&&D(A);var J=e.attrHandle[F.toLowerCase()],le=J&&z.call(e.attrHandle,F.toLowerCase())?J(A,F,!U):Xt;return le!==Xt?le:a.attributes||!U?A.getAttribute(F):(le=A.getAttributeNode(F))&&le.specified?le.value:null},_.error=function(A){throw new Error("Syntax error, unrecognized expression: "+A)},_.uniqueSort=function(A){var F,J=[],le=0,Te=0;if(M=!a.detectDuplicates,I=!a.sortStable&&A.slice(0),A.sort(X),M){for(;F=A[Te++];)F===A[Te]&&(le=J.push(Te));for(;le--;)A.splice(J[le],1)}return I=null,A},n=_.getText=function(A){var F,J="",le=0,Te=A.nodeType;if(Te){if(1===Te||9===Te||11===Te){if("string"==typeof A.textContent)return A.textContent;for(A=A.firstChild;A;A=A.nextSibling)J+=n(A)}else if(3===Te||4===Te)return A.nodeValue}else for(;F=A[le++];)J+=n(F);return J},(e=_.selectors={cacheLength:50,createPseudo:g,match:ze,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(A){return A[1]=A[1].replace(K,ie),A[3]=(A[3]||A[4]||A[5]||"").replace(K,ie),"~="===A[2]&&(A[3]=" "+A[3]+" "),A.slice(0,4)},CHILD:function(A){return A[1]=A[1].toLowerCase(),"nth"===A[1].slice(0,3)?(A[3]||_.error(A[0]),A[4]=+(A[4]?A[5]+(A[6]||1):2*("even"===A[3]||"odd"===A[3])),A[5]=+(A[7]+A[8]||"odd"===A[3])):A[3]&&_.error(A[0]),A},PSEUDO:function(A){var F,J=!A[6]&&A[2];return ze.CHILD.test(A[0])?null:(A[3]?A[2]=A[4]||A[5]||"":J&&pn.test(J)&&(F=S(J,!0))&&(F=J.indexOf(")",J.length-F)-J.length)&&(A[0]=A[0].slice(0,F),A[2]=J.slice(0,F)),A.slice(0,3))}},filter:{TAG:function(A){var F=A.replace(K,ie).toLowerCase();return"*"===A?function(){return!0}:function(J){return J.nodeName&&J.nodeName.toLowerCase()===F}},CLASS:function(A){var F=Ve[A+" "];return F||(F=new RegExp("(^|"+ke+")"+A+"("+ke+"|$)"))&&Ve(A,function(J){return F.test("string"==typeof J.className&&J.className||typeof J.getAttribute!==B&&J.getAttribute("class")||"")})},ATTR:function(A,F,J){return function(le){var Te=_.attr(le,A);return null==Te?"!="===F:!F||(Te+="","="===F?Te===J:"!="===F?Te!==J:"^="===F?J&&0===Te.indexOf(J):"*="===F?J&&Te.indexOf(J)>-1:"$="===F?J&&Te.slice(-J.length)===J:"~="===F?(" "+Te+" ").indexOf(J)>-1:"|="===F&&(Te===J||Te.slice(0,J.length+1)===J+"-"))}},CHILD:function(A,F,J,le,Te){var de="nth"!==A.slice(0,3),$="last"!==A.slice(-4),he="of-type"===F;return 1===le&&0===Te?function(ye){return!!ye.parentNode}:function(ye,Ze,Z){var Ee,ue,Ue,Ke,it,Ge,ot=de!==$?"nextSibling":"previousSibling",At=ye.parentNode,qt=he&&ye.nodeName.toLowerCase(),Ht=!Z&&!he;if(At){if(de){for(;ot;){for(Ue=ye;Ue=Ue[ot];)if(he?Ue.nodeName.toLowerCase()===qt:1===Ue.nodeType)return!1;Ge=ot="only"===A&&!Ge&&"nextSibling"}return!0}if(Ge=[$?At.firstChild:At.lastChild],$&&Ht){for(Ke=(Ee=(ue=At[V]||(At[V]={}))[A]||[])[0]===pe&&Ee[2],Ue=(it=Ee[0]===pe&&Ee[1])&&At.childNodes[it];Ue=++it&&Ue&&Ue[ot]||(Ke=it=0)||Ge.pop();)if(1===Ue.nodeType&&++Ke&&Ue===ye){ue[A]=[pe,it,Ke];break}}else if(Ht&&(Ee=(ye[V]||(ye[V]={}))[A])&&Ee[0]===pe)Ke=Ee[1];else for(;(Ue=++it&&Ue&&Ue[ot]||(Ke=it=0)||Ge.pop())&&((he?Ue.nodeName.toLowerCase()!==qt:1!==Ue.nodeType)||!++Ke||(Ht&&((Ue[V]||(Ue[V]={}))[A]=[pe,Ke]),Ue!==ye)););return(Ke-=Te)===le||Ke%le==0&&Ke/le>=0}}},PSEUDO:function(A,F){var J,le=e.pseudos[A]||e.setFilters[A.toLowerCase()]||_.error("unsupported pseudo: "+A);return le[V]?le(F):le.length>1?(J=[A,A,"",F],e.setFilters.hasOwnProperty(A.toLowerCase())?g(function(Te,de){for(var $,he=le(Te,F),ye=he.length;ye--;)Te[$=be.call(Te,he[ye])]=!(de[$]=he[ye])}):function(Te){return le(Te,0,J)}):le}},pseudos:{not:g(function(A){var F=[],J=[],le=C(A.replace(vn,"$1"));return le[V]?g(function(Te,de,$,he){for(var ye,Ze=le(Te,null,he,[]),Z=Te.length;Z--;)(ye=Ze[Z])&&(Te[Z]=!(de[Z]=ye))}):function(Te,de,$){return F[0]=Te,le(F,null,$,J),!J.pop()}}),has:g(function(A){return function(F){return _(A,F).length>0}}),contains:g(function(A){return A=A.replace(K,ie),function(F){return(F.textContent||F.innerText||n(F)).indexOf(A)>-1}}),lang:g(function(A){return mn.test(A||"")||_.error("unsupported lang: "+A),A=A.replace(K,ie).toLowerCase(),function(F){var J;do{if(J=U?F.lang:F.getAttribute("xml:lang")||F.getAttribute("lang"))return(J=J.toLowerCase())===A||0===J.indexOf(A+"-")}while((F=F.parentNode)&&1===F.nodeType);return!1}}),target:function(A){var F=window.location&&window.location.hash;return F&&F.slice(1)===A.id},root:function(A){return A===L},focus:function(A){return A===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(A.type||A.href||~A.tabIndex)},enabled:function(A){return!1===A.disabled},disabled:function(A){return!0===A.disabled},checked:function(A){var F=A.nodeName.toLowerCase();return"input"===F&&!!A.checked||"option"===F&&!!A.selected},selected:function(A){return!0===A.selected},empty:function(A){for(A=A.firstChild;A;A=A.nextSibling)if(A.nodeType<6)return!1;return!0},parent:function(A){return!e.pseudos.empty(A)},header:function(A){return ae.test(A.nodeName)},input:function(A){return tt.test(A.nodeName)},button:function(A){var F=A.nodeName.toLowerCase();return"input"===F&&"button"===A.type||"button"===F},text:function(A){var F;return"input"===A.nodeName.toLowerCase()&&"text"===A.type&&(null==(F=A.getAttribute("type"))||"text"===F.toLowerCase())},first:o(function(){return[0]}),last:o(function(A,F){return[F-1]}),eq:o(function(A,F,J){return[J<0?J+F:J]}),even:o(function(A,F){for(var J=0;J<F;J+=2)A.push(J);return A}),odd:o(function(A,F){for(var J=1;J<F;J+=2)A.push(J);return A}),lt:o(function(A,F,J){for(var le=J<0?J+F:J;--le>=0;)A.push(le);return A}),gt:o(function(A,F,J){for(var le=J<0?J+F:J;++le<F;)A.push(le);return A})}}).pseudos.nth=e.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})e.pseudos[c]=t(c);for(c in{submit:!0,reset:!0})e.pseudos[c]=r(c);return u.prototype=e.filters=e.pseudos,e.setFilters=new u,S=_.tokenize=function(A,F){var J,le,Te,de,$,he,ye,Ze=rt[A+" "];if(Ze)return F?0:Ze.slice(0);for($=A,he=[],ye=e.preFilter;$;){for(de in J&&!(le=un.exec($))||(le&&($=$.slice(le[0].length)||$),he.push(Te=[])),J=!1,(le=nn.exec($))&&(J=le.shift(),Te.push({value:J,type:le[0].replace(vn," ")}),$=$.slice(J.length)),e.filter)!(le=ze[de].exec($))||ye[de]&&!(le=ye[de](le))||(J=le.shift(),Te.push({value:J,type:de,matches:le}),$=$.slice(J.length));if(!J)break}return F?$.length:$?_.error(A):rt(A,he).slice(0)},C=_.compile=function(A,F){var J,le=[],Te=[],de=je[A+" "];if(!de){for(F||(F=S(A)),J=F.length;J--;)(de=N(F[J]))[V]?le.push(de):Te.push(de);de=je(A,function(A,F){var J=F.length>0,le=A.length>0,Te=function(de,$,he,ye,Ze){var Z,Ee,ue,Ue=0,Ke="0",it=de&&[],Ge=[],ot=T,At=de||le&&e.find.TAG("*",Ze),qt=pe+=null==ot?1:Math.random()||.1,Ht=At.length;for(Ze&&(T=$!==O&&$);Ke!==Ht&&null!=(Z=At[Ke]);Ke++){if(le&&Z){for(Ee=0;ue=A[Ee++];)if(ue(Z,$,he)){ye.push(Z);break}Ze&&(pe=qt)}J&&((Z=!ue&&Z)&&Ue--,de&&it.push(Z))}if(Ue+=Ke,J&&Ke!==Ue){for(Ee=0;ue=F[Ee++];)ue(it,Ge,$,he);if(de){if(Ue>0)for(;Ke--;)it[Ke]||Ge[Ke]||(Ge[Ke]=se.call(ye));Ge=x(Ge)}ee.apply(ye,Ge),Ze&&!de&&Ge.length>0&&Ue+F.length>1&&_.uniqueSort(ye)}return Ze&&(pe=qt,T=ot),it};return J?g(Te):Te}(Te,le)),de.selector=A}return de},k=_.select=function(A,F,J,le){var Te,de,$,he,ye,Ze="function"==typeof A&&A,Z=!le&&S(A=Ze.selector||A);if(J=J||[],1===Z.length){if((de=Z[0]=Z[0].slice(0)).length>2&&"ID"===($=de[0]).type&&a.getById&&9===F.nodeType&&U&&e.relative[de[1].type]){if(!(F=(e.find.ID($.matches[0].replace(K,ie),F)||[])[0]))return J;Ze&&(F=F.parentNode),A=A.slice(de.shift().value.length)}for(Te=ze.needsContext.test(A)?0:de.length;Te--&&!e.relative[he=($=de[Te]).type];)if((ye=e.find[he])&&(le=ye($.matches[0].replace(K,ie),yt.test(de[0].type)&&v(F.parentNode)||F))){if(de.splice(Te,1),!(A=le.length&&d(de)))return ee.apply(J,le),J;break}}return(Ze||C(A,Z))(le,F,!U,J,yt.test(A)&&v(F.parentNode)||F),J},a.sortStable=V.split("").sort(X).join("")===V,a.detectDuplicates=!!M,D(),a.sortDetached=f(function(A){return 1&A.compareDocumentPosition(O.createElement("div"))}),f(function(A){return A.innerHTML="<a href='#'></a>","#"===A.firstChild.getAttribute("href")})||i("type|href|height|width",function(A,F,J){if(!J)return A.getAttribute(F,"type"===F.toLowerCase()?1:2)}),a.attributes&&f(function(A){return A.innerHTML="<input/>",A.firstChild.setAttribute("value",""),""===A.firstChild.getAttribute("value")})||i("value",function(A,F,J){if(!J&&"input"===A.nodeName.toLowerCase())return A.defaultValue}),f(function(A){return null==A.getAttribute("disabled")})||i(Ne,function(A,F,J){var le;if(!J)return!0===A[F]?F.toLowerCase():(le=A.getAttributeNode(F))&&le.specified?le.value:null}),_}),ge(et,[],function(){function w(u,d,m){var b,p;if(!u)return 0;if(m=m||u,u.length!==Xt){for(b=0,p=u.length;b<p;b++)if(!1===d.call(m,u[b],b,u))return 0}else for(b in u)if(u.hasOwnProperty(b)&&!1===d.call(m,u[b],b,u))return 0;return 1}function t(u,d,m){var b,p;for(b=0,p=u.length;b<p;b++)if(d.call(m,u[b],b,u))return b;return-1}var v=Array.isArray||function(u){return"[object Array]"===Object.prototype.toString.call(u)};return{isArray:v,toArray:function(u){var m,b,d=u;if(!v(u))for(d=[],m=0,b=u.length;m<b;m++)d[m]=u[m];return d},each:w,map:function(u,d){var m=[];return w(u,function(b,p){m.push(d(b,p,u))}),m},filter:function(u,d){var m=[];return w(u,function(b,p){d&&!d(b,p,u)||m.push(b)}),m},indexOf:function(u,d){var m,b;if(u)for(m=0,b=u.length;m<b;m++)if(u[m]===d)return m;return-1},reduce:function(u,d,m,b){var p=0;for(arguments.length<3&&(m=u[0]);p<u.length;p++)m=d.call(b,m,u[p],p);return m},findIndex:t,find:function(u,d,m){var b=t(u,d,m);return-1!==b?u[b]:Xt},last:function(u){return u[u.length-1]}}}),ge(Me,[We,et],function(_,w){function g(p){return null===p||p===Xt?"":(""+p).replace(b,"")}function f(p,x){return x?!("array"!=x||!w.isArray(p))||typeof p==x:p!==Xt}var b=/^\s*|\s*$/g;return{trim:g,isArray:w.isArray,is:f,toArray:w.toArray,makeMap:function(p,x,h){var N;for(x=x||",","string"==typeof(p=p||[])&&(p=p.split(x)),h=h||{},N=p.length;N--;)h[p[N]]={};return h},each:w.each,map:w.map,grep:w.filter,inArray:w.indexOf,hasOwn:function(p,x){return Object.prototype.hasOwnProperty.call(p,x)},extend:function(p,x){var h,N,l,a,c=arguments;for(h=1,N=c.length;h<N;h++)for(l in x=c[h])x.hasOwnProperty(l)&&(a=x[l])!==Xt&&(p[l]=a);return p},create:function(p,x,h){var l,c,a,e,n,N=this,y=0;if(p=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(p),a=p[3].match(/(^|\.)(\w+)$/i)[2],!(c=N.createNS(p[3].replace(/\.\w+$/,""),h))[a]){if("static"==p[2])return c[a]=x,void(this.onCreate&&this.onCreate(p[2],p[3],c[a]));x[a]||(x[a]=function(){},y=1),c[a]=x[a],N.extend(c[a].prototype,x),p[5]&&(l=N.resolve(p[5]).prototype,e=p[5].match(/\.(\w+)$/i)[1],n=c[a],c[a]=y?function(){return l[e].apply(this,arguments)}:function(){return this.parent=l[e],n.apply(this,arguments)},c[a].prototype[a]=c[a],N.each(l,function(S,C){c[a].prototype[C]=l[C]}),N.each(x,function(S,C){l[C]?c[a].prototype[C]=function(){return this.parent=l[C],S.apply(this,arguments)}:C!=a&&(c[a].prototype[C]=S)})),N.each(x.static,function(S,C){c[a][C]=S})}},walk:function o(p,x,h,N){N=N||this,p&&(h&&(p=p[h]),w.each(p,function(l,c){return!1!==x.call(N,l,c,h)&&void o(l,x,h,N)}))},createNS:function(p,x){var h,N;for(x=x||window,p=p.split("."),h=0;h<p.length;h++)x[N=p[h]]||(x[N]={}),x=x[N];return x},resolve:function(p,x){var h,N;for(x=x||window,h=0,N=(p=p.split(".")).length;h<N&&(x=x[p[h]]);h++);return x},explode:function(p,x){return!p||f(p,"array")?p:w.map(p.split(x||","),g)},_addCacheSuffix:function(p){var x=_.cacheSuffix;return x&&(p+=(-1===p.indexOf("?")?"?":"&")+x),p}}}),ge(qe,[$e,ne,Me,We],function(_,w,g,f){function i(E){return void 0!==E}function s(E){return"string"==typeof E}function r(E,P){var H,V,Y;for(Y=(P=P||e).createElement("div"),H=P.createDocumentFragment(),Y.innerHTML=E;V=Y.firstChild;)H.appendChild(V);return H}function o(E,P,H,V){var Y;if(s(P))P=r(P,h(E[0]));else if(P.length&&!P.nodeType){if(P=d.makeArray(P),V)for(Y=P.length-1;Y>=0;Y--)o(E,P[Y],H,V);else for(Y=0;Y<P.length;Y++)o(E,P[Y],H,V);return E}if(P.nodeType)for(Y=E.length;Y--;)H.call(E[Y],P);return E}function v(E,P){return E&&P&&-1!==(" "+E.className+" ").indexOf(" "+P+" ")}function u(E,P,H){var V,Y;return P=d(P)[0],E.each(function(){var pe=this;H&&V==pe.parentNode||(V=pe.parentNode,Y=P.cloneNode(!1),pe.parentNode.insertBefore(Y,pe)),Y.appendChild(pe)}),E}function d(E,P){return new d.fn.init(E,P)}function b(E){return null===E||E===k?"":(""+E).replace(W,"")}function p(E,P){var H,V,Y,Oe;if(E)if(void 0===(H=E.length)){for(V in E)if(E.hasOwnProperty(V)&&!1===P.call(Oe=E[V],V,Oe))break}else for(Y=0;Y<H&&!1!==P.call(Oe=E[Y],Y,Oe);Y++);return E}function x(E,P){var H=[];return p(E,function(V,Y){P(Y,V)&&H.push(Y)}),H}function h(E){return E?9==E.nodeType?E:E.ownerDocument:e}function N(E,P,H){var V=[],Y=E[P];for("string"!=typeof H&&H instanceof d&&(H=H[0]);Y&&9!==Y.nodeType&&(H===Xt||!(Y===H||"string"==typeof H&&d(Y).is(H)));)1===Y.nodeType&&V.push(Y),Y=Y[P];return V}function l(E,P,H,V){var Y=[];for(V instanceof d&&(V=V[0]);E;E=E[P])if(!H||E.nodeType===H){if(V!==Xt&&(E===V||"string"==typeof V&&d(E).is(V)))break;Y.push(E)}return Y}function c(E,P,H){for(E=E[P];E;E=E[P])if(E.nodeType==H)return E;return null}function a(E,P,H){p(H,function(V,Y){E[V]=E[V]||{},E[V][P]=Y})}var k,e=document,n=Array.prototype.push,y=Array.prototype.slice,S=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,C=_.Event,T=g.makeMap("children,contents,next,prev"),I=g.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),M=g.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),D={for:"htmlFor",class:"className",readonly:"readOnly"},O={float:"cssFloat"},L={},U={},W=/^\s*|\s*$/g;return d.fn=d.prototype={constructor:d,selector:"",context:null,length:0,init:function(E,P){var V,Y,H=this;if(!E)return H;if(E.nodeType)return H.context=H[0]=E,H.length=1,H;if(P&&P.nodeType)H.context=P;else{if(P)return d(E).attr(P);H.context=P=document}if(s(E)){if(H.selector=E,!(V="<"===E.charAt(0)&&">"===E.charAt(E.length-1)&&E.length>=3?[null,E,null]:S.exec(E)))return d(P).find(E);if(V[1])for(Y=r(E,h(P)).firstChild;Y;)n.call(H,Y),Y=Y.nextSibling;else{if(!(Y=h(P).getElementById(V[2])))return H;if(Y.id!==V[2])return H.find(E);H.length=1,H[0]=Y}}else this.add(E,!1);return H},toArray:function(){return g.toArray(this)},add:function(E,P){var V,Y,H=this;if(s(E))return H.add(d(E));if(!1!==P)for(V=d.unique(H.toArray().concat(d.makeArray(E))),H.length=V.length,Y=0;Y<V.length;Y++)H[Y]=V[Y];else n.apply(H,d.makeArray(E));return H},attr:function(E,P){var V,H=this;if("object"==typeof E)p(E,function(Y,pe){H.attr(Y,pe)});else{if(!i(P)){if(H[0]&&1===H[0].nodeType){if((V=L[E])&&V.get)return V.get(H[0],E);if(M[E])return H.prop(E)?E:k;null===(P=H[0].getAttribute(E,2))&&(P=k)}return P}this.each(function(){var Y;if(1===this.nodeType){if((Y=L[E])&&Y.set)return void Y.set(this,P);null===P?this.removeAttribute(E,2):this.setAttribute(E,P,2)}})}return H},removeAttr:function(E){return this.attr(E,null)},prop:function(E,P){var H=this;if("object"==typeof(E=D[E]||E))p(E,function(V,Y){H.prop(V,Y)});else{if(!i(P))return H[0]&&H[0].nodeType&&E in H[0]?H[0][E]:P;this.each(function(){1==this.nodeType&&(this[E]=P)})}return H},css:function(E,P){function H(Ve){return Ve.replace(/-(\D)/g,function(rt,je){return je.toUpperCase()})}function V(Ve){return Ve.replace(/[A-Z]/g,function(rt){return"-"+rt})}var pe,Oe,Y=this;if("object"==typeof E)p(E,function(Ve,rt){Y.css(Ve,rt)});else if(i(P))E=H(E),"number"!=typeof P||I[E]||(P+="px"),Y.each(function(){var Ve=this.style;if((Oe=U[E])&&Oe.set)Oe.set(this,P);else{try{this.style[O[E]||E]=P}catch(rt){}null!==P&&""!==P||(Ve.removeProperty?Ve.removeProperty(V(E)):Ve.removeAttribute(E))}});else{if(pe=Y[0],(Oe=U[E])&&Oe.get)return Oe.get(pe);if(pe.ownerDocument.defaultView)try{return pe.ownerDocument.defaultView.getComputedStyle(pe,null).getPropertyValue(V(E))}catch(Ve){return k}else if(pe.currentStyle)return pe.currentStyle[H(E)]}return Y},remove:function(){for(var P,H=this.length;H--;)C.clean(P=this[H]),P.parentNode&&P.parentNode.removeChild(P);return this},empty:function(){for(var P,H=this.length;H--;)for(P=this[H];P.firstChild;)P.removeChild(P.firstChild);return this},html:function(E){var H,P=this;if(i(E)){H=P.length;try{for(;H--;)P[H].innerHTML=E}catch(V){d(P[H]).empty().append(E)}return P}return P[0]?P[0].innerHTML:""},text:function(E){var H,P=this;if(i(E)){for(H=P.length;H--;)"innerText"in P[H]?P[H].innerText=E:P[0].textContent=E;return P}return P[0]?P[0].innerText||P[0].textContent:""},append:function(){return o(this,arguments,function(E){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(E)})},prepend:function(){return o(this,arguments,function(E){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(E,this.firstChild)},!0)},before:function(){var E=this;return E[0]&&E[0].parentNode?o(E,arguments,function(P){this.parentNode.insertBefore(P,this)}):E},after:function(){var E=this;return E[0]&&E[0].parentNode?o(E,arguments,function(P){this.parentNode.insertBefore(P,this.nextSibling)},!0):E},appendTo:function(E){return d(E).append(this),this},prependTo:function(E){return d(E).prepend(this),this},replaceWith:function(E){return this.before(E).remove()},wrap:function(E){return u(this,E)},wrapAll:function(E){return u(this,E,!0)},wrapInner:function(E){return this.each(function(){d(this).contents().wrapAll(E)}),this},unwrap:function(){return this.parent().each(function(){d(this).replaceWith(this.childNodes)})},clone:function(){var E=[];return this.each(function(){E.push(this.cloneNode(!0))}),d(E)},addClass:function(E){return this.toggleClass(E,!0)},removeClass:function(E){return this.toggleClass(E,!1)},toggleClass:function(E,P){var H=this;return"string"!=typeof E||(-1!==E.indexOf(" ")?p(E.split(" "),function(){H.toggleClass(this,P)}):H.each(function(V,Y){var pe,Oe;(Oe=v(Y,E))!==P&&(pe=Y.className,Oe?Y.className=b((" "+pe+" ").replace(" "+E+" "," ")):Y.className+=pe?" "+E:E)})),H},hasClass:function(E){return v(this[0],E)},each:function(E){return p(this,E)},on:function(E,P){return this.each(function(){C.bind(this,E,P)})},off:function(E,P){return this.each(function(){C.unbind(this,E,P)})},trigger:function(E){return this.each(function(){"object"==typeof E?C.fire(this,E.type,E):C.fire(this,E)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new d(y.apply(this,arguments))},eq:function(E){return-1===E?this.slice(E):this.slice(E,+E+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(E){var P,H,V=[];for(P=0,H=this.length;P<H;P++)d.find(E,this[P],V);return d(V)},filter:function(E){return d("function"==typeof E?x(this.toArray(),function(P,H){return E(H,P)}):d.filter(E,this.toArray()))},closest:function(E){var P=[];return E instanceof d&&(E=E[0]),this.each(function(H,V){for(;V;){if("string"==typeof E&&d(V).is(E)){P.push(V);break}if(V==E){P.push(V);break}V=V.parentNode}}),d(P)},offset:function(E){var P,H,V,Oe,Y=0,pe=0;return E?this.css(E):((P=this[0])&&(V=(H=P.ownerDocument).documentElement,P.getBoundingClientRect&&(Y=(Oe=P.getBoundingClientRect()).left+(V.scrollLeft||H.body.scrollLeft)-V.clientLeft,pe=Oe.top+(V.scrollTop||H.body.scrollTop)-V.clientTop)),{left:Y,top:pe})},push:n,sort:[].sort,splice:[].splice},g.extend(d,{extend:g.extend,makeArray:function(E){return function(E){return E&&E==E.window}(E)||E.nodeType?[E]:g.toArray(E)},inArray:function(E,P){var H;if(P.indexOf)return P.indexOf(E);for(H=P.length;H--;)if(P[H]===E)return H;return-1},isArray:g.isArray,each:p,trim:b,grep:x,find:w,expr:w.selectors,unique:w.uniqueSort,text:w.getText,contains:w.contains,filter:function(E,P,H){var V=P.length;for(H&&(E=":not("+E+")");V--;)1!=P[V].nodeType&&P.splice(V,1);return 1===P.length?d.find.matchesSelector(P[0],E)?[P[0]]:[]:d.find.matches(E,P)}}),p({parent:function(E){var P=E.parentNode;return P&&11!==P.nodeType?P:null},parents:function(E){return N(E,"parentNode")},next:function(E){return c(E,"nextSibling",1)},prev:function(E){return c(E,"previousSibling",1)},children:function(E){return l(E.firstChild,"nextSibling",1)},contents:function(E){return g.toArray(("iframe"===E.nodeName?E.contentDocument||E.contentWindow.document:E).childNodes)}},function(E,P){d.fn[E]=function(H){var Y=[];return this.each(function(){var pe=P.call(Y,this,H,Y);pe&&(d.isArray(pe)?Y.push.apply(Y,pe):Y.push(pe))}),this.length>1&&(T[E]||(Y=d.unique(Y)),0===E.indexOf("parents")&&(Y=Y.reverse())),Y=d(Y),H?Y.filter(H):Y}}),p({parentsUntil:function(E,P){return N(E,"parentNode",P)},nextUntil:function(E,P){return l(E,"nextSibling",1,P).slice(1)},prevUntil:function(E,P){return l(E,"previousSibling",1,P).slice(1)}},function(E,P){d.fn[E]=function(H,V){var pe=[];return this.each(function(){var Oe=P.call(pe,this,H,pe);Oe&&(d.isArray(Oe)?pe.push.apply(pe,Oe):pe.push(Oe))}),this.length>1&&(pe=d.unique(pe),0!==E.indexOf("parents")&&"prevUntil"!==E||(pe=pe.reverse())),pe=d(pe),V?pe.filter(V):pe}}),d.fn.is=function(E){return!!E&&this.filter(E).length>0},d.fn.init.prototype=d.fn,d.overrideDefaults=function(E){function P(V,Y){return H=H||E(),0===arguments.length&&(V=H.element),Y||(Y=H.context),new P.fn.init(V,Y)}var H;return d.extend(P,this),P},f.ie&&f.ie<8&&(a(L,"get",{maxlength:function(E){var P=E.maxLength;return 2147483647===P?k:P},size:function(E){var P=E.size;return 20===P?k:P},class:function(E){return E.className},style:function(E){var P=E.style.cssText;return 0===P.length?k:P}}),a(L,"set",{class:function(E,P){E.className=P},style:function(E,P){E.style.cssText=P}})),f.ie&&f.ie<9&&(O.float="styleFloat",a(U,"set",{opacity:function(E,P){var H=E.style;null===P||""===P?H.removeAttribute("filter"):(H.zoom=1,H.filter="alpha(opacity="+100*P+")")}})),d.attrHooks=L,d.cssHooks=U,d}),ge(Q,[],function(){return function(_,w){function g(b,p,x,h){function N(l){return(l=parseInt(l,10).toString(16)).length>1?l:"0"+l}return"#"+N(p)+N(x)+N(h)}var r,v,u,d,f=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,i=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,t=/\s+$/,o={};for(_=_||{},w&&(u=w.getValidStyles(),d=w.getInvalidStyles()),v="\\\" \\' \\; \\: ; : \ufeff".split(" "),r=0;r<v.length;r++)o[v[r]]="\ufeff"+r,o["\ufeff"+r]=v[r];return{toHex:function(b){return b.replace(f,g)},parse:function(b){function p(M,D,O){var L,U,W,E;if((L=n[M+"-top"+D])&&(U=n[M+"-right"+D])&&(W=n[M+"-bottom"+D])&&(E=n[M+"-left"+D])){var P=[L,U,W,E];for(r=P.length-1;r--&&P[r]===P[r+1];);r>-1&&O||(n[M+D]=-1==r?P[0]:P.join(" "),delete n[M+"-top"+D],delete n[M+"-right"+D],delete n[M+"-bottom"+D],delete n[M+"-left"+D])}}function x(M){var O,D=n[M];if(D){for(O=(D=D.split(" ")).length;O--;)if(D[O]!==D[0])return!1;return n[M]=D[0],!0}}function N(M){return k=!0,o[M]}function l(M,D){return k&&(M=M.replace(/\uFEFF[0-9]/g,function(O){return o[O]})),D||(M=M.replace(/\\([\'\";:])/g,"$1")),M}function c(M){return String.fromCharCode(parseInt(M.slice(1),16))}function a(M){return M.replace(/\\[0-9a-f]+/gi,c)}function e(M,D,O,L,U,W){if(U=U||W)return"'"+(U=l(U)).replace(/\'/g,"\\'")+"'";if(D=l(D||O||L),!_.allow_script_urls){var E=D.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(E)||!_.allow_svg_data_urls&&/^data:image\/svg/i.test(E))return""}return T&&(D=T.call(I,D,"style")),"url('"+D.replace(/\'/g,"\\'")+"')"}var y,S,C,k,D,O,L,n={},T=_.url_converter,I=_.url_converter_scope||this;if(b){for(b=(b=b.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,N).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(M){return M.replace(/[;:]/g,N)});y=s.exec(b);)if(s.lastIndex=y.index+y[0].length,S=y[1].replace(t,"").toLowerCase(),C=y[2].replace(t,""),S&&C){if(S=a(S),C=a(C),-1!==S.indexOf("\ufeff")||-1!==S.indexOf('"')||!_.allow_script_urls&&("behavior"==S||/expression\s*\(|\/\*|\*\//.test(C)))continue;"font-weight"===S&&"700"===C?C="bold":"color"!==S&&"background-color"!==S||(C=C.toLowerCase()),C=(C=C.replace(f,g)).replace(i,e),n[S]=k?l(C,!0):C}p("border","",!0),p("border","-width"),p("border","-color"),p("border","-style"),p("padding",""),p("margin",""),"border",O="border-style",L="border-color",x(D="border-width")&&x(O)&&x(L)&&(n.border=n[D]+" "+n[O]+" "+n[L],delete n[D],delete n[O],delete n[L]),"medium none"===n.border&&delete n.border,"none"===n["border-image"]&&delete n["border-image"]}return n},serialize:function(b,p){function x(a){var e,n,y,S;if(e=u[a])for(n=0,y=e.length;n<y;n++)(S=b[a=e[n]])&&(N+=(N.length>0?" ":"")+a+": "+S+";")}var l,c,a,n,N="";if(p&&u)x("*"),x(p);else for(l in b)!(c=b[l])||d&&(a=l,n=void 0,(n=d["*"])&&n[a]||(n=d[p])&&n[a])||(N+=(N.length>0?" ":"")+l+": "+c+";");return N}}}}),ge(q,[],function(){return function(_,w){function g(s,t,r,o){var v,u;if(s){if(!o&&s[t])return s[t];if(s!=w){if(v=s[r])return v;for(u=s.parentNode;u&&u!=w;u=u.parentNode)if(v=u[r])return v}}}var i=_;this.current=function(){return i},this.next=function(s){return i=g(i,"firstChild","nextSibling",s)},this.prev=function(s){return i=g(i,"lastChild","previousSibling",s)},this.prev2=function(s){return i=function(s,t,r,o){var v,u,d;if(s){if(v=s.previousSibling,w&&v===w)return;if(v){if(!o)for(d=v[t];d;d=d[t])if(!d[t])return d;return v}if((u=s.parentNode)&&u!==w)return u}}(i,"lastChild",0,s)}}}),ge(me,[Me],function(_){function w(g){function f(){return E.createDocumentFragment()}function i(R,z){y(Y,R,z)}function s(R,z){y(pe,R,z)}function t(R){i(R.parentNode,B(R))}function v(R){s(R.parentNode,B(R)+1)}function h(){return S(H)}function a(R,z){var G;if(3==R.nodeType||z<0)return R;for(G=R.firstChild;G&&z>0;)--z,G=G.nextSibling;return G||R}function n(R,z,G,se){var ce,ee,_e,be,Ne,ke;if(R==G)return z==se?0:z<se?-1:1;for(ce=G;ce&&ce.parentNode!=R;)ce=ce.parentNode;if(ce){for(ee=0,_e=R.firstChild;_e!=ce&&ee<z;)ee++,_e=_e.nextSibling;return z<=ee?-1:1}for(ce=R;ce&&ce.parentNode!=G;)ce=ce.parentNode;if(ce){for(ee=0,_e=G.firstChild;_e!=ce&&ee<se;)ee++,_e=_e.nextSibling;return ee<se?-1:1}for(be=g.findCommonAncestor(R,G),Ne=R;Ne&&Ne.parentNode!=be;)Ne=Ne.parentNode;for(Ne||(Ne=be),ke=G;ke&&ke.parentNode!=be;)ke=ke.parentNode;if(ke||(ke=be),Ne==ke)return 0;for(_e=be.firstChild;_e;){if(_e==Ne)return-1;if(_e==ke)return 1;_e=_e.nextSibling}}function y(R,z,G){var se,ce;for(R?(W[Ve]=z,W[Oe]=G):(W[rt]=z,W[je]=G),se=W[rt];se.parentNode;)se=se.parentNode;for(ce=W[Ve];ce.parentNode;)ce=ce.parentNode;ce==se?n(W[Ve],W[Oe],W[rt],W[je])>0&&W.collapse(R):W.collapse(R),W.collapsed=W[Ve]==W[rt]&&W[Oe]==W[je],W.commonAncestorContainer=g.findCommonAncestor(W[Ve],W[rt])}function S(R){var z,ce,ee,_e,be,Ne,ke,G=0,se=0;if(W[Ve]==W[rt])return function(R){var z,se,ce,ee,_e,be,Ne,ke;if(R!=V&&(z=f()),W[Oe]==W[je])return z;if(3==W[Ve].nodeType)return se=W[Ve].nodeValue.substring(W[Oe],W[je]),R!=H&&(ce=W[Ve],ke=W[je]-W[Oe],0===(Ne=W[Oe])&&ke>=ce.nodeValue.length-1?ce.parentNode.removeChild(ce):ce.deleteData(Ne,ke),W.collapse(Y)),R==V?void 0:(se.length>0&&z.appendChild(E.createTextNode(se)),z);for(ce=a(W[Ve],W[Oe]),ee=W[je]-W[Oe];ce&&ee>0;)_e=ce.nextSibling,be=L(ce,R),z&&z.appendChild(be),--ee,ce=_e;return R!=H&&W.collapse(Y),z}(R);for(ce=(z=W[rt]).parentNode;ce;z=ce,ce=ce.parentNode){if(ce==W[Ve])return k(z,R);++G}for(ce=(z=W[Ve]).parentNode;ce;z=ce,ce=ce.parentNode){if(ce==W[rt])return T(z,R);++se}for(ee=se-G,_e=W[Ve];ee>0;)_e=_e.parentNode,ee--;for(be=W[rt];ee<0;)be=be.parentNode,ee++;for(Ne=_e.parentNode,ke=be.parentNode;Ne!=ke;Ne=Ne.parentNode,ke=ke.parentNode)_e=Ne,be=ke;return function(R,z,G){var se,ce,ee,be,Ne,ke;for(G!=V&&(ce=f()),se=D(R,G),ce&&ce.appendChild(se),ee=B(R),be=B(z)-++ee,Ne=R.nextSibling;be>0;)ke=Ne.nextSibling,se=L(Ne,G),ce&&ce.appendChild(se),Ne=ke,--be;return se=M(z,G),ce&&ce.appendChild(se),G!=H&&(W.setStartAfter(R),W.collapse(Y)),ce}(_e,be,R)}function k(R,z){var G,se,ee,_e,be;if(z!=V&&(G=f()),se=M(R,z),G&&G.appendChild(se),(ee=B(R)-W[Oe])<=0)return z!=H&&(W.setEndBefore(R),W.collapse(pe)),G;for(se=R.previousSibling;ee>0;)_e=se.previousSibling,be=L(se,z),G&&G.insertBefore(be,G.firstChild),--ee,se=_e;return z!=H&&(W.setEndBefore(R),W.collapse(pe)),G}function T(R,z){var G,se,ce,ee,_e,be;for(z!=V&&(G=f()),ce=D(R,z),G&&G.appendChild(ce),se=B(R),++se,ee=W[je]-se,ce=R.nextSibling;ce&&ee>0;)_e=ce.nextSibling,be=L(ce,z),G&&G.appendChild(be),--ee,ce=_e;return z!=H&&(W.setStartAfter(R),W.collapse(Y)),G}function M(R,z){var se,ce,ee,_e,be,G=a(W[rt],W[je]-1),Ne=G!=W[rt];if(G==R)return O(G,Ne,pe,z);for(ce=O(se=G.parentNode,pe,pe,z);se;){for(;G;)ee=G.previousSibling,_e=O(G,Ne,pe,z),z!=V&&ce.insertBefore(_e,ce.firstChild),Ne=Y,G=ee;if(se==R)return ce;G=se.previousSibling,be=O(se=se.parentNode,pe,pe,z),z!=V&&be.appendChild(ce),ce=be}}function D(R,z){var ce,ee,_e,be,Ne,G=a(W[Ve],W[Oe]),se=G!=W[Ve];if(G==R)return O(G,se,Y,z);for(ee=O(ce=G.parentNode,pe,Y,z);ce;){for(;G;)_e=G.nextSibling,be=O(G,se,Y,z),z!=V&&ee.appendChild(be),se=Y,G=_e;if(ce==R)return ee;G=ce.nextSibling,Ne=O(ce=ce.parentNode,pe,Y,z),z!=V&&Ne.appendChild(ee),ee=Ne}}function O(R,z,G,se){var ce,ee,_e,be,Ne;return z?L(R,se):3==R.nodeType?(ce=R.nodeValue,G?(ee=ce.substring(be=W[Oe]),_e=ce.substring(0,be)):(ee=ce.substring(0,be=W[je]),_e=ce.substring(be)),se!=H&&(R.nodeValue=_e),se==V?void 0:((Ne=g.clone(R,pe)).nodeValue=ee,Ne)):se!=V?g.clone(R,pe):void 0}function L(R,z){return z!=V?z==H?g.clone(R,Y):R:void R.parentNode.removeChild(R)}var W=this,E=g.doc,H=1,V=2,Y=!0,pe=!1,Oe="startOffset",Ve="startContainer",rt="endContainer",je="endOffset",X=_.extend,B=g.nodeIndex;return X(W,{startContainer:E,startOffset:0,endContainer:E,endOffset:0,collapsed:Y,commonAncestorContainer:E,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:i,setEnd:s,setStartBefore:t,setStartAfter:function(R){i(R.parentNode,B(R)+1)},setEndBefore:function(R){s(R.parentNode,B(R))},setEndAfter:v,collapse:function(R){R?(W[rt]=W[Ve],W[je]=W[Oe]):(W[Ve]=W[rt],W[Oe]=W[je]),W.collapsed=Y},selectNode:function(R){t(R),v(R)},selectNodeContents:function(R){i(R,0),s(R,1===R.nodeType?R.childNodes.length:R.nodeValue.length)},compareBoundaryPoints:function(R,z){var G=W[Ve],se=W[Oe],ce=W[rt],ee=W[je],_e=z.startContainer,be=z.startOffset,Ne=z.endContainer,ke=z.endOffset;return 0===R?n(G,se,_e,be):1===R?n(ce,ee,_e,be):2===R?n(ce,ee,Ne,ke):3===R?n(G,se,Ne,ke):void 0},deleteContents:function(){S(V)},extractContents:function(){return S(0)},cloneContents:h,insertNode:function(R){var se,ce,z=this[Ve],G=this[Oe];3!==z.nodeType&&4!==z.nodeType||!z.nodeValue?(z.childNodes.length>0&&(ce=z.childNodes[G]),ce?z.insertBefore(R,ce):3==z.nodeType?g.insertAfter(R,z):z.appendChild(R)):G?G>=z.nodeValue.length?g.insertAfter(R,z):(se=z.splitText(G),z.parentNode.insertBefore(R,se)):z.parentNode.insertBefore(R,z)},surroundContents:function(R){var z=W.extractContents();W.insertNode(R),R.appendChild(z),W.selectNode(R)},cloneRange:function(){return X(new w(g),{startContainer:W[Ve],startOffset:W[Oe],endContainer:W[rt],endOffset:W[je],collapsed:W.collapsed,commonAncestorContainer:W.commonAncestorContainer})},toStringIE:function(){return g.create("body",null,h()).outerText}}),W}return w.prototype.toString=function(){return this.toStringIE()},w}),ge(te,[Me],function(_){function g(b,p){var x,h,N,l={};if(b){for(b=b.split(","),p=p||10,x=0;x<b.length;x+=2)h=String.fromCharCode(parseInt(b[x],p)),s[h]||(l[h]=N="&"+b[x+1]+";",l[N]=h);return l}}var i,s,t,f=_.makeMap,r=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,o=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,v=/[<>&\"\']/g,u=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,d={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};s={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},t={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},i=g("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var m={encodeRaw:function(b,p){return b.replace(p?r:o,function(x){return s[x]||x})},encodeAllRaw:function(b){return(""+b).replace(v,function(p){return s[p]||p})},encodeNumeric:function(b,p){return b.replace(p?r:o,function(x){return x.length>1?"&#"+(1024*(x.charCodeAt(0)-55296)+(x.charCodeAt(1)-56320)+65536)+";":s[x]||"&#"+x.charCodeAt(0)+";"})},encodeNamed:function(b,p,x){return x=x||i,b.replace(p?r:o,function(h){return s[h]||x[h]||h})},getEncodeFunc:function(b,p){return p=g(p)||i,(b=f(b.replace(/\+/g,","))).named&&b.numeric?function(N,l){return N.replace(l?r:o,function(c){return s[c]||p[c]||"&#"+c.charCodeAt(0)+";"||c})}:b.named?p?function(N,l){return m.encodeNamed(N,l,p)}:m.encodeNamed:b.numeric?m.encodeNumeric:m.encodeRaw},decode:function(b){return b.replace(u,function(p,x){return x?(x="x"===x.charAt(0).toLowerCase()?parseInt(x.substr(1),16):parseInt(x,10))>65535?(x-=65536,String.fromCharCode(55296+(x>>10),56320+(1023&x))):d[x]||String.fromCharCode(x):t[p]||i[p]||function(b){var p;return(p=document.createElement("div")).innerHTML=b,p.textContent||p.innerText||b}(p)})}};return m}),ge(re,[Me,xe],function(_,w){return function(g,f){function i(v){g.getElementsByTagName("head")[0].appendChild(v)}var o,t=0,r={};o=(f=f||{}).maxLoadTime||5e3,this.load=function(v,u,d){function m(){for(var n=e.passed,y=n.length;y--;)n[y]();e.status=2,e.passed=[],e.failed=[]}function b(){for(var n=e.failed,y=n.length;y--;)n[y]();e.status=3,e.passed=[],e.failed=[]}function x(n,y){n()||((new Date).getTime()-a<o?w.setTimeout(y):b())}function h(){x(function(){for(var y,C,n=g.styleSheets,S=n.length;S--;)if((C=(y=n[S]).ownerNode?y.ownerNode:y.owningElement)&&C.id===l.id)return m(),!0},h)}var l,c,a,e,n;if(v=_._addCacheSuffix(v),r[v]?e=r[v]:r[v]=e={passed:[],failed:[]},u&&e.passed.push(u),d&&e.failed.push(d),1!=e.status){if(2==e.status)return void m();if(3==e.status)return void b();if(e.status=1,(l=g.createElement("link")).rel="stylesheet",l.type="text/css",l.id="u"+t++,l.async=!1,l.defer=!1,a=(new Date).getTime(),!("onload"in l)||(n=navigator.userAgent.match(/WebKit\/(\d*)/))&&n[1]<536){if(navigator.userAgent.indexOf("Firefox")>0)return(c=g.createElement("style")).textContent='@import "'+v+'"',function N(){x(function(){try{var n=c.sheet.cssRules;return m(),!!n}catch(y){}},N)}(),void i(c);h()}else l.onload=h,l.onerror=b;i(l),l.href=v}}}}),ge(oe,[ne,qe,Q,$e,q,me,te,We,Me,re],function(_,w,g,f,i,s,t,r,o,v){function d(e,n){var y=n.attr("style");(y=e.serializeStyle(e.parseStyle(y),n[0].nodeName))||(y=null),n.attr("data-mce-style",y)}function m(e,n){var S,C,y=0;if(e)for(S=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)C=e.nodeType,(!n||3!=C||C!=S&&e.nodeValue.length)&&(y++,S=C);return y}function b(e,n){var S,y=this;y.doc=e,y.win=window,y.files={},y.counter=0,y.stdMode=!l||e.documentMode>=8,y.boxModel=!l||"CSS1Compat"==e.compatMode||y.stdMode,y.styleSheetLoader=new v(e),y.boundEvents=[],y.settings=n=n||{},y.schema=n.schema,y.styles=new g({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),y.fixDoc(e),y.events=n.ownEvents?new f(n.proxy):f.Event,y.attrHooks=function(e,n){var y={},S=n.keep_values;return y={style:{set:function(k,T){return null!==T&&"object"==typeof T?void k.css(T):(S&&k.attr("data-mce-style",T),void k.attr("style",T))},get:function(k){var T=k.attr("data-mce-style")||k.attr("style");return e.serializeStyle(e.parseStyle(T),k[0].nodeName)}}},S&&(y.href=y.src={set:function(k,T,I){n.url_converter&&(T=n.url_converter.call(n.url_converter_scope||e,T,I,k[0])),k.attr("data-mce-"+I,T).attr(I,T)},get:function(k,T){return k.attr("data-mce-"+T)||k.attr(T)}}),y}(y,n),S=n.schema?n.schema.getBlockElements():{},y.$=w.overrideDefaults(function(){return{context:e,element:y.getRoot()}}),y.isBlock=function(C){if(!C)return!1;var k=C.nodeType;return k?!(1!==k||!S[C.nodeName]):!!S[C]}}var p=o.each,x=o.is,h=o.grep,N=o.trim,l=r.ie,c=/^([a-z0-9],?)+$/i,a=/^[ \t\r\n]*$/;return b.prototype={$$:function(e){return"string"==typeof e&&(e=this.get(e)),this.$(e)},root:null,fixDoc:function(e){var y,n=this.settings;if(l&&n.schema)for(y in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(S){e.createElement(S)}),n.schema.getCustomElements())e.createElement(y)},clone:function(e,n){var S,y=this;return!l||1!==e.nodeType||n?e.cloneNode(n):n?S.firstChild:(S=y.doc.createElement(e.nodeName),p(y.getAttribs(e),function(k){y.setAttrib(S,k.nodeName,y.getAttrib(e,k.nodeName))}),S)},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(e){var n,y;return n=(e=e||this.win).document,y=this.boxModel?n.documentElement:n.body,{x:e.pageXOffset||y.scrollLeft,y:e.pageYOffset||y.scrollTop,w:e.innerWidth||y.clientWidth,h:e.innerHeight||y.clientHeight}},getRect:function(e){var y,S,n=this;return e=n.get(e),y=n.getPos(e),S=n.getSize(e),{x:y.x,y:y.y,w:S.w,h:S.h}},getSize:function(e){var y,S,n=this;return e=n.get(e),y=n.getStyle(e,"width"),S=n.getStyle(e,"height"),-1===y.indexOf("px")&&(y=0),-1===S.indexOf("px")&&(S=0),{w:parseInt(y,10)||e.offsetWidth||e.clientWidth,h:parseInt(S,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,n,y){return this.getParents(e,n,y,!1)},getParents:function(e,n,y,S){var k,C=this,T=[];for(e=C.get(e),S=S===Xt,y=y||("BODY"!=C.getRoot().nodeName?C.getRoot().parentNode:null),x(n,"string")&&(k=n,n="*"===n?function(I){return 1==I.nodeType}:function(I){return C.is(I,k)});e&&e!=y&&e.nodeType&&9!==e.nodeType;){if(!n||n(e)){if(!S)return e;T.push(e)}e=e.parentNode}return S?T:null},get:function(e){var n;return e&&this.doc&&"string"==typeof e&&(n=e,(e=this.doc.getElementById(e))&&e.id!==n)?this.doc.getElementsByName(n)[1]:e},getNext:function(e,n){return this._findSib(e,n,"nextSibling")},getPrev:function(e,n){return this._findSib(e,n,"previousSibling")},select:function(e,n){var y=this;return _(e,y.get(n)||y.settings.root_element||y.doc,[])},is:function(e,n){var y;if(e.length===Xt){if("*"===n)return 1==e.nodeType;if(c.test(n)){for(n=n.toLowerCase().split(/,/),e=e.nodeName.toLowerCase(),y=n.length-1;y>=0;y--)if(n[y]==e)return!0;return!1}}if(e.nodeType&&1!=e.nodeType)return!1;var S=e.nodeType?[e]:e;return _(n,S[0].ownerDocument||S[0],null,S).length>0},add:function(e,n,y,S,C){var k=this;return this.run(e,function(T){var I;return I=x(n,"string")?k.doc.createElement(n):n,k.setAttribs(I,y),S&&(S.nodeType?I.appendChild(S):k.setHTML(I,S)),C?I:T.appendChild(I)})},create:function(e,n,y){return this.add(this.doc.createElement(e),e,n,y,1)},createHTML:function(e,n,y){var C,S="";for(C in S+="<"+e,n)n.hasOwnProperty(C)&&null!=n[C]&&(S+=" "+C+'="'+this.encode(n[C])+'"');return void 0!==y?S+">"+y+"</"+e+">":S+" />"},createFragment:function(e){var n,y,C,S=this.doc;for(C=S.createElement("div"),n=S.createDocumentFragment(),e&&(C.innerHTML=e);y=C.firstChild;)n.appendChild(y);return n},remove:function(e,n){return e=this.$$(e),n?e.each(function(){for(var y;y=this.firstChild;)3==y.nodeType&&0===y.data.length?this.removeChild(y):this.parentNode.insertBefore(y,this)}).remove():e.remove(),e.length>1?e.toArray():e[0]},setStyle:function(e,n,y){e=this.$$(e).css(n,y),this.settings.update_styles&&d(this,e)},getStyle:function(e,n,y){return e=this.$$(e),y?e.css(n):("float"==(n=n.replace(/-(\D)/g,function(S,C){return C.toUpperCase()}))&&(n=r.ie&&r.ie<12?"styleFloat":"cssFloat"),e[0]&&e[0].style?e[0].style[n]:Xt)},setStyles:function(e,n){e=this.$$(e).css(n),this.settings.update_styles&&d(this,e)},removeAllAttribs:function(e){return this.run(e,function(n){var y,S=n.attributes;for(y=S.length-1;y>=0;y--)n.removeAttributeNode(S.item(y))})},setAttrib:function(e,n,y){var C,k,S=this,T=S.settings;""===y&&(y=null),C=(e=S.$$(e)).attr(n),e.length&&((k=S.attrHooks[n])&&k.set?k.set(e,y,n):e.attr(n,y),C!=y&&T.onSetAttrib&&T.onSetAttrib({attrElm:e,attrName:n,attrValue:y}))},setAttribs:function(e,n){var y=this;y.$$(e).each(function(S,C){p(n,function(k,T){y.setAttrib(C,T,k)})})},getAttrib:function(e,n,y){var C,k;return(e=this.$$(e)).length&&(k=(C=this.attrHooks[n])&&C.get?C.get(e,n):e.attr(n)),void 0===k&&(k=y||""),k},getPos:function(e,n){var k,M,y=this,S=0,C=0,T=y.doc,I=T.body;if(n=n||I,e=y.get(e)){if(n===I&&e.getBoundingClientRect&&"static"===w(I).css("position"))return{x:S=(M=e.getBoundingClientRect()).left+(T.documentElement.scrollLeft||I.scrollLeft)-(n=y.boxModel?T.documentElement:I).clientLeft,y:C=M.top+(T.documentElement.scrollTop||I.scrollTop)-n.clientTop};for(k=e;k&&k!=n&&k.nodeType;)S+=k.offsetLeft||0,C+=k.offsetTop||0,k=k.offsetParent;for(k=e.parentNode;k&&k!=n&&k.nodeType;)S-=k.scrollLeft||0,C-=k.scrollTop||0,k=k.parentNode}return{x:S,y:C}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,n){return this.styles.serialize(e,n)},addStyle:function(e){var S,C,y=this.doc;if(this!==b.DOM&&y===document){var k=b.DOM.addedStyles;if((k=k||[])[e])return;k[e]=!0,b.DOM.addedStyles=k}(C=y.getElementById("mceDefaultStyles"))||((C=y.createElement("style")).id="mceDefaultStyles",C.type="text/css",(S=y.getElementsByTagName("head")[0]).firstChild?S.insertBefore(C,S.firstChild):S.appendChild(C)),C.styleSheet?C.styleSheet.cssText+=e:C.appendChild(y.createTextNode(e))},loadCSS:function(e){var S,n=this,y=n.doc;return n!==b.DOM&&y===document?void b.DOM.loadCSS(e):(e||(e=""),S=y.getElementsByTagName("head")[0],void p(e.split(","),function(C){var k;C=o._addCacheSuffix(C),n.files[C]||(n.files[C]=!0,k=n.create("link",{rel:"stylesheet",href:C}),l&&y.documentMode&&y.recalc&&(k.onload=function(){y.recalc&&y.recalc(),k.onload=null}),S.appendChild(k))}))},addClass:function(e,n){this.$$(e).addClass(n)},removeClass:function(e,n){this.toggleClass(e,n,!1)},hasClass:function(e,n){return this.$$(e).hasClass(n)},toggleClass:function(e,n,y){this.$$(e).toggleClass(n,y).each(function(){""===this.className&&w(this).attr("class",null)})},show:function(e){this.$$(e).show()},hide:function(e){this.$$(e).hide()},isHidden:function(e){return"none"==this.$$(e).css("display")},uniqueId:function(e){return(e||"mce_")+this.counter++},setHTML:function(e,n){e=this.$$(e),l?e.each(function(y,S){if(!1!==S.canHaveHTML){for(;S.firstChild;)S.removeChild(S.firstChild);try{S.innerHTML="<br>"+n,S.removeChild(S.firstChild)}catch(C){w("<div></div>").html("<br>"+n).contents().slice(1).appendTo(S)}return n}}):e.html(n)},getOuterHTML:function(e){return 1==(e=this.get(e)).nodeType&&"outerHTML"in e?e.outerHTML:w("<div></div>").append(w(e).clone()).html()},setOuterHTML:function(e,n){var y=this;y.$$(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=n)}catch(S){}y.remove(w(this).html(n),!0)})},decode:t.decode,encode:t.encodeAllRaw,insertAfter:function(e,n){return n=this.get(n),this.run(e,function(y){var S,C;return S=n.parentNode,(C=n.nextSibling)?S.insertBefore(y,C):S.appendChild(y),y})},replace:function(e,n,y){return this.run(n,function(C){return x(C,"array")&&(e=e.cloneNode(!0)),y&&p(h(C.childNodes),function(k){e.appendChild(k)}),C.parentNode.replaceChild(e,C)})},rename:function(e,n){var S,y=this;return e.nodeName!=n.toUpperCase()&&(S=y.create(n),p(y.getAttribs(e),function(C){y.setAttrib(S,C.nodeName,y.getAttrib(e,C.nodeName))}),y.replace(S,e,1)),S||e},findCommonAncestor:function(e,n){for(var S,y=e;y;){for(S=n;S&&y!=S;)S=S.parentNode;if(y==S)break;y=y.parentNode}return!y&&e.ownerDocument?e.ownerDocument.documentElement:y},toHex:function(e){return this.styles.toHex(o.trim(e))},run:function(e,n,y){var C,S=this;return"string"==typeof e&&(e=S.get(e)),!!e&&(y=y||this,e.nodeType||!e.length&&0!==e.length?n.call(y,e):(C=[],p(e,function(k,T){k&&("string"==typeof k&&(k=S.get(k)),C.push(n.call(y,k,T)))}),C))},getAttribs:function(e){var n;return(e=this.get(e))?l?(n=[],"OBJECT"==e.nodeName?e.attributes:("OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&n.push({specified:1,nodeName:"selected"}),e.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(S){n.push({specified:1,nodeName:S})}),n)):e.attributes:[]},isEmpty:function(e,n){var S,C,k,T,I,M,y=this,D=0;if(e=e.firstChild){I=new i(e,e.parentNode),n=n||(y.schema?y.schema.getNonEmptyElements():null),T=y.schema?y.schema.getWhiteSpaceElements():{};do{if(1===(k=e.nodeType)){var O=e.getAttribute("data-mce-bogus");if(O){e=I.next("all"===O);continue}if(M=e.nodeName.toLowerCase(),n&&n[M]){if("br"===M){D++,e=I.next();continue}return!1}for(S=(C=y.getAttribs(e)).length;S--;)if("name"===(M=C[S].nodeName)||"data-mce-bookmark"===M)return!1}if(8==k||3===k&&!a.test(e.nodeValue)||3===k&&e.parentNode&&T[e.parentNode.nodeName]&&a.test(e.nodeValue))return!1;e=I.next()}while(e)}return D<=1},createRng:function(){var e=this.doc;return e.createRange?e.createRange():new s(this)},nodeIndex:m,split:function(e,n,y){function S(D){var L,P,U=D.childNodes,W=D.nodeType;if(1!=W||"bookmark"!=D.getAttribute("data-mce-type")){for(L=U.length-1;L>=0;L--)S(U[L]);if(9!=W){if(3==W&&D.nodeValue.length>0){var E=N(D.nodeValue).length;if(!C.isBlock(D.parentNode)||E>0||0===E&&(P=D).previousSibling&&"SPAN"==P.previousSibling.nodeName&&P.nextSibling&&"SPAN"==P.nextSibling.nodeName)return}else if(1==W&&(1==(U=D.childNodes).length&&U[0]&&1==U[0].nodeType&&"bookmark"==U[0].getAttribute("data-mce-type")&&D.parentNode.insertBefore(U[0],D),U.length||/^(br|hr|input|img)$/i.test(D.nodeName)))return;C.remove(D)}return D}}var T,I,M,C=this,k=C.createRng();if(e&&n)return k.setStart(e.parentNode,C.nodeIndex(e)),k.setEnd(n.parentNode,C.nodeIndex(n)),T=k.extractContents(),(k=C.createRng()).setStart(n.parentNode,C.nodeIndex(n)+1),k.setEnd(e.parentNode,C.nodeIndex(e)+1),I=k.extractContents(),(M=e.parentNode).insertBefore(S(T),e),M.insertBefore(y||n,e),M.insertBefore(S(I),e),C.remove(e),y||n},bind:function(e,n,y,S){var C=this;if(o.isArray(e)){for(var k=e.length;k--;)e[k]=C.bind(e[k],n,y,S);return e}return!C.settings.collect||e!==C.doc&&e!==C.win||C.boundEvents.push([e,n,y,S]),C.events.bind(e,n,y,S||C)},unbind:function(e,n,y){var C,S=this;if(o.isArray(e)){for(C=e.length;C--;)e[C]=S.unbind(e[C],n,y);return e}if(S.boundEvents&&(e===S.doc||e===S.win))for(C=S.boundEvents.length;C--;){var k=S.boundEvents[C];e!=k[0]||n&&n!=k[1]||y&&y!=k[2]||this.events.unbind(k[0],k[1],k[2])}return this.events.unbind(e,n,y)},fire:function(e,n,y){return this.events.fire(e,n,y)},getContentEditable:function(e){var n;return e&&1==e.nodeType?(n=e.getAttribute("data-mce-contenteditable"))&&"inherit"!==n?n:"inherit"!==e.contentEditable?e.contentEditable:null:null},getContentEditableParent:function(e){for(var n=this.getRoot(),y=null;e&&e!==n&&null===(y=this.getContentEditable(e));e=e.parentNode);return y},destroy:function(){var e=this;if(e.boundEvents){for(var n=e.boundEvents.length;n--;){var y=e.boundEvents[n];this.events.unbind(y[0],y[1],y[2])}e.boundEvents=null}_.setDocument&&_.setDocument(),e.win=e.doc=e.root=e.events=e.frag=null},isChildOf:function(e,n){for(;e;){if(n===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,n,y){var S=this,C=n;if(e)for("string"==typeof C&&(C=function(k){return S.is(k,n)}),e=e[y];e;e=e[y])if(C(e))return e;return null}},b.DOM=new b(document),b.nodeIndex=m,b}),ge(Be,[oe,Me],function(_,w){function g(){var N,m={},b=[],p={},x=[],h=0;this.isDone=function(l){return 2==m[l]},this.markDone=function(l){m[l]=2},this.add=this.load=function(l,c,a,e){m[l]==N&&(b.push(l),m[l]=0),c&&(p[l]||(p[l]=[]),p[l].push({success:c,failure:e,scope:a||this}))},this.remove=function(l){delete m[l],delete p[l]},this.loadQueue=function(l,c,a){this.loadScripts(b,l,c,a)},this.loadScripts=function(l,c,a,e){function n(C,k){i(p[k],function(T){t(T[C])&&T[C].call(T.scope)}),p[k]=N}var y,S=[];x.push({success:c,failure:e,scope:a||this}),(y=function(){var C=s(l);l.length=0,i(C,function(k){return 2===m[k]?void n("success",k):3===m[k]?void n("failure",k):void(1!==m[k]&&(m[k]=1,h++,function(l,c,a){function e(){y.remove(C),S&&(S.onreadystatechange=S.onload=S=null),c()}var S,C,y=f;C=y.uniqueId(),(S=document.createElement("script")).id=C,S.type="text/javascript",S.src=w._addCacheSuffix(l),"onreadystatechange"in S?S.onreadystatechange=function(){/loaded|complete/.test(S.readyState)&&e()}:S.onload=e,S.onerror=function(){t(a)?a():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+l)},(document.getElementsByTagName("head")[0]||document.body).appendChild(S)}(k,function(){m[k]=2,h--,n("success",k),y()},function(){m[k]=3,h--,S.push(k),n("failure",k),y()})))}),h||(i(x,function(k){0===S.length?t(k.success)&&k.success.call(k.scope):t(k.failure)&&k.failure.call(k.scope,S)}),x.length=0)})()}}var f=_.DOM,i=w.each,s=w.grep,t=function(r){return"function"==typeof r};return g.ScriptLoader=new g,g}),ge(fe,[Be,Me],function(_,w){function g(){var i=this;i.items=[],i.urls={},i.lookup={}}var f=w.each;return g.prototype={get:function(i){return this.lookup[i]?this.lookup[i].instance:Xt},dependencies:function(i){var s;return this.lookup[i]&&(s=this.lookup[i].dependencies),s||[]},requireLangPack:function(i,s){var t=g.language;if(t&&!1!==g.languageLoad){if(s)if(-1!=(s=","+s+",").indexOf(","+t.substr(0,2)+","))t=t.substr(0,2);else if(-1==s.indexOf(","+t+","))return;_.ScriptLoader.add(this.urls[i]+"/langs/"+t+".js")}},add:function(i,s,t){return this.items.push(s),this.lookup[i]={instance:s,dependencies:t},s},remove:function(i){delete this.urls[i],delete this.lookup[i]},createUrl:function(i,s){return"object"==typeof s?s:{prefix:i.prefix,resource:s,suffix:i.suffix}},addComponents:function(i,s){var t=this.urls[i];f(s,function(r){_.ScriptLoader.add(t+"/"+r)})},load:function(i,s,t,r,o){function v(){var m=u.dependencies(i);f(m,function(b){var p=u.createUrl(s,b);u.load(p.resource,p,Xt,Xt)}),t&&t.call(r||_)}var u=this,d=s;u.urls[i]||("object"==typeof s&&(d=s.prefix+s.resource+s.suffix),0!==d.indexOf("/")&&-1==d.indexOf("://")&&(d=g.baseURL+"/"+d),u.urls[i]=d.substring(0,d.lastIndexOf("/")),u.lookup[i]?v():_.ScriptLoader.add(d,v,r,o))}},g.PluginManager=new g,g.ThemeManager=new g,g}),ge(Re,[],function(){function _(o){return function(v){return!!v&&v.nodeType==o}}function w(o){return o=o.toLowerCase().split(" "),function(v){var u,d;if(v&&v.nodeType)for(d=v.nodeName.toLowerCase(),u=0;u<o.length;u++)if(d===o[u])return!0;return!1}}function t(o){return function(v){return!(!r(v)||v.contentEditable!==o&&v.getAttribute("data-mce-contenteditable")!==o)}}var r=_(1);return{isText:_(3),isElement:r,isComment:_(8),isBr:w("br"),isContentEditableTrue:t("true"),isContentEditableFalse:t("false"),matchNodeNames:w,hasPropValue:function(o,v){return function(u){return r(u)&&u[o]===v}},hasAttributeValue:function(o,v){return function(u){return r(u)&&u.getAttribute(o)===v}},matchStyleValues:function(o,v){return v=v.toLowerCase().split(" "),function(u){var d;if(r(u))for(d=0;d<v.length;d++)if(getComputedStyle(u,null).getPropertyValue(o)===v[d])return!0;return!1}},isBogus:function(o){return r(o)&&o.hasAttribute("data-mce-bogus")}}}),ge(at,[],function(){return{isZwsp:function(f){return"\ufeff"==f},ZWSP:"\ufeff",trim:function(f){return f.replace(new RegExp("\ufeff","g"),"")}}}),ge(pt,[Re,at],function(_,w){function g(c){return l(c)&&(c=c.parentNode),N(c)&&c.hasAttribute("data-mce-caret")}function f(c){return l(c)&&w.isZwsp(c.data)}function i(c){return g(c)||f(c)}function s(c){var a=c.parentNode;a&&a.removeChild(c)}function d(c){return c.firstChild!==c.lastChild||!_.isBr(c.firstChild)}function b(c){return l(c)&&c.data[0]==w.ZWSP}function p(c){return l(c)&&c.data[c.data.length-1]==w.ZWSP}var N=_.isElement,l=_.isText;return{isCaretContainer:i,isCaretContainerBlock:g,isCaretContainerInline:f,showCaretContainerBlock:function(c){return c&&c.hasAttribute("data-mce-caret")?(function(c){var a=c.getElementsByTagName("br"),e=a[a.length-1];_.isBogus(e)&&e.parentNode.removeChild(e)}(c),c.removeAttribute("data-mce-caret"),c.removeAttribute("data-mce-bogus"),c.removeAttribute("style"),c.removeAttribute("_moz_abspos"),c):null},insertInline:function(c,a){var n,y,S;if(y=c.ownerDocument.createTextNode(w.ZWSP),S=c.parentNode,a){if(l(n=c.previousSibling)){if(i(n))return n;if(p(n))return n.splitText(n.data.length-1)}S.insertBefore(y,c)}else{if(l(n=c.nextSibling)){if(i(n))return n;if(b(n))return n.splitText(1),n}c.nextSibling?S.insertBefore(y,c.nextSibling):S.appendChild(y)}return y},insertBlock:function(c,a,e){var y,S;return(y=a.ownerDocument.createElement(c)).setAttribute("data-mce-caret",e?"before":"after"),y.setAttribute("data-mce-bogus","all"),y.appendChild(function(){var c=document.createElement("br");return c.setAttribute("data-mce-bogus","1"),c}()),S=a.parentNode,e?S.insertBefore(y,a):a.nextSibling?S.insertBefore(y,a.nextSibling):S.appendChild(y),y},hasContent:d,remove:function(c){if(N(c)&&i(c)&&(d(c)?c.removeAttribute("data-mce-caret"):s(c)),l(c)){var a=w.trim(function(c){try{return c.nodeValue}catch(a){return""}}(c));!function(c,a){0===a.length?s(c):c.nodeValue=a}(c,a)}},startsWithCaretContainer:b,endsWithCaretContainer:p}}),ge(dt,[Me,q,Re,me,pt],function(_,w,g,f,i){function s(l){return x(l)||h(l)}function r(l,c,a){for(;l&&l!==c;){if(a(l))return l;l=l.parentNode}return null}function v(l){return"_mce_caret"===l.id}function u(l,c){return N(l)&&!1===function(l,c,a){return null!==r(l,c,a)}(l,c,v)}function d(l){this.walk=function(c,a){function e(P){var H;return 3===(H=P[0]).nodeType&&H===C&&k>=H.nodeValue.length&&P.splice(0,1),H=P[P.length-1],0===I&&P.length>0&&H===T&&3===H.nodeType&&P.splice(P.length-1,1),P}function n(P,H,V){for(var Y=[];P&&P!=V;P=P[H])Y.push(P);return Y}function y(P,H){do{if(P.parentNode==H)return P;P=P.parentNode}while(P)}function S(P,H,V){var Y=V?"nextSibling":"previousSibling";for(U=(L=P).parentNode;L&&L!=H;L=U)U=L.parentNode,(W=n(L==P?L:L[Y],Y)).length&&(V||W.reverse(),a(e(W)))}var M,D,O,L,U,W,E,C=c.startContainer,k=c.startOffset,T=c.endContainer,I=c.endOffset;if((E=l.select("td[data-mce-selected],th[data-mce-selected]")).length>0)p(E,function(P){a([P])});else{if(1==C.nodeType&&C.hasChildNodes()&&(C=C.childNodes[k]),1==T.nodeType&&T.hasChildNodes()&&(T=function(l,c){var a=l.childNodes;return--c>a.length-1?c=a.length-1:c<0&&(c=0),a[c]||l}(T,I)),C==T)return a(e([C]));for(M=l.findCommonAncestor(C,T),L=C;L;L=L.parentNode){if(L===T)return S(C,M,!0);if(L===M)break}for(L=T;L;L=L.parentNode){if(L===C)return S(T,M);if(L===M)break}D=y(C,M)||C,O=y(T,M)||T,S(C,D,!0),(W=n(D==C?D:D.nextSibling,"nextSibling",O==T?O.nextSibling:O)).length&&a(e(W)),S(T,O)}},this.split=function(c){function a(C,k){return C.splitText(k)}var e=c.startContainer,n=c.startOffset,y=c.endContainer,S=c.endOffset;return e==y&&3==e.nodeType?n>0&&n<e.nodeValue.length&&(e=(y=a(e,n)).previousSibling,S>n?(e=y=a(y,S-=n).previousSibling,S=y.nodeValue.length,n=0):S=0):(3==e.nodeType&&n>0&&n<e.nodeValue.length&&(e=a(e,n),n=0),3==y.nodeType&&S>0&&S<y.nodeValue.length&&(S=(y=a(y,S).previousSibling).nodeValue.length)),{startContainer:e,startOffset:n,endContainer:y,endOffset:S}},this.normalize=function(c){function a(y){function C(H,V){for(var Y=new w(H,l.getParent(H.parentNode,l.isBlock)||L);H=Y[V?"prev":"next"]();)if("BR"===H.nodeName)return!0}function I(H,V){var Y,pe,Oe;if(Oe=l.getParent((V=V||M).parentNode,l.isBlock)||L,H&&"BR"==V.nodeName&&P&&l.isEmpty(Oe))return M=V.parentNode,D=l.nodeIndex(V),void(e=!0);for(Y=new w(V,Oe);U=Y[H?"prev":"next"]();){if("false"===l.getContentEditableParent(U)||u(U,l.getRoot()))return;if(3===U.nodeType&&U.nodeValue.length>0)return M=U,D=H?U.nodeValue.length:0,void(e=!0);if(l.isBlock(U)||W[U.nodeName.toLowerCase()])return;pe=U}n&&pe&&(M=pe,e=!0,D=0)}var M,D,O,U,W,E,P,H,L=l.getRoot();if(D=c[(y?"start":"end")+"Offset"],P=1==(M=c[(y?"start":"end")+"Container"]).nodeType&&D===M.childNodes.length,W=l.schema.getNonEmptyElements(),E=y,!N(M)){if(1==M.nodeType&&D>M.childNodes.length-1&&(E=!1),9===M.nodeType&&(M=l.getRoot(),D=0),M===L){if(E&&(U=M.childNodes[D>0?D-1:0])&&(N(U)||W[U.nodeName]||"TABLE"==U.nodeName))return;if(M.hasChildNodes()){if(D=Math.min(!E&&D>0?D-1:D,M.childNodes.length-1),M=M.childNodes[D],D=0,!n&&M===L.lastChild&&"TABLE"===M.nodeName||function(H){for(;H&&H!=L;){if(h(H))return!0;H=H.parentNode}return!1}(M)||N(M))return;if(M.hasChildNodes()&&!/TABLE/.test(M.nodeName)){U=M,O=new w(M,L);do{if(h(U)||N(U)){e=!1;break}if(3===U.nodeType&&U.nodeValue.length>0){D=E?0:U.nodeValue.length,M=U,e=!0;break}if(W[U.nodeName.toLowerCase()]&&(!(H=U)||!/^(TD|TH|CAPTION)$/.test(H.nodeName))){D=l.nodeIndex(U),M=U.parentNode,"IMG"!=U.nodeName||E||D++,e=!0;break}}while(U=E?O.next():O.prev())}}}n&&(3===M.nodeType&&0===D&&I(!0),1===M.nodeType&&((U=M.childNodes[D])||(U=M.childNodes[D-1]),!U||"BR"!==U.nodeName||function(H,V){return H.previousSibling&&"A"==H.previousSibling.nodeName}(U)||C(U)||C(U,!0)||I(!0,U))),E&&!n&&3===M.nodeType&&D===M.nodeValue.length&&I(!1),e&&c["set"+(y?"Start":"End")](M,D)}}var e,n;return n=c.collapsed,a(!0),n||a(),e&&n&&c.collapse(!0),e}}var p=_.each,x=g.isContentEditableTrue,h=g.isContentEditableFalse,N=i.isCaretContainer;return d.compareRanges=function(l,c){if(l&&c){if(!l.item&&!l.duplicate)return l.startContainer==c.startContainer&&l.startOffset==c.startOffset;if(l.item&&c.item&&l.item(0)===c.item(0)||l.isEqual&&c.isEqual&&c.isEqual(l))return!0}return!1},d.getCaretRangeFromPoint=function(l,c,a){var e,n;if(a.caretPositionFromPoint)n=a.caretPositionFromPoint(l,c),(e=a.createRange()).setStart(n.offsetNode,n.offset),e.collapse(!0);else if(a.caretRangeFromPoint)e=a.caretRangeFromPoint(l,c);else if(a.body.createTextRange){e=a.body.createTextRange();try{e.moveToPoint(l,c),e.collapse(!0)}catch(y){e=function(l,c,a){var e,n,y;if(e=a.elementFromPoint(l,c),n=a.body.createTextRange(),e&&"HTML"!=e.tagName||(e=a.body),n.moveToElementText(e),(y=(y=_.toArray(n.getClientRects())).sort(function(S,C){return(S=Math.abs(Math.max(S.top-c,S.bottom-c)))-Math.abs(Math.max(C.top-c,C.bottom-c))})).length>0){c=(y[0].bottom+y[0].top)/2;try{return n.moveToPoint(l,c),n.collapse(!0),n}catch(S){}}return null}(l,c,a)}return function(l,c){var a=l&&l.parentElement?l.parentElement():null;return h(r(a,c,s))?null:l}(e,a.body)}return e},d.getSelectedNode=function(l){var c=l.startContainer,a=l.startOffset;return c.hasChildNodes()&&l.endOffset==a+1?c.childNodes[a]:null},d.getNode=function(l,c){return 1==l.nodeType&&l.hasChildNodes()&&(c>=l.childNodes.length&&(c=l.childNodes.length-1),l=l.childNodes[c]),l},d}),ge(Le,[dt,We,xe],function(_,w,g){return function(f){var s,t=[];"onselectionchange"in f.getDoc()||f.on("NodeChange Click MouseUp KeyUp Focus",function(r){var o,v;v={startContainer:(o=f.selection.getRng()).startContainer,startOffset:o.startOffset,endContainer:o.endContainer,endOffset:o.endOffset},"nodechange"!=r.type&&_.compareRanges(v,s)||f.fire("SelectionChange"),s=v}),f.on("contextmenu",function(){f.fire("SelectionChange")}),f.on("SelectionChange",function(){var r=f.selection.getStart(!0);!w.range&&f.selection.isCollapsed()||!function(r){var o,v;if((v=f.$(r).parentsUntil(f.getBody()).add(r)).length===t.length){for(o=v.length;o>=0&&v[o]===t[o];o--);if(-1===o)return t=v,!0}return t=v,!1}(r)&&f.dom.isChildOf(r,f.getBody())&&f.nodeChanged({selectionChange:!0})}),f.on("MouseUp",function(r){r.isDefaultPrevented()||("IMG"==f.selection.getNode().nodeName?g.setEditorTimeout(f,function(){f.nodeChanged()}):f.nodeChanged())}),this.nodeChanged=function(r){var v,u,d,o=f.selection;f.initialized&&o&&!f.settings.disable_nodechange&&!f.readonly&&(d=f.getBody(),(v=o.getStart()||d).ownerDocument==f.getDoc()&&f.dom.isChildOf(v,d)||(v=d),"IMG"==v.nodeName&&o.isCollapsed()&&(v=v.parentNode),u=[],f.dom.getParent(v,function(m){return m===d||void u.push(m)}),(r=r||{}).element=v,r.parents=u,f.fire("NodeChange",r))}}}),ge(Ce,[],function(){function _(i,s,t){var r,o,v=t?"lastChild":"firstChild",u=t?"prev":"next";if(i[v])return i[v];if(i!==s){if(r=i[u])return r;for(o=i.parent;o&&o!==s;o=o.parent)if(r=o[u])return r}}function w(i,s){this.name=i,this.type=s,1===s&&(this.attributes=[],this.attributes.map={})}var g=/^[ \t\r\n]*$/,f={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return w.prototype={replace:function(i){var s=this;return i.parent&&i.remove(),s.insert(i,s),s.remove(),s},attr:function(i,s){var r,o,t=this;if("string"!=typeof i){for(o in i)t.attr(o,i[o]);return t}if(r=t.attributes){if(void 0!==s){if(null===s){if(i in r.map)for(delete r.map[i],o=r.length;o--;)if(r[o].name===i)return r=r.splice(o,1),t;return t}if(i in r.map){for(o=r.length;o--;)if(r[o].name===i){r[o].value=s;break}}else r.push({name:i,value:s});return r.map[i]=s,t}return r.map[i]}},clone:function(){var t,r,o,v,u,i=this,s=new w(i.name,i.type);if(o=i.attributes){for((u=[]).map={},t=0,r=o.length;t<r;t++)"id"!==(v=o[t]).name&&(u[u.length]={name:v.name,value:v.value},u.map[v.name]=v.value);s.attributes=u}return s.value=i.value,s.shortEnded=i.shortEnded,s},wrap:function(i){var s=this;return s.parent.insert(i,s),i.append(s),s},unwrap:function(){var s,t,i=this;for(s=i.firstChild;s;)t=s.next,i.insert(s,i,!0),s=t;i.remove()},remove:function(){var i=this,s=i.parent,t=i.next,r=i.prev;return s&&(s.firstChild===i?(s.firstChild=t,t&&(t.prev=null)):r.next=t,s.lastChild===i?(s.lastChild=r,r&&(r.next=null)):t.prev=r,i.parent=i.next=i.prev=null),i},append:function(i){var t,s=this;return i.parent&&i.remove(),(t=s.lastChild)?(t.next=i,i.prev=t,s.lastChild=i):s.lastChild=s.firstChild=i,i.parent=s,i},insert:function(i,s,t){var r;return i.parent&&i.remove(),r=s.parent||this,t?(s===r.firstChild?r.firstChild=i:s.prev.next=i,i.prev=s.prev,i.next=s,s.prev=i):(s===r.lastChild?r.lastChild=i:s.next.prev=i,i.next=s.next,i.prev=s,s.next=i),i.parent=r,i},getAll:function(i){var t,r=[];for(t=this.firstChild;t;t=_(t,this))t.name===i&&r.push(t);return r},empty:function(){var s,t,r,i=this;if(i.firstChild){for(s=[],r=i.firstChild;r;r=_(r,i))s.push(r);for(t=s.length;t--;)(r=s[t]).parent=r.firstChild=r.lastChild=r.next=r.prev=null}return i.firstChild=i.lastChild=null,i},isEmpty:function(i,s){var o,v,r=this.firstChild;if(s=s||{},r)do{if(1===r.type){if(r.attributes.map["data-mce-bogus"])continue;if(i[r.name])return!1;for(o=r.attributes.length;o--;)if("name"===(v=r.attributes[o].name)||0===v.indexOf("data-mce-bookmark"))return!1}if(8===r.type||3===r.type&&!g.test(r.value)||3===r.type&&r.parent&&s[r.parent.name]&&g.test(r.value))return!1}while(r=_(r,this));return!0},walk:function(i){return _(this,null,i)}},w.create=function(i,s){var t,r;if(t=new w(i,f[i]||1),s)for(r in s)t.attr(r,s[r]);return t},w}),ge(Se,[Me],function(_){function w(d,m){return(d=_.trim(d))?d.split(m||" "):[]}function f(d,m){var b;return d&&(b={},"string"==typeof d&&(d={"*":d}),r(d,function(p,x){b[x]=b[x.toUpperCase()]="map"==m?t(p,/[, ]/):v(p,/[, ]/)})),b}var i={},s={},t=_.makeMap,r=_.each,o=_.extend,v=_.explode,u=_.inArray;return function(d){function m(V,Y,pe){var Oe=d[V];return Oe?Oe=t(Oe,/[, ]/,t(Oe.toUpperCase(),/[, ]/)):(Oe=i[V])||(Oe=t(Y," ",t(Y.toUpperCase()," ")),Oe=o(Oe,pe),i[V]=Oe),Oe}function b(V){return new RegExp("^"+V.replace(/([?+*])/g,".$1")+"$")}function p(V){var Y,pe,Oe,Ve,rt,je,X,B,R,z,G,se,ce,ee,_e,be,Ne,ke,St,Wt=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,en=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,vn=/[*?+]/;if(V)for(V=w(V,","),a["@"]&&(be=a["@"].attributes,Ne=a["@"].attributesOrder),Y=0,pe=V.length;Y<pe;Y++)if(rt=Wt.exec(V[Y])){if(R=rt[2],_e=rt[3],B=rt[5],je={attributes:se={},attributesOrder:ce=[]},"#"===(ee=rt[1])&&(je.paddEmpty=!0),"-"===ee&&(je.removeEmpty=!0),"!"===rt[4]&&(je.removeEmptyAttrs=!0),be){for(ke in be)se[ke]=be[ke];ce.push.apply(ce,Ne)}if(B)for(Oe=0,Ve=(B=w(B,"|")).length;Oe<Ve;Oe++)if(rt=en.exec(B[Oe])){if(X={},G=rt[1],z=rt[2].replace(/::/g,":"),ee=rt[3],St=rt[4],"!"===G&&(je.attributesRequired=je.attributesRequired||[],je.attributesRequired.push(z),X.required=!0),"-"===G){delete se[z],ce.splice(u(ce,z),1);continue}ee&&("="===ee&&(je.attributesDefault=je.attributesDefault||[],je.attributesDefault.push({name:z,value:St}),X.defaultValue=St),":"===ee&&(je.attributesForced=je.attributesForced||[],je.attributesForced.push({name:z,value:St}),X.forcedValue=St),"<"===ee&&(X.validValues=t(St,"?"))),vn.test(z)?(je.attributePatterns=je.attributePatterns||[],X.pattern=b(z),je.attributePatterns.push(X)):(se[z]||ce.push(z),se[z]=X)}be||"@"!=R||(be=se,Ne=ce),_e&&(je.outputName=R,a[_e]=je),vn.test(R)?(je.pattern=b(R),n.push(je)):a[R]=je}}function x(V){a={},n=[],p(V),r(C,function(Y,pe){e[pe]=Y.children})}function h(V){var Y=/^(~)?(.+)$/;V&&(i.text_block_elements=i.block_elements=null,r(w(V,","),function(pe){var Oe=Y.exec(pe),Ve="~"===Oe[1],rt=Ve?"span":"div",je=Oe[2];if(e[je]=e[rt],P[je]=rt,Ve||(O[je.toUpperCase()]={},O[je]={}),!a[je]){var X=a[rt];delete(X=o({},X)).removeEmptyAttrs,delete X.removeEmpty,a[je]=X}r(e,function(B,R){B[rt]&&(e[R]=B=o({},e[R]),B[je]=B[rt])})}))}function N(V){var Y=/^([+\-]?)(\w+)\[([^\]]+)\]$/;i[d.schema]=null,V&&r(w(V,","),function(pe){var Ve,rt,Oe=Y.exec(pe);Oe&&(Ve=(rt=Oe[1])?e[Oe[2]]:e[Oe[2]]={"#comment":{}},Ve=e[Oe[2]],r(w(Oe[3],"|"),function(je){"-"===rt?delete Ve[je]:Ve[je]={}}))})}function l(V){var pe,Y=a[V];if(Y)return Y;for(pe=n.length;pe--;)if((Y=n[pe]).pattern.test(V))return Y}var y,S,C,k,T,I,M,D,O,L,U,W,E,c=this,a={},e={},n=[],P={},H={};C=function(d){function m(e,n,y){function S(I,M){var O,L,D={};for(O=0,L=I.length;O<L;O++)D[I[O]]=M||{};return D}var C,k,T;for(n=n||"","string"==typeof(y=y||[])&&(y=w(y)),C=(e=w(e)).length;C--;)T={attributes:S(k=w([x,n].join(" "))),attributesOrder:k,children:S(y,s)},p[e[C]]=T}function b(e,n){var y,S,C,k;for(y=(e=w(e)).length,n=w(n);y--;)for(S=p[e[y]],C=0,k=n.length;C<k;C++)S.attributes[n[C]]={},S.attributesOrder.push(n[C])}var x,h,N,l,c,a,p={};return i[d]?i[d]:(x="id accesskey class dir lang style tabindex title",h="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",N="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!=d&&(x+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",h+=" article aside details dialog figure header footer hgroup section nav",N+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!=d&&(x+=" xml:lang",N=[N,a="acronym applet basefont big font strike tt"].join(" "),r(w(a),function(e){m(e,"",N)}),h=[h,c="center dir isindex noframes"].join(" "),l=[h,N].join(" "),r(w(c),function(e){m(e,"",l)})),l=l||[h,N].join(" "),m("html","manifest","head body"),m("head","","base command link meta noscript script style title"),m("title hr noscript br"),m("base","href target"),m("link","href rel media hreflang type sizes hreflang"),m("meta","name http-equiv content charset"),m("style","media type scoped"),m("script","src async defer type charset"),m("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",l),m("address dt dd div caption","",l),m("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",N),m("blockquote","cite",l),m("ol","reversed start type","li"),m("ul","","li"),m("li","value",l),m("dl","","dt dd"),m("a","href target rel media hreflang type",N),m("q","cite",N),m("ins del","cite datetime",l),m("img","src sizes srcset alt usemap ismap width height"),m("iframe","src name width height",l),m("embed","src type width height"),m("object","data type typemustmatch name usemap form width height",[l,"param"].join(" ")),m("param","name value"),m("map","name",[l,"area"].join(" ")),m("area","alt coords shape href target rel media hreflang type"),m("table","border","caption colgroup thead tfoot tbody tr"+("html4"==d?" col":"")),m("colgroup","span","col"),m("col","span"),m("tbody thead tfoot","","tr"),m("tr","","td th"),m("td","colspan rowspan headers",l),m("th","colspan rowspan headers scope abbr",l),m("form","accept-charset action autocomplete enctype method name novalidate target",l),m("fieldset","disabled form name",[l,"legend"].join(" ")),m("label","form for",N),m("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),m("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==d?l:N),m("select","disabled form multiple name required size","option optgroup"),m("optgroup","disabled label","option"),m("option","disabled label selected value"),m("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),m("menu","type label",[l,"li"].join(" ")),m("noscript","",l),"html4"!=d&&(m("wbr"),m("ruby","",[N,"rt rp"].join(" ")),m("figcaption","",l),m("mark rt rp summary bdi","",N),m("canvas","width height",l),m("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[l,"track source"].join(" ")),m("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[l,"track source"].join(" ")),m("picture","","img source"),m("source","src srcset type media sizes"),m("track","kind src srclang label default"),m("datalist","",[N,"option"].join(" ")),m("article section nav aside header footer","",l),m("hgroup","","h1 h2 h3 h4 h5 h6"),m("figure","",[l,"figcaption"].join(" ")),m("time","datetime",N),m("dialog","open",l),m("command","type label icon disabled checked radiogroup command"),m("output","for form name",N),m("progress","value max",N),m("meter","value min max low high optimum",N),m("details","open",[l,"summary"].join(" ")),m("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=d&&(b("script","language xml:space"),b("style","xml:space"),b("object","declare classid code codebase codetype archive standby align border hspace vspace"),b("embed","align name hspace vspace"),b("param","valuetype type"),b("a","charset name rev shape coords"),b("br","clear"),b("applet","codebase archive code object alt name width height align hspace vspace"),b("img","name longdesc align border hspace vspace"),b("iframe","longdesc frameborder marginwidth marginheight scrolling align"),b("font basefont","size color face"),b("input","usemap align"),b("select","onchange"),b("textarea"),b("h1 h2 h3 h4 h5 h6 div p legend caption","align"),b("ul","type compact"),b("li","type"),b("ol dl menu dir","compact"),b("pre","width xml:space"),b("hr","align noshade size width"),b("isindex","prompt"),b("table","summary width frame rules cellspacing cellpadding align bgcolor"),b("col","width align char charoff valign"),b("colgroup","width align char charoff valign"),b("thead","align char charoff valign"),b("tr","align char charoff valign bgcolor"),b("th","axis align char charoff valign nowrap bgcolor width height"),b("form","accept"),b("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),b("tfoot","align char charoff valign"),b("tbody","align char charoff valign"),b("area","nohref"),b("body","background bgcolor text link vlink alink")),"html4"!=d&&(b("input button select textarea","autofocus"),b("input textarea","placeholder"),b("a","download"),b("link script img","crossorigin"),b("iframe","sandbox seamless allowfullscreen")),r(w("a form meter progress dfn"),function(e){p[e]&&delete p[e].children[e]}),delete p.caption.children.table,delete p.script,i[d]=p,p)}((d=d||{}).schema),!1===d.verify_html&&(d.valid_elements="*[*]"),y=f(d.valid_styles),S=f(d.invalid_styles,"map"),D=f(d.valid_classes,"map"),k=m("whitespace_elements","pre script noscript style textarea video audio iframe object code"),T=m("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),I=m("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),M=m("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),L=m("non_empty_elements","td th iframe video audio object script pre code",I),U=m("move_caret_before_on_enter_elements","table",L),W=m("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),O=m("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",W),E=m("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),r((d.special||"script noscript style textarea").split(" "),function(V){H[V]=new RegExp("</"+V+"[^>]*>","gi")}),d.valid_elements?x(d.valid_elements):(r(C,function(V,Y){a[Y]={attributes:V.attributes,attributesOrder:V.attributesOrder},e[Y]=V.children}),"html5"!=d.schema&&r(w("strong/b em/i"),function(V){V=w(V,"/"),a[V[1]].outputName=V[0]}),r(w("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(V){a[V]&&(a[V].removeEmpty=!0)}),r(w("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(V){a[V].paddEmpty=!0}),r(w("span"),function(V){a[V].removeEmptyAttrs=!0})),h(d.custom_elements),N(d.valid_children),p(d.extended_valid_elements),N("+ol[ul|ol],+ul[ul|ol]"),r({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(V,Y){a[Y]&&(a[Y].parentsRequired=w(V))}),d.invalid_elements&&r(v(d.invalid_elements),function(V){a[V]&&delete a[V]}),l("span")||p("span[!data-mce-type|*]"),c.children=e,c.getValidStyles=function(){return y},c.getInvalidStyles=function(){return S},c.getValidClasses=function(){return D},c.getBoolAttrs=function(){return M},c.getBlockElements=function(){return O},c.getTextBlockElements=function(){return W},c.getTextInlineElements=function(){return E},c.getShortEndedElements=function(){return I},c.getSelfClosingElements=function(){return T},c.getNonEmptyElements=function(){return L},c.getMoveCaretBeforeOnEnterElements=function(){return U},c.getWhiteSpaceElements=function(){return k},c.getSpecialElements=function(){return H},c.isValidChild=function(V,Y){var pe=e[V];return!(!pe||!pe[Y])},c.isValid=function(V,Y){var pe,Oe,Ve=l(V);if(Ve){if(!Y||Ve.attributes[Y])return!0;if(pe=Ve.attributePatterns)for(Oe=pe.length;Oe--;)if(pe[Oe].pattern.test(V))return!0}return!1},c.getElementRule=l,c.getCustomElements=function(){return P},c.addValidElements=p,c.setValidElements=x,c.addCustomElements=h,c.addValidChildren=N,c.elements=a}}),ge(Je,[Se,te,Me],function(_,w,g){function f(t,r,o){var u,d,m,b,v=1;for(b=t.getShortEndedElements(),(m=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=u=o;d=m.exec(r);){if(u=m.lastIndex,"/"===d[1])v--;else if(!d[1]){if(d[2]in b)continue;v++}if(0===v)break}return u}function i(t,r){function o(){}var v=this;t=t||{},v.schema=r=r||new _,!1!==t.fix_self_closing&&(t.fix_self_closing=!0),s("comment cdata text start end pi doctype".split(" "),function(u){u&&(v[u]=t[u]||o)}),v.parse=function(u){function d(se){var ce,ee;for(ce=l.length;ce--&&l[ce].name!==se;);if(ce>=0){for(ee=l.length-1;ee>=ce;ee--)(se=l[ee]).valid&&b.end(se.name);l.length=ce}}function m(se,ce,ee,_e,be){var Ne,ke;if(ee=(ce=ce.toLowerCase())in k?ce:X(ee||_e||be||""),I&&!y&&0!==ce.indexOf("data-")){if(!(Ne=U[ce])&&W){for(ke=W.length;ke--&&!(Ne=W[ke]).pattern.test(ce););-1===ke&&(Ne=null)}if(!Ne||Ne.validValues&&!(ee in Ne.validValues))return}if(R[ce]&&!t.allow_script_urls){var Wt=ee.replace(/[\s\u0000-\u001F]+/g,"");try{Wt=decodeURIComponent(Wt)}catch(en){Wt=unescape(Wt)}if(z.test(Wt)||!t.allow_html_data_urls&&G.test(Wt)&&!/^data:image\//i.test(Wt))return}c.map[ce]=ee,c.push({name:ce,value:ee})}var p,h,N,c,a,e,n,y,S,C,k,T,I,M,D,O,L,U,W,E,P,H,Y,pe,Oe,Ve,rt,B,b=this,x=0,l=[],je=0,X=w.decode,R=g.makeMap("src,href,data,background,formaction,poster"),z=/((java|vb)script|mhtml):/i,G=/^data:/i;for(pe=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),Oe=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,C=r.getShortEndedElements(),Y=t.self_closing_elements||r.getSelfClosingElements(),k=r.getBoolAttrs(),I=t.validate,S=t.remove_internals,B=t.fix_self_closing,Ve=r.getSpecialElements();p=pe.exec(u);){if(x<p.index&&b.text(X(u.substr(x,p.index-x))),h=p[6])":"===(h=h.toLowerCase()).charAt(0)&&(h=h.substr(1)),d(h);else if(h=p[7]){if(":"===(h=h.toLowerCase()).charAt(0)&&(h=h.substr(1)),T=h in C,B&&Y[h]&&l.length>0&&l[l.length-1].name===h&&d(h),!I||(M=r.getElementRule(h))){if(D=!0,I&&(U=M.attributes,W=M.attributePatterns),(L=p[8])?((y=-1!==L.indexOf("data-mce-type"))&&S&&(D=!1),(c=[]).map={},L.replace(Oe,m)):(c=[]).map={},I&&!y){if(E=M.attributesRequired,P=M.attributesDefault,M.removeEmptyAttrs&&!c.length&&(D=!1),H=M.attributesForced)for(a=H.length;a--;)"{$uid}"===(rt=(O=H[a]).value)&&(rt="mce_"+je++),c.map[n=O.name]=rt,c.push({name:n,value:rt});if(P)for(a=P.length;a--;)(n=(O=P[a]).name)in c.map||("{$uid}"===(rt=O.value)&&(rt="mce_"+je++),c.map[n]=rt,c.push({name:n,value:rt}));if(E){for(a=E.length;a--&&!(E[a]in c.map););-1===a&&(D=!1)}if(O=c.map["data-mce-bogus"]){if("all"===O){x=f(r,u,pe.lastIndex),pe.lastIndex=x;continue}D=!1}}D&&b.start(h,c,T)}else D=!1;if(N=Ve[h]){N.lastIndex=x=p.index+p[0].length,(p=N.exec(u))?(D&&(e=u.substr(x,p.index-x)),x=p.index+p[0].length):(e=u.substr(x),x=u.length),D&&(e.length>0&&b.text(e,!0),b.end(h)),pe.lastIndex=x;continue}T||(L&&L.indexOf("/")==L.length-1?D&&b.end(h):l.push({name:h,valid:D}))}else(h=p[1])?(">"===h.charAt(0)&&(h=" "+h),t.allow_conditional_comments||"[if"!==h.substr(0,3).toLowerCase()||(h=" "+h),b.comment(h)):(h=p[2])?b.cdata(h):(h=p[3])?b.doctype(h):(h=p[4])&&b.pi(h,p[5]);x=p.index+p[0].length}for(x<u.length&&b.text(X(u.substr(x))),a=l.length-1;a>=0;a--)(h=l[a]).valid&&b.end(h.name)}}var s=g.each;return i.findEndTag=f,i}),ge(Et,[Ce,Se,Je,Me],function(_,w,g,f){var i=f.makeMap,s=f.each,t=f.explode,r=f.extend,o=function(u,d){u.padd_empty_with_br?d.empty().append(new _("br","1")).shortEnded=!0:d.empty().append(new _("#text","3")).value="\xa0"},v=function(u,d){return u&&u.firstChild===u.lastChild&&u.firstChild.name===d};return function(u,d){var b=this,p={},x=[],h={},N={};(u=u||{}).validate=!("validate"in u)||u.validate,u.root_name=u.root_name||"body",b.schema=d=d||new w,b.filterNode=function(l){var c,a,e;for((a in p&&((e=h[a])?e.push(l):h[a]=[l]),c=x.length);c--;)(a=x[c].name)in l.attributes.map&&((e=N[a])?e.push(l):N[a]=[l]);return l},b.addNodeFilter=function(l,c){s(t(l),function(a){var e=p[a];e||(p[a]=e=[]),e.push(c)})},b.addAttributeFilter=function(l,c){s(t(l),function(a){var e;for(e=0;e<x.length;e++)if(x[e].name===a)return void x[e].callbacks.push(c);x.push({name:a,callbacks:[c]})})},b.parse=function(l,c){function e(B,R){var G,z=new _(B,R);return B in p&&((G=h[B])?G.push(z):h[B]=[z]),z}function n(B){var R,z,G,se,ce=d.getBlockElements();for(R=B.prev;R&&3===R.type;){if((G=R.value.replace(Y,"")).length>0)return void(R.value=G);if(z=R.next){if(3==z.type&&z.value.length){R=R.prev;continue}if(!ce[z.name]&&"script"!=z.name&&"style"!=z.name){R=R.prev;continue}}se=R.prev,R.remove(),R=se}}var S,C,k,T,I,M,D,O,L,U,W,E,P,V,Y,pe,Oe,Ve,rt,je,X,H=[];if(c=c||{},h={},N={},E=r(i("script,style,head,html,body,title,meta,param"),d.getBlockElements()),je=d.getNonEmptyElements(),rt=d.children,W=u.validate,X="forced_root_block"in c?c.forced_root_block:u.forced_root_block,Ve=d.getWhiteSpaceElements(),P=/^[ \t\r\n]+/,Y=/[ \t\r\n]+$/,pe=/[ \t\r\n]+/g,Oe=/^[ \t\r\n]+$/,S=new g({validate:W,allow_script_urls:u.allow_script_urls,allow_conditional_comments:u.allow_conditional_comments,self_closing_elements:function(B){var R,z={};for(R in B)"li"!==R&&"p"!=R&&(z[R]=B[R]);return z}(d.getSelfClosingElements()),cdata:function(B){k.append(e("#cdata",4)).value=B},text:function(B,R){var z;V||(B=B.replace(pe," "),k.lastChild&&E[k.lastChild.name]&&(B=B.replace(P,""))),0!==B.length&&((z=e("#text",3)).raw=!!R,k.append(z).value=B)},comment:function(B){k.append(e("#comment",8)).value=B},pi:function(B,R){k.append(e(B,7)).value=R,n(k)},doctype:function(B){k.append(e("#doctype",10)).value=B,n(k)},start:function(B,R,z){var G,se,ce,ee,_e;if(ce=W?d.getElementRule(B):{}){for((G=e(ce.outputName||B,1)).attributes=R,G.shortEnded=z,k.append(G),(_e=rt[k.name])&&rt[G.name]&&!_e[G.name]&&H.push(G),se=x.length;se--;)(ee=x[se].name)in R.map&&((L=N[ee])?L.push(G):N[ee]=[G]);E[B]&&n(G),z||(k=G),!V&&Ve[B]&&(V=!0)}},end:function(B){var R,z,G,se,ce;if(z=W?d.getElementRule(B):{}){if(E[B]&&!V){if((R=k.firstChild)&&3===R.type)if((G=R.value.replace(P,"")).length>0)R.value=G,R=R.next;else for(se=R.next,R.remove(),R=se;R&&3===R.type;)se=R.next,(0===(G=R.value).length||Oe.test(G))&&(R.remove(),R=se),R=se;if((R=k.lastChild)&&3===R.type)if((G=R.value.replace(Y,"")).length>0)R.value=G,R=R.prev;else for(se=R.prev,R.remove(),R=se;R&&3===R.type;)se=R.prev,(0===(G=R.value).length||Oe.test(G))&&(R.remove(),R=se),R=se}if(V&&Ve[B]&&(V=!1),(z.removeEmpty||z.paddEmpty)&&k.isEmpty(je,Ve))if(z.paddEmpty)o(u,k);else if(!k.attributes.map.name&&!k.attributes.map.id)return ce=k.parent,E[k.name]?k.empty().remove():k.unwrap(),void(k=ce);k=k.parent}}},d),C=k=new _(c.context||u.root_name,11),S.parse(l),W&&H.length&&(c.context?c.invalid=!0:function(l){var c,a,e,n,y,S,C,k,T,I,M,D,O,L,U,W;for(D=i("tr,td,th,tbody,thead,tfoot,table"),I=d.getNonEmptyElements(),M=d.getWhiteSpaceElements(),O=d.getTextBlockElements(),L=d.getSpecialElements(),c=0;c<l.length;c++)if((a=l[c]).parent&&!a.fixed)if(O[a.name]&&"li"==a.parent.name){for(U=a.next;U&&O[U.name];)U.name="li",U.fixed=!0,a.parent.insert(U,a.parent),U=U.next;a.unwrap(a)}else{for(n=[a],e=a.parent;e&&!d.isValidChild(e.name,a.name)&&!D[e.name];e=e.parent)n.push(e);if(e&&n.length>1){for(n.reverse(),y=S=b.filterNode(n[0].clone()),T=0;T<n.length-1;T++){for(d.isValidChild(S.name,n[T].name)?(C=b.filterNode(n[T].clone()),S.append(C)):C=S,k=n[T].firstChild;k&&k!=n[T+1];)W=k.next,C.append(k),k=W;S=C}y.isEmpty(I,M)?e.insert(a,n[0],!0):(e.insert(y,n[0],!0),e.insert(a,y)),((e=n[0]).isEmpty(I,M)||v(e,"br"))&&e.empty().remove()}else if(a.parent){if("li"===a.name){if((U=a.prev)&&("ul"===U.name||"ul"===U.name)){U.append(a);continue}if((U=a.next)&&("ul"===U.name||"ul"===U.name)){U.insert(a,U.firstChild,!0);continue}a.wrap(b.filterNode(new _("ul",1)));continue}d.isValidChild(a.parent.name,"div")&&d.isValidChild("div",a.name)?a.wrap(b.filterNode(new _("div",1))):L[a.name]?a.empty().remove():a.unwrap()}}}(H)),X&&("body"==C.name||c.isRootContent)&&function(){function B(se){se&&((R=se.firstChild)&&3==R.type&&(R.value=R.value.replace(P,"")),(R=se.lastChild)&&3==R.type&&(R.value=R.value.replace(Y,"")))}var z,G,R=C.firstChild;if(d.isValidChild(C.name,X.toLowerCase())){for(;R;)z=R.next,3==R.type||1==R.type&&"p"!==R.name&&!E[R.name]&&!R.attr("data-mce-type")?(G||((G=e(X,1)).attr(u.forced_root_block_attrs),C.insert(G,R)),G.append(R)):(B(G),G=null),R=z;B(G)}}(),!c.invalid){for(U in h){for(L=p[U],D=(T=h[U]).length;D--;)T[D].parent||T.splice(D,1);for(I=0,M=L.length;I<M;I++)L[I](T,U,c)}for(I=0,M=x.length;I<M;I++)if((L=x[I]).name in N){for(D=(T=N[L.name]).length;D--;)T[D].parent||T.splice(D,1);for(D=0,O=L.callbacks.length;D<O;D++)L.callbacks[D](T,L.name,c)}}return C},u.remove_trailing_brs&&b.addNodeFilter("br",function(l){var c,e,S,C,k,T,M,D,a=l.length,n=r({},d.getBlockElements()),y=d.getNonEmptyElements(),I=d.getNonEmptyElements();for(n.body=1,c=0;c<a;c++)if(S=(e=l[c]).parent,n[e.parent.name]&&e===S.lastChild){for(k=e.prev;k;){if("span"!==(T=k.name)||"bookmark"!==k.attr("data-mce-type")){if("br"!==T)break;if("br"===T){e=null;break}}k=k.prev}e&&(e.remove(),S.isEmpty(y,I)&&(M=d.getElementRule(S.name))&&(M.removeEmpty?S.remove():M.paddEmpty&&o(u,S)))}else{for(C=e;S&&S.firstChild===C&&S.lastChild===C&&(C=S,!n[S.name]);)S=S.parent;C===S&&!0!==u.padd_empty_with_br&&((D=new _("#text",3)).value="\xa0",e.replace(D))}}),u.allow_unsafe_link_target||b.addAttributeFilter("href",function(l){function a(k){var T=new RegExp("("+C.replace(" ","|")+")","g");return k&&(k=f.trim(k.replace(T,""))),k||null}for(var y,S,n=l.length,C="noopener noreferrer";n--;)S=(y=l[n]).attr("rel"),"a"===y.name&&y.attr("rel",(k=S,"_blank"==y.attr("target")?function(k){return(k=a(k))?[k,C].join(" "):C}(k):a(k)));var k}),u.allow_html_in_named_anchor||b.addAttributeFilter("id,name",function(l){for(var a,e,n,y,c=l.length;c--;)if("a"===(y=l[c]).name&&y.firstChild&&!y.attr("href")){n=y.parent,a=y.lastChild;do{e=a.prev,n.insert(a,y),a=e}while(a)}}),u.fix_list_elements&&b.addNodeFilter("ul,ol",function(l){for(var a,e,c=l.length;c--;)if("ul"===(e=(a=l[c]).parent).name||"ol"===e.name)if(a.prev&&"li"===a.prev.name)a.prev.append(a);else{var n=new _("li",1);n.attr("style","list-style-type: none"),a.wrap(n)}}),u.validate&&d.getValidClasses()&&b.addAttributeFilter("class",function(l){for(var a,e,n,y,S,k,T,c=l.length,C=d.getValidClasses();c--;){for(e=(a=l[c]).attr("class").split(" "),S="",n=0;n<e.length;n++)y=e[n],T=!1,(k=C["*"])&&k[y]&&(T=!0),k=C[a.name],!T&&k&&k[y]&&(T=!0),T&&(S&&(S+=" "),S+=y);S.length||(S=null),a.attr("class",S)}})}}),ge(gt,[te,Me],function(_,w){var g=w.makeMap;return function(f){var s,t,r,o,v,i=[];return s=(f=f||{}).indent,t=g(f.indent_before||""),r=g(f.indent_after||""),o=_.getEncodeFunc(f.entity_encoding||"raw",f.entities),v="html"==f.element_format,{start:function(u,d,m){var b,p,x,h;if(s&&t[u]&&i.length>0&&(h=i[i.length-1]).length>0&&"\n"!==h&&i.push("\n"),i.push("<",u),d)for(b=0,p=d.length;b<p;b++)i.push(" ",(x=d[b]).name,'="',o(x.value,!0),'"');i[i.length]=!m||v?">":" />",m&&s&&r[u]&&i.length>0&&(h=i[i.length-1]).length>0&&"\n"!==h&&i.push("\n")},end:function(u){var d;i.push("</",u,">"),s&&r[u]&&i.length>0&&(d=i[i.length-1]).length>0&&"\n"!==d&&i.push("\n")},text:function(u,d){u.length>0&&(i[i.length]=d?u:o(u))},cdata:function(u){i.push("<![CDATA[",u,"]]>")},comment:function(u){i.push("\x3c!--",u,"--\x3e")},pi:function(u,d){d?i.push("<?",u," ",o(d),"?>"):i.push("<?",u,"?>"),s&&i.push("\n")},doctype:function(u){i.push("<!DOCTYPE",u,">",s?"\n":"")},reset:function(){i.length=0},getContent:function(){return i.join("").replace(/\n$/,"")}}}}),ge(Dt,[gt,Se],function(_,w){return function(g,f){var i=this,s=new _(g);(g=g||{}).validate=!("validate"in g)||g.validate,i.schema=f=f||new w,i.writer=s,i.serialize=function(t){function r(u){var m,b,p,x,h,N,l,c,a,d=o[u.type];if(d)d(u);else{if(m=u.name,b=u.shortEnded,p=u.attributes,v&&p&&p.length>1&&((N=[]).map={},a=f.getElementRule(u.name))){for(l=0,c=a.attributesOrder.length;l<c;l++)(x=a.attributesOrder[l])in p.map&&(N.map[x]=h=p.map[x],N.push({name:x,value:h}));for(l=0,c=p.length;l<c;l++)(x=p[l].name)in N.map||(N.map[x]=h=p.map[x],N.push({name:x,value:h}));p=N}if(s.start(u.name,p,b),!b){if(u=u.firstChild)do{r(u)}while(u=u.next);s.end(m)}}}var o,v;return v=g.validate,o={3:function(u){s.text(u.value,u.raw)},8:function(u){s.comment(u.value)},7:function(u){s.pi(u.name,u.value)},10:function(u){s.doctype(u.value)},4:function(u){s.cdata(u.value)},11:function(u){if(u=u.firstChild)do{r(u)}while(u=u.next)}},s.reset(),1!=t.type||g.inner?o[11](t):r(t),s.getContent()}}}),ge(Pe,[oe,Et,Je,te,Dt,Ce,Se,We,Me,at],function(_,w,g,f,i,s,t,r,o,v){var d=o.each,m=o.trim,b=_.DOM;return function(p,x){function h(S){var C=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","\\s?("+y.join("|")+')="[^"]+"'].join("|"),"gi");return v.trim(S.replace(C,""))}function N(S){var T,I,M,D,O,C=S,k=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,L=x.schema;for(C=h(C),O=L.getShortEndedElements();D=k.exec(C);)I=k.lastIndex,M=D[0].length,T=O[D[1]]?I:g.findEndTag(L,C,I),C=C.substring(0,I-M)+C.substring(T),k.lastIndex=I-M;return C}var a,e,n,y=["data-mce-selected"];return x&&(a=x.dom,e=x.schema),a=a||b,e=e||new t(p),p.entity_encoding=p.entity_encoding||"named",p.remove_trailing_brs=!("remove_trailing_brs"in p)||p.remove_trailing_brs,(n=new w(p,e)).addAttributeFilter("data-mce-tabindex",function(S,C){for(var T,k=S.length;k--;)(T=S[k]).attr("tabindex",T.attributes.map["data-mce-tabindex"]),T.attr(C,null)}),n.addAttributeFilter("src,href,style",function(S,C){for(var T,I,k=S.length,M="data-mce-"+C,D=p.url_converter,O=p.url_converter_scope;k--;)void 0!==(I=(T=S[k]).attributes.map[M])?(T.attr(C,I.length>0?I:null),T.attr(M,null)):(I=T.attributes.map[C],"style"===C?I=a.serializeStyle(a.parseStyle(I),T.name):D&&(I=D.call(O,I,C,T.name)),T.attr(C,I.length>0?I:null))}),n.addAttributeFilter("class",function(S){for(var k,T,C=S.length;C--;)(T=(k=S[C]).attr("class"))&&(T=k.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),k.attr("class",T.length>0?T:null))}),n.addAttributeFilter("data-mce-type",function(S,C,k){for(var I,T=S.length;T--;)"bookmark"!==(I=S[T]).attributes.map["data-mce-type"]||k.cleanup||I.remove()}),n.addNodeFilter("noscript",function(S){for(var k,C=S.length;C--;)(k=S[C].firstChild)&&(k.value=f.decode(k.value))}),n.addNodeFilter("script,style",function(S,C){function k(O){return O.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var I,M,D,T=S.length;T--;)M=(I=S[T]).firstChild?I.firstChild.value:"","script"===C?((D=I.attr("type"))&&I.attr("type","mce-no/type"==D?null:D.replace(/^mce\-/,"")),M.length>0&&(I.firstChild.value="// <![CDATA[\n"+k(M)+"\n// ]]>")):M.length>0&&(I.firstChild.value="\x3c!--\n"+k(M)+"\n--\x3e")}),n.addNodeFilter("#comment",function(S){for(var k,C=S.length;C--;)0===(k=S[C]).value.indexOf("[CDATA[")?(k.name="#cdata",k.type=4,k.value=k.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===k.value.indexOf("mce:protected ")&&(k.name="#text",k.type=3,k.raw=!0,k.value=unescape(k.value).substr(14))}),n.addNodeFilter("xml:namespace,input",function(S,C){for(var T,k=S.length;k--;)7===(T=S[k]).type?T.remove():1===T.type&&("input"!==C||"type"in T.attributes.map||T.attr("type","text"))}),n.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(S,C){for(var k=S.length;k--;)S[k].attr(C,null)}),{schema:e,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:function(S,C){var T,I,M,D,O,L;return r.ie&&a.select("script,style,select,map").length>0?(O=S.innerHTML,S=S.cloneNode(!1),a.setHTML(S,O)):S=S.cloneNode(!0),(T=document.implementation).createHTMLDocument&&(I=T.createHTMLDocument(""),d("BODY"==S.nodeName?S.childNodes:[S],function(U){I.body.appendChild(I.importNode(U,!0))}),S="BODY"!=S.nodeName?I.body.firstChild:I.body,M=a.doc,a.doc=I),(C=C||{}).format=C.format||"html",C.selection&&(C.forced_root_block=""),C.no_events||(C.node=S,this.onPreProcess(C)),function(p){function x(l){return l&&"br"===l.name}var h,N;x(h=p.lastChild)&&x(N=h.prev)&&(h.remove(),N.remove())}(L=n.parse(m(C.getInner?S.innerHTML:a.getOuterHTML(S)),C)),D=new i(p,e),C.content=D.serialize(L),C.cleanup||(C.content=v.trim(C.content),C.content=C.content.replace(/\uFEFF/g,"")),C.no_events||this.onPostProcess(C),M&&(a.doc=M),C.node=null,C.content},addRules:function(S){e.addValidElements(S)},setRules:function(S){e.setValidElements(S)},onPreProcess:function(S){x&&x.fire("PreProcess",S)},onPostProcess:function(S){x&&x.fire("PostProcess",S)},addTempAttr:function(S){-1===o.inArray(y,S)&&(n.addAttributeFilter(S,function(C,k){for(var T=C.length;T--;)C[T].attr(k,null)}),y.push(S))},trimHtml:h,getTrimmedContent:function(){return N(x.getBody().innerHTML)},trimContent:N}}}),ge(ct,[],function(){return function(w){function g(r,o){var v,d,m,b,p,x,h,l,u=0,N=-1;if((v=r.duplicate()).collapse(o),(l=v.parentElement()).ownerDocument===w.dom.doc){for(;"false"===l.contentEditable;)l=l.parentNode;if(!l.hasChildNodes())return{node:l,inside:1};for(d=(b=l.children).length-1;u<=d;)if(h=Math.floor((u+d)/2),v.moveToElementText(p=b[h]),(N=v.compareEndPoints(o?"StartToStart":"EndToEnd",r))>0)d=h-1;else{if(!(N<0))return{node:p};u=h+1}if(N<0)for(p?v.collapse(!1):(v.moveToElementText(l),v.collapse(!0),p=l,m=!0),x=0;0!==v.compareEndPoints(o?"StartToStart":"StartToEnd",r)&&0!==v.move("character",1)&&l==v.parentElement();)x++;else for(v.collapse(!0),x=0;0!==v.compareEndPoints(o?"StartToStart":"StartToEnd",r)&&0!==v.move("character",-1)&&l==v.parentElement();)x++;return{node:p,position:N,offset:x,inside:m}}}var i=this,s=w.dom;this.getBookmark=function(r){function o(m){var b,p,x,h,N=[];for(b=m.parentNode,p=s.getRoot().parentNode;b!=p&&9!==b.nodeType;){for(h=(x=b.children).length;h--;)if(m===x[h]){N.push(h);break}m=b,b=b.parentNode}return N}function v(m){var b;if(b=g(u,m))return{position:b.position,offset:b.offset,indexes:o(b.node),inside:b.inside}}var u=w.getRng(),d={};return 2===r&&(u.item?d.start={ctrl:!0,indexes:o(u.item(0))}:(d.start=v(!0),w.isCollapsed()||(d.end=v()))),d},this.moveToBookmark=function(r){function o(m){var b,p,x,h;for(b=s.getRoot(),p=m.length-1;p>=0;p--)(x=m[p])<=(h=b.children).length-1&&(b=h[x]);return b}function v(m){var p,x,N,b=r[m?"start":"end"];b&&(p=b.position>0,(x=d.createTextRange()).moveToElementText(o(b.indexes)),void 0!==(N=b.offset)?(x.collapse(b.inside||p),x.moveStart("character",p?-N:N)):x.collapse(m),u.setEndPoint(m?"StartToStart":"EndToStart",x),m&&u.collapse(!0))}var u,d=s.doc.body;r.start&&(r.start.ctrl?((u=d.createControlRange()).addElement(o(r.start.indexes)),u.select()):(u=d.createTextRange(),v(!0),v(),u.select()))},this.addRange=function(r){function o(a){var e,n,y,S,C;y=s.create("a"),e=a?d:b,n=a?m:p,S=v.duplicate(),e!=h&&e!=h.documentElement||(e=N,n=0),3==e.nodeType?(e.parentNode.insertBefore(y,e),S.moveToElementText(y),S.moveStart("character",n),s.remove(y),v.setEndPoint(a?"StartToStart":"EndToEnd",S)):((C=e.childNodes).length?(n>=C.length?s.insertAfter(y,C[C.length-1]):e.insertBefore(y,C[n]),S.moveToElementText(y)):e.canHaveHTML&&(e.innerHTML="<span>&#xFEFF;</span>",S.moveToElementText(y=e.firstChild),S.collapse(!1)),v.setEndPoint(a?"StartToStart":"EndToEnd",S),s.remove(y))}var v,u,d,m,b,p,x,l,c,h=w.dom.doc,N=h.body;if(d=r.startContainer,m=r.startOffset,b=r.endContainer,p=r.endOffset,v=N.createTextRange(),d==b&&1==d.nodeType){if(m==p&&!d.hasChildNodes()){if(d.canHaveHTML)return(x=d.previousSibling)&&!x.hasChildNodes()&&s.isBlock(x)?x.innerHTML="&#xFEFF;":x=null,d.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",v.moveToElementText(d.lastChild),v.select(),s.doc.selection.clear(),d.innerHTML="",void(x&&(x.innerHTML=""));m=s.nodeIndex(d),d=d.parentNode}if(m==p-1)try{if(c=d.childNodes[m],(u=N.createControlRange()).addElement(c),u.select(),(l=w.getRng()).item&&c===l.item(0))return}catch(a){}}o(!0),o(),v.select()},this.getRangeAt=function(){function r(x){var N,l,a,n,h=g(o,x),c=0;if(N=h.node,l=h.offset,!h.inside||N.hasChildNodes())if(void 0!==l){if(h.position<0){if(!(a=h.inside?N.firstChild:N.nextSibling))return void v[x?"setStartAfter":"setEndAfter"](N);if(!l)return void(3==a.nodeType?v[x?"setStart":"setEnd"](a,0):v[x?"setStartBefore":"setEndBefore"](a));for(;a;){if(3==a.nodeType&&(c+=(n=a.nodeValue).length)>=l){N=a,c=n.length-(c-=l);break}a=a.nextSibling}}else{if(!(a=N.previousSibling))return v[x?"setStartBefore":"setEndBefore"](N);if(!l)return void(3==N.nodeType?v[x?"setStart":"setEnd"](a,N.nodeValue.length):v[x?"setStartAfter":"setEndAfter"](a));for(;a;){if(3==a.nodeType&&(c+=a.nodeValue.length)>=l){N=a,c-=l;break}a=a.previousSibling}}v[x?"setStart":"setEnd"](N,c)}else v[x?"setStartBefore":"setEndAfter"](N);else v[x?"setStart":"setEnd"](N,0)}var u,d,m,b,p,o=w.getRng(),v=s.createRng();if((u=o.item?o.item(0):o.parentElement()).ownerDocument!=s.doc)return v;if(d=w.isCollapsed(),o.item)return v.setStart(u.parentNode,s.nodeIndex(u)),v.setEnd(v.startContainer,v.startOffset+1),v;try{r(!0),d||r()}catch(x){if(-2147024809!=x.number)throw x;p=i.getBookmark(2),(m=o.duplicate()).collapse(!0),u=m.parentElement(),d||((m=o.duplicate()).collapse(!1),(b=m.parentElement()).innerHTML=b.innerHTML),u.innerHTML=u.innerHTML,i.moveToBookmark(p),o=w.getRng(),r(!0),d||r()}return v}}}),ge(ut,[We],function(_){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(w){return w.shiftKey||w.ctrlKey||w.altKey||this.metaKeyPressed(w)},metaKeyPressed:function(w){return _.mac?w.metaKey:w.ctrlKey&&!w.altKey}}}),ge(Tt,[ut,Me,xe,We,Re],function(_,w,g,f,i){var t=i.isContentEditableFalse,r=i.isContentEditableTrue;return function(o,v){function u(be){var Ne=v.settings.object_resizing;return!1!==Ne&&!f.iOS&&("string"!=typeof Ne&&(Ne="table,img,div"),"false"!==be.getAttribute("data-mce-resize")&&be!=v.getBody()&&v.dom.is(be,Ne))}function d(be){var Ne,ke,Wt,en;rt=(rt=(Ne=be.screenX-E)*U[2]+Y)<5?5:rt,je=(je=(ke=be.screenY-P)*U[3]+pe)<5?5:je,("IMG"==M.nodeName&&!1!==v.settings.resize_img_proportional?!_.modifierPressed(be):_.modifierPressed(be)||"IMG"==M.nodeName&&U[2]*U[3]!=0)&&(z(Ne)>z(ke)?(je=G(rt*Oe),rt=G(je/Oe)):(rt=G(je/Oe),je=G(rt*Oe))),T.setStyles(D,{width:rt,height:je}),T.setStyles(O,{left:Wt=(Wt=U.startPos.x+Ne)>0?Wt:0,top:en=(en=U.startPos.y+ke)>0?en:0,display:"block"}),O.innerHTML=rt+" &times; "+je,U[2]<0&&D.clientWidth<=rt&&T.setStyle(D,"left",H+(Y-rt)),U[3]<0&&D.clientHeight<=je&&T.setStyle(D,"top",V+(pe-je)),(Ne=se.scrollWidth-ce)+(ke=se.scrollHeight-ee)!=0&&T.setStyles(O,{left:Wt-Ne,top:en-ke}),Ve||(v.fire("ObjectResizeStart",{target:M,width:Y,height:pe}),Ve=!0)}function m(){function be(Ne,ke){ke&&(M.style[Ne]||!v.schema.isValid(M.nodeName.toLowerCase(),Ne)?T.setStyle(M,Ne,ke):T.setAttrib(M,Ne,ke))}Ve=!1,be("width",rt),be("height",je),T.unbind(X,"mousemove",d),T.unbind(X,"mouseup",m),B!=X&&(T.unbind(B,"mousemove",d),T.unbind(B,"mouseup",m)),T.remove(D),T.remove(O),R&&"TABLE"!=M.nodeName||b(M),v.fire("ObjectResized",{target:M,width:rt,height:je}),T.setAttrib(M,"style",T.getAttrib(M,"style")),v.nodeChanged()}function b(be,Ne,ke){var St,Wt,en,vn,un;p(),y(),St=T.getPos(be,se),H=St.x,V=St.y,un=be.getBoundingClientRect(),Wt=un.width||un.right-un.left,en=un.height||un.bottom-un.top,M!=be&&(n(),M=be,rt=je=0),vn=v.fire("ObjectSelected",{target:be}),u(be)&&!vn.isDefaultPrevented()?I(L,function(nn,bn){function pn(ze){E=ze.screenX,P=ze.screenY,Oe=(pe=M.clientHeight)/(Y=M.clientWidth),U=nn,nn.startPos={x:Wt*nn[0]+H,y:en*nn[1]+V},ce=se.scrollWidth,ee=se.scrollHeight,D=M.cloneNode(!0),T.addClass(D,"mce-clonedresizable"),T.setAttrib(D,"data-mce-bogus","all"),D.contentEditable=!1,D.unSelectabe=!0,T.setStyles(D,{left:H,top:V,margin:0}),D.removeAttribute("data-mce-selected"),se.appendChild(D),T.bind(X,"mousemove",d),T.bind(X,"mouseup",m),B!=X&&(T.bind(B,"mousemove",d),T.bind(B,"mouseup",m)),O=T.add(se,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},Y+" &times; "+pe)}var mn;return Ne?void(bn==Ne&&pn(ke)):((mn=T.get("mceResizeHandle"+bn))&&T.remove(mn),mn=T.add(se,"div",{id:"mceResizeHandle"+bn,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+bn+"-resize; margin:0; padding:0"}),f.ie&&(mn.contentEditable=!1),T.bind(mn,"mousedown",function(ze){ze.stopImmediatePropagation(),ze.preventDefault(),pn(ze)}),nn.elm=mn,void T.setStyles(mn,{left:Wt*nn[0]+H-mn.offsetWidth/2,top:en*nn[1]+V-mn.offsetHeight/2}))}):p(),M.setAttribute("data-mce-selected","1")}function p(){var be,Ne;for(be in y(),M&&M.removeAttribute("data-mce-selected"),L)(Ne=T.get("mceResizeHandle"+be))&&(T.unbind(Ne),T.remove(Ne))}function x(be){function Ne(Wt,en){if(Wt)do{if(Wt===en)return!0}while(Wt=Wt.parentNode)}var ke,St;if(!Ve&&!v.removed)return I(T.select("img[data-mce-selected],hr[data-mce-selected]"),function(Wt){Wt.removeAttribute("data-mce-selected")}),St="mousedown"==be.type?be.target:o.getNode(),Ne(St=T.$(St).closest(R?"table":"table,img,hr")[0],se)&&(S(),Ne(ke=o.getStart(!0),St)&&Ne(o.getEnd(!0),St)&&(!R||St!=ke&&"IMG"!==ke.nodeName))?void b(St):void p()}function h(be,Ne,ke){be&&be.attachEvent&&be.attachEvent("on"+Ne,ke)}function N(be,Ne,ke){be&&be.detachEvent&&be.detachEvent("on"+Ne,ke)}function l(be){var ke,St,Wt,vn,un,nn,Ne=be.srcElement;for(St in ke=Ne.getBoundingClientRect(),un=W.clientX-ke.left,nn=W.clientY-ke.top,L)if(vn=Ne.offsetHeight*(Wt=L[St])[1],z(Ne.offsetWidth*Wt[0]-un)<8&&z(vn-nn)<8){U=Wt;break}Ve=!0,v.fire("ObjectResizeStart",{target:M,width:M.clientWidth,height:M.clientHeight}),v.getDoc().selection.empty(),b(Ne,St,W)}function a(be){return t(function(o,v){for(;v&&v!=o;){if(r(v)||t(v))return v;v=v.parentNode}return null}(v.getBody(),be))}function e(be){var Ne=be.srcElement;if(a(Ne))!function(be){be.preventDefault?be.preventDefault():be.returnValue=!1}(be);else if(Ne!=M){if(v.fire("ObjectSelected",{target:Ne}),n(),0===Ne.id.indexOf("mceResizeHandle"))return void(be.returnValue=!1);"IMG"!=Ne.nodeName&&"TABLE"!=Ne.nodeName||(p(),M=Ne,h(Ne,"resizestart",l))}}function n(){N(M,"resizestart",l)}function y(){for(var be in L){var Ne=L[be];Ne.elm&&(T.unbind(Ne.elm),delete Ne.elm)}}function S(){try{v.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(be){}}function C(be){var Ne;if(R){Ne=X.body.createControlRange();try{return Ne.addElement(be),Ne.select(),!0}catch(ke){}}}var M,D,O,L,U,W,E,P,H,V,Y,pe,Oe,Ve,rt,je,ce,ee,T=v.dom,I=w.each,X=v.getDoc(),B=document,R=f.ie&&f.ie<11,z=Math.abs,G=Math.round,se=v.getBody();L={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var _e=".mce-content-body";return v.contentStyles.push(_e+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+_e+" .mce-resizehandle:hover {background: #000}"+_e+" img[data-mce-selected],"+_e+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+_e+" .mce-clonedresizable {position: absolute;"+(f.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+_e+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),v.on("init",function(){R?(v.on("ObjectResized",function(Ne){"TABLE"!=Ne.target.nodeName&&(p(),C(Ne.target))}),h(se,"controlselect",e),v.on("mousedown",function(Ne){W=Ne})):(S(),f.ie>=11&&(v.on("mousedown click",function(Ne){var ke=Ne.target,St=ke.nodeName;Ve||!/^(TABLE|IMG|HR)$/.test(St)||a(ke)||(v.selection.select(ke,"TABLE"==St),"mousedown"==Ne.type&&v.nodeChanged())}),v.dom.bind(se,"mscontrolselect",function(Ne){function ke(St){g.setEditorTimeout(v,function(){v.selection.select(St)})}return a(Ne.target)?(Ne.preventDefault(),void ke(Ne.target)):void(/^(TABLE|IMG|HR)$/.test(Ne.target.nodeName)&&(Ne.preventDefault(),"IMG"==Ne.target.tagName&&ke(Ne.target)))})));var be=g.throttle(function(Ne){v.composing||x(Ne)});v.on("nodechange ResizeEditor ResizeWindow drop",be),v.on("keyup compositionend",function(Ne){M&&"TABLE"==M.nodeName&&be(Ne)}),v.on("hide blur",p)}),v.on("remove",y),{isResizable:u,showResizeRect:b,hideResizeRect:p,updateResizeRect:x,controlSelect:C,destroy:function(){M=D=null,R&&(n(),N(se,"controlselect",e))}}}}),ge(ve,[],function(){var r=[].slice;return{constant:function(o){return function(){return o}},negate:function(o){return function(v){return!o(v)}},and:function(){var o=r.call(arguments);return function(v){for(var u=0;u<o.length;u++)if(!o[u](v))return!1;return!0}},or:function(){var o=r.call(arguments);return function(v){for(var u=0;u<o.length;u++)if(o[u](v))return!0;return!1}},curry:function s(o){var v=r.call(arguments);return v.length-1>=o.length?o.apply(this,v.slice(1)):function(){var u=v.concat([].slice.call(arguments));return s.apply(this,u)}},compose:function(o,v){return function(u){return o(v(u))}},noop:function(){}}}),ge(Qe,[Re,et,pt],function(_,w,g){function f(h){return!x(h)&&(d(h)?!m(h.parentNode):b(h)||u(h)||p(h)||v(h))}function i(h,N){for(h=h.parentNode;h&&h!=N;h=h.parentNode){if(v(h))return!1;if(o(h))return!0}return!0}var o=_.isContentEditableTrue,v=_.isContentEditableFalse,u=_.isBr,d=_.isText,m=_.matchNodeNames("script style textarea"),b=_.matchNodeNames("img input textarea hr iframe video audio object"),p=_.matchNodeNames("table"),x=g.isCaretContainer;return{isCaretCandidate:f,isInEditable:i,isAtomic:function(h){return b(h)||function(h){return!!v(h)&&!0!==w.reduce(h.getElementsByTagName("*"),function(N,l){return N||o(l)},!1)}(h)},isEditableCaretCandidate:function(h,N){return f(h)&&i(h,N)}}}),ge(Ct,[],function(){function _(d){return d?{left:u(d.left),top:u(d.top),bottom:u(d.bottom),right:u(d.right),width:u(d.width),height:u(d.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function f(d,m,b){return d>=0&&d<=Math.min(m.height,b.height)/2}function i(d,m){return d.bottom<m.top||!(d.top>m.bottom)&&f(m.top-d.bottom,d,m)}function s(d,m){return d.top>m.bottom||!(d.bottom<m.top)&&f(m.bottom-d.top,d,m)}function t(d,m){return d.left<m.left}function r(d,m){return d.right>m.right}var u=Math.round;return{clone:_,collapse:function(d,m){return d=_(d),m||(d.left=d.left+d.width),d.right=d.left,d.width=0,d},isEqual:function(d,m){return d.left===m.left&&d.top===m.top&&d.bottom===m.bottom&&d.right===m.right},isAbove:i,isBelow:s,isLeft:t,isRight:r,compare:function(d,m){return i(d,m)?-1:s(d,m)?1:t(d,m)?-1:r(d,m)?1:0},containsXY:function(d,m,b){return m>=d.left&&m<=d.right&&b>=d.top&&b<=d.bottom}}}),ge(He,[],function(){var w=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]");return{isExtendingChar:function(g){return"string"==typeof g&&g.charCodeAt(0)>=768&&w.test(g)}}}),ge(_t,[ve,Re,oe,dt,Qe,Ct,He],function(_,w,g,f,i,s,t){function r(n){return"createRange"in n?n.createRange():g.DOM.createRng()}function o(n){return n&&/[\r\n\t ]/.test(n)}function v(n){var C,y=n.startContainer,S=n.startOffset;return!!(o(n.toString())&&N(y.parentNode)&&(C=y.data,o(C[S-1])||o(C[S+1])))}function d(n,y,S){function I(){return S||(S=function(n){function S(O){var L,U;return U=O.getClientRects(),L=s.clone(U.length>0?U[0]:O.getBoundingClientRect()),c(O)&&0===L.left?function(O){var P,L=O.ownerDocument,U=r(L),W=L.createTextNode("\xa0"),E=O.parentNode;return E.insertBefore(W,O),U.setStart(W,0),U.setEnd(W,1),P=s.clone(U.getBoundingClientRect()),E.removeChild(W),P}(O):L}function C(O,L){return(O=s.collapse(O,L)).width=1,O.right=O.left+1,O}function k(O){0!==O.height&&(I.length>0&&s.isEqual(O,I[I.length-1])||I.push(O))}function T(O,L){var U=r(O.ownerDocument);if(L<O.data.length){if(t.isExtendingChar(O.data[L]))return I;if(t.isExtendingChar(O.data[L-1])&&(U.setStart(O,L),U.setEnd(O,L+1),!v(U)))return k(C(S(U),!1)),I}L>0&&(U.setStart(O,L-1),U.setEnd(O,L),v(U)||k(C(S(U),!1))),L<O.data.length&&(U.setStart(O,L),U.setEnd(O,L+1),v(U)||k(C(S(U),!0)))}var M,D,I=[];if(l(n.container()))return T(n.container(),n.offset()),I;if(m(n.container()))if(n.isAtEnd())D=e(n.container(),n.offset()),l(D)&&T(D,D.data.length),h(D)&&!c(D)&&k(C(S(D),!1));else{if(D=e(n.container(),n.offset()),l(D)&&T(D,0),h(D)&&n.isAtEnd())return k(C(S(D),!1)),I;M=e(n.container(),n.offset()-1),h(M)&&!c(M)&&(p(M)||p(D)||!h(D))&&k(C(S(M),!1)),h(D)&&k(C(S(D),!0))}return I}(new d(n,y))),S}return{container:_.constant(n),offset:_.constant(y),toRange:function(){var L;return(L=r(n.ownerDocument)).setStart(n,y),L.setEnd(n,y),L},getClientRects:I,isVisible:function(){return I().length>0},isAtStart:function(){return l(n),0===y},isAtEnd:function(){return l(n)?y>=n.data.length:y>=n.childNodes.length},isEqual:function(L){return L&&n===L.container()&&y===L.offset()},getNode:function(L){return e(n,L?y-1:y)}}}var m=w.isElement,b=i.isCaretCandidate,p=w.matchStyleValues("display","block table"),x=w.matchStyleValues("float","left right"),h=_.and(m,b,_.negate(x)),N=_.negate(w.matchStyleValues("white-space","pre pre-line pre-wrap")),l=w.isText,c=w.isBr,a=g.nodeIndex,e=f.getNode;return d.fromRangeStart=function(n){return new d(n.startContainer,n.startOffset)},d.fromRangeEnd=function(n){return new d(n.endContainer,n.endOffset)},d.after=function(n){return new d(n.parentNode,a(n)+1)},d.before=function(n){return new d(n.parentNode,a(n))},d}),ge(Lt,[Re,oe,ve,et,_t],function(_,w,g,f,i){function s(c){var a=c.parentNode;return N(a)?s(a):a}function t(c){return c?f.reduce(c.childNodes,function(a,e){return N(e)&&"BR"!=e.nodeName?a=a.concat(t(e)):a.push(e),a},[]):[]}function o(c){return function(a){return c===a}}function v(c){var a,e,n;return a=t(s(c)),e=f.findIndex(a,o(c),c),a=a.slice(0,e+1),n=f.reduce(a,function(y,S,C){return h(S)&&h(a[C-1])&&y++,y},0),a=f.filter(a,_.matchNodeNames(c.nodeName)),(e=f.findIndex(a,o(c),c))-n}function u(c){return(h(c)?"text()":c.nodeName.toLowerCase())+"["+v(c)+"]"}var h=_.isText,N=_.isBogus,l=w.nodeIndex;return{create:function(c,a){var e,n,S,C,k,y=[];return e=a.container(),n=a.offset(),h(e)?S=function(c,a){for(;(c=c.previousSibling)&&h(c);)a+=c.data.length;return a}(e,n):(n>=(C=e.childNodes).length?(S="after",n=C.length-1):S="before",e=C[n]),y.push(u(e)),k=function(c,a,e){var n=[];for(a=a.parentNode;a!=c;a=a.parentNode)n.push(a);return n}(c,e),k=f.filter(k,g.negate(_.isBogus)),(y=y.concat(f.map(k,function(T){return u(T)}))).reverse().join("/")+","+S},resolve:function(c,a){var e,n,y;return a?(e=a.split(","),a=e[0].split("/"),y=e.length>1?e[1]:"before",n=f.reduce(a,function(S,C){return(C=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(C))?("text()"===C[1]&&(C[1]="#text"),function(c,a,e){var n=t(c);return n=f.filter(n,function(y,S){return!h(y)||!h(n[S-1])}),(n=f.filter(n,_.matchNodeNames(a)))[e]}(S,C[1],parseInt(C[2],10))):null},c),n?h(n)?function(c,a){for(var y,e=c,n=0;h(e);){if(y=e.data.length,a>=n&&a<=n+y){c=e,a-=n;break}if(!h(e.nextSibling)){c=e,a=y;break}n+=y,e=e.nextSibling}return a>c.data.length&&(a=c.data.length),new i(c,a)}(n,parseInt(y,10)):(y="after"===y?l(n)+1:l(n),new i(n.parentNode,y)):null):null}}}),ge(Ot,[We,Me,pt,Lt,_t,Re,dt],function(_,w,g,f,i,s,t){function r(v){var u=v.dom;this.getBookmark=function(d,m){function b(C,k){var T=0;return w.each(u.select(C),function(I){if("all"!==I.getAttribute("data-mce-bogus"))return I!=k&&void T++}),T}function p(C){function k(T){var I,M,D,O=T?"start":"end";M=C[O+"Offset"],1==(I=C[O+"Container"]).nodeType&&"TR"==I.nodeName&&(I=(D=I.childNodes)[Math.min(T?M:M-1,D.length-1)])&&C["set"+(T?"Start":"End")](I,M=T?0:I.childNodes.length)}return k(!0),k(),C}var N,l,c,a,e,n,S,y="&#xFEFF;";if(2==d)return e=(n=v.getNode())?n.nodeName:null,N=v.getRng(),o(n)||"IMG"==e?{name:e,index:b(e,n)}:v.tridentSel?v.tridentSel.getBookmark(d):(n=function(C){function k(T,I){var M;return s.isElement(T)&&(T=t.getNode(T,I),o(T))?T:g.isCaretContainer(T)&&(s.isText(T)&&g.isCaretContainerBlock(T)&&(T=T.parentNode),o(M=T.previousSibling)||o(M=T.nextSibling))?M:void 0}return k(C.startContainer,C.startOffset)||k(C.endContainer,C.endOffset)}(N))?{name:e=n.tagName,index:b(e,n)}:function(C){function k(M,D){var W,E,O=M[D?"startContainer":"endContainer"],L=M[D?"startOffset":"endOffset"],U=[],P=0;if(3==O.nodeType){if(m)for(W=O.previousSibling;W&&3==W.nodeType;W=W.previousSibling)L+=W.nodeValue.length;U.push(L)}else L>=(E=O.childNodes).length&&E.length&&(P=1,L=Math.max(0,E.length-1)),U.push(u.nodeIndex(E[L],m)+P);for(;O&&O!=T;O=O.parentNode)U.push(u.nodeIndex(O,m));return U}var T=u.getRoot(),I={};return I.start=k(C,!0),v.isCollapsed()||(I.end=k(C)),I}(N);if(3==d)return N=v.getRng(),{start:f.create(u.getRoot(),i.fromRangeStart(N)),end:f.create(u.getRoot(),i.fromRangeEnd(N))};if(d)return{rng:v.getRng()};if(N=v.getRng(),c=u.uniqueId(),a=v.isCollapsed(),S="overflow:hidden;line-height:0px",N.duplicate||N.item){if(N.item)return{name:e=(n=N.item(0)).nodeName,index:b(e,n)};l=N.duplicate();try{N.collapse(),N.pasteHTML('<span data-mce-type="bookmark" id="'+c+'_start" style="'+S+'">'+y+"</span>"),a||(l.collapse(!1),N.moveToElementText(l.parentElement()),0===N.compareEndPoints("StartToEnd",l)&&l.move("character",-1),l.pasteHTML('<span data-mce-type="bookmark" id="'+c+'_end" style="'+S+'">'+y+"</span>"))}catch(C){return null}}else{if("IMG"==(e=(n=v.getNode()).nodeName))return{name:e,index:b(e,n)};l=p(N.cloneRange()),a||(l.collapse(!1),l.insertNode(u.create("span",{"data-mce-type":"bookmark",id:c+"_end",style:S},y))),(N=p(N)).collapse(!0),N.insertNode(u.create("span",{"data-mce-type":"bookmark",id:c+"_start",style:S},y))}return v.moveToBookmark({id:c,keep:1}),{id:c}},this.moveToBookmark=function(d){function m(n){var S,C,k,T,y=d[n?"start":"end"];if(y){for(k=y[0],C=N,S=y.length-1;S>=1;S--){if(y[S]>(T=C.childNodes).length-1)return;C=T[y[S]]}3===C.nodeType&&(k=Math.min(y[0],C.nodeValue.length)),1===C.nodeType&&(k=Math.min(y[0],C.childNodes.length)),n?h.setStart(C,k):h.setEnd(C,k)}return!0}function b(n){var S,C,k,T,y=u.get(d.id+"_"+n),I=d.keep;if(y&&(S=y.parentNode,"start"==n?(I?(S=y.firstChild,C=1):C=u.nodeIndex(y),l=c=S,a=e=C):(I?(S=y.firstChild,C=1):C=u.nodeIndex(y),c=S,e=C),!I)){for(T=y.previousSibling,k=y.nextSibling,w.each(w.grep(y.childNodes),function(M){3==M.nodeType&&(M.nodeValue=M.nodeValue.replace(/\uFEFF/g,""))});y=u.get(d.id+"_"+n);)u.remove(y,1);T&&k&&T.nodeType==k.nodeType&&3==T.nodeType&&!_.opera&&(C=T.nodeValue.length,T.appendData(k.nodeValue),u.remove(k),"start"==n?(l=c=T,a=e=C):(c=T,e=C))}}function p(n){return!u.isBlock(n)||n.innerHTML||_.ie||(n.innerHTML='<br data-mce-bogus="1" />'),n}var h,N,l,c,a,e,n,y;if(d)if(w.isArray(d.start)){if(h=u.createRng(),N=u.getRoot(),v.tridentSel)return v.tridentSel.moveToBookmark(d);m(!0)&&m()&&v.setRng(h)}else"string"==typeof d.start?v.setRng((n=u.createRng(),y=f.resolve(u.getRoot(),d.start),n.setStart(y.container(),y.offset()),y=f.resolve(u.getRoot(),d.end),n.setEnd(y.container(),y.offset()),n)):d.id?(b("start"),b("end"),l&&((h=u.createRng()).setStart(p(l),a),h.setEnd(p(c),e),v.setRng(h))):d.name?v.select(u.select(d.name)[d.index]):d.rng&&v.setRng(d.rng)}}var o=s.isContentEditableFalse;return r.isBookmarkNode=function(v){return v&&"SPAN"===v.tagName&&"bookmark"===v.getAttribute("data-mce-type")},r}),ge(sn,[q,ct,Tt,dt,Ot,Re,We,Me,_t],function(_,w,g,f,i,s,t,r,o){function v(b,p,x,h){var N=this;N.dom=b,N.win=p,N.serializer=x,N.editor=h,N.bookmarkManager=new i(N),N.controlSelection=new g(N,h),N.win.getSelection||(N.tridentSel=new w(N))}var u=r.each,d=r.trim,m=t.ie;return v.prototype={setCursorLocation:function(b,p){var x=this,h=x.dom.createRng();b?(h.setStart(b,p),h.setEnd(b,p),x.setRng(h),x.collapse(!1)):(x._moveEndPoint(h,x.editor.getBody(),!0),x.setRng(h))},getContent:function(b){var l,c,a,p=this,x=p.getRng(),h=p.dom.create("body"),N=p.getSel();return l=c="",(b=b||{}).get=!0,b.format=b.format||"html",b.selection=!0,p.editor.fire("BeforeGetContent",b),"text"==b.format?p.isCollapsed()?"":x.text||(N.toString?N.toString():""):(x.cloneContents?(a=x.cloneContents())&&h.appendChild(a):x.item!==Xt||x.htmlText!==Xt?(h.innerHTML="<br>"+(x.item?x.item(0).outerHTML:x.htmlText),h.removeChild(h.firstChild)):h.innerHTML=x.toString(),/^\s/.test(h.innerHTML)&&(l=" "),/\s+$/.test(h.innerHTML)&&(c=" "),b.getInner=!0,b.content=p.isCollapsed()?"":l+p.serializer.serialize(h,b)+c,p.editor.fire("GetContent",b),b.content)},setContent:function(b,p){var N,c,a,x=this,h=x.getRng(),l=x.win.document;if((p=p||{format:"html"}).set=!0,p.selection=!0,p.content=b,p.no_events||x.editor.fire("BeforeSetContent",p),b=p.content,h.insertNode){b+='<span id="__caret">_</span>',h.startContainer==l&&h.endContainer==l?l.body.innerHTML=b:(h.deleteContents(),0===l.body.childNodes.length?l.body.innerHTML=b:h.createContextualFragment?h.insertNode(h.createContextualFragment(b)):(c=l.createDocumentFragment(),a=l.createElement("div"),c.appendChild(a),a.outerHTML=b,h.insertNode(c))),N=x.dom.get("__caret"),(h=l.createRange()).setStartBefore(N),h.setEndBefore(N),x.setRng(h),x.dom.remove("__caret");try{x.setRng(h)}catch(e){}}else h.item&&(l.execCommand("Delete",!1,null),h=x.getRng()),/^\s+/.test(b)?(h.pasteHTML('<span id="__mce_tmp">_</span>'+b),x.dom.remove("__mce_tmp")):h.pasteHTML(b);p.no_events||x.editor.fire("SetContent",p)},getStart:function(b){var h,N,l,c,p=this,x=p.getRng();if(x.duplicate||x.item){if(x.item)return x.item(0);for((l=x.duplicate()).collapse(1),(h=l.parentElement()).ownerDocument!==p.dom.doc&&(h=p.dom.getRoot()),N=c=x.parentElement();c=c.parentNode;)if(c==h){h=N;break}return h}return 1==(h=x.startContainer).nodeType&&h.hasChildNodes()&&(b&&x.collapsed||(h=h.childNodes[Math.min(h.childNodes.length-1,x.startOffset)])),h&&3==h.nodeType?h.parentNode:h},getEnd:function(b){var h,N,p=this,x=p.getRng();return x.duplicate||x.item?x.item?x.item(0):((x=x.duplicate()).collapse(0),(h=x.parentElement()).ownerDocument!==p.dom.doc&&(h=p.dom.getRoot()),h&&"BODY"==h.nodeName&&h.lastChild||h):(N=x.endOffset,1==(h=x.endContainer).nodeType&&h.hasChildNodes()&&(b&&x.collapsed||(h=h.childNodes[N>0?N-1:N])),h&&3==h.nodeType?h.parentNode:h)},getBookmark:function(b,p){return this.bookmarkManager.getBookmark(b,p)},moveToBookmark:function(b){return this.bookmarkManager.moveToBookmark(b)},select:function(b,p){var l,x=this,h=x.dom,N=h.createRng();if(x.lastFocusBookmark=null,b){if(!p&&x.controlSelection.controlSelect(b))return;l=h.nodeIndex(b),N.setStart(b.parentNode,l),N.setEnd(b.parentNode,l+1),p&&(x._moveEndPoint(N,b,!0),x._moveEndPoint(N,b)),x.setRng(N)}return b},isCollapsed:function(){var p=this.getRng(),x=this.getSel();return!(!p||p.item)&&(p.compareEndPoints?0===p.compareEndPoints("StartToEnd",p):!x||p.collapsed)},collapse:function(b){var h,p=this,x=p.getRng();x.item&&(h=x.item(0),(x=p.win.document.body.createTextRange()).moveToElementText(h)),x.collapse(!!b),p.setRng(x)},getSel:function(){var b=this.win;return b.getSelection?b.getSelection():b.document.selection},getRng:function(b){function p(y,S,C){try{return S.compareBoundaryPoints(y,C)}catch(k){return-1}}var h,N,l,c,a,e,x=this;if(!x.win||null==(c=x.win.document))return null;if(!b&&x.lastFocusBookmark){var n=x.lastFocusBookmark;return n.startContainer?((N=c.createRange()).setStart(n.startContainer,n.startOffset),N.setEnd(n.endContainer,n.endOffset)):N=n,N}if(b&&x.tridentSel)return x.tridentSel.getRangeAt(0);try{(h=x.getSel())&&(N=h.rangeCount>0?h.getRangeAt(0):h.createRange?h.createRange():c.createRange())}catch(y){}if((e=x.editor.fire("GetSelectionRange",{range:N})).range!==N)return e.range;if(m&&N&&N.setStart&&c.selection){try{a=c.selection.createRange()}catch(y){}a&&a.item&&(l=a.item(0),(N=c.createRange()).setStartBefore(l),N.setEndAfter(l))}return N||(N=c.createRange?c.createRange():c.body.createTextRange()),N.setStart&&9===N.startContainer.nodeType&&N.collapsed&&(l=x.dom.getRoot(),N.setStart(l,0),N.setEnd(l,0)),x.selectedRange&&x.explicitRange&&(0===p(N.START_TO_START,N,x.selectedRange)&&0===p(N.END_TO_END,N,x.selectedRange)?N=x.explicitRange:(x.selectedRange=null,x.explicitRange=null)),N},setRng:function(b,p){var h,N,x=this;if(b)if(b.select){x.explicitRange=null;try{b.select()}catch(c){}}else if(x.tridentSel){if(b.cloneRange)try{x.tridentSel.addRange(b)}catch(c){}}else{if(h=x.getSel(),b=x.editor.fire("SetSelectionRange",{range:b}).range,h){x.explicitRange=b;try{h.removeAllRanges(),h.addRange(b)}catch(c){}!1===p&&h.extend&&(h.collapse(b.endContainer,b.endOffset),h.extend(b.startContainer,b.startOffset)),x.selectedRange=h.rangeCount>0?h.getRangeAt(0):null}b.collapsed||b.startContainer!=b.endContainer||!h.setBaseAndExtent||t.ie||b.endOffset-b.startOffset<2&&b.startContainer.hasChildNodes()&&(N=b.startContainer.childNodes[b.startOffset])&&"IMG"==N.tagName&&(h.setBaseAndExtent(b.startContainer,b.startOffset,b.endContainer,b.endOffset),h.anchorNode===b.startContainer&&h.focusNode===b.endContainer||h.setBaseAndExtent(N,0,N,1)),x.editor.fire("AfterSetSelectionRange",{range:b})}},setNode:function(b){return this.setContent(this.dom.getOuterHTML(b)),b},getNode:function(){function b(n,y){for(var S=n;n&&3===n.nodeType&&0===n.length;)n=y?n.nextSibling:n.previousSibling;return n||S}var h,N,l,c,a,p=this,x=p.getRng(),e=p.dom.getRoot();return x?(N=x.startContainer,l=x.endContainer,c=x.startOffset,a=x.endOffset,x.setStart?(h=x.commonAncestorContainer,!x.collapsed&&(N==l&&a-c<2&&N.hasChildNodes()&&(h=N.childNodes[c]),3===N.nodeType&&3===l.nodeType&&(N=N.length===c?b(N.nextSibling,!0):N.parentNode,l=0===a?b(l.previousSibling,!1):l.parentNode,N&&N===l))?N:h&&3==h.nodeType?h.parentNode:h):((h=x.item?x.item(0):x.parentElement()).ownerDocument!==p.win.document&&(h=e),h)):e},getSelectedBlocks:function(b,p){var N,l,x=this,h=x.dom,c=[];if(l=h.getRoot(),b=h.getParent(b||x.getStart(),h.isBlock),p=h.getParent(p||x.getEnd(),h.isBlock),b&&b!=l&&c.push(b),b&&p&&b!=p){N=b;for(var a=new _(b,l);(N=a.next())&&N!=p;)h.isBlock(N)&&c.push(N)}return p&&b!=p&&p!=l&&c.push(p),c},isForward:function(){var x,h,b=this.dom,p=this.getSel();return!(p&&p.anchorNode&&p.focusNode)||((x=b.createRng()).setStart(p.anchorNode,p.anchorOffset),x.collapse(!0),(h=b.createRng()).setStart(p.focusNode,p.focusOffset),h.collapse(!0),x.compareBoundaryPoints(x.START_TO_START,h)<=0)},normalize:function(){var b=this,p=b.getRng();return t.range&&new f(b.dom).normalize(p)&&b.setRng(p,b.isForward()),p},selectorChanged:function(b,p){var h,x=this;return x.selectorChangedData||(x.selectorChangedData={},h={},x.editor.on("NodeChange",function(N){var l=N.element,c=x.dom,a=c.getParents(l,null,c.getRoot()),e={};u(x.selectorChangedData,function(n,y){u(a,function(S){if(c.is(S,y))return h[y]||(u(n,function(C){C(!0,{node:S,selector:y,parents:a})}),h[y]=n),e[y]=n,!1})}),u(h,function(n,y){e[y]||(delete h[y],u(n,function(S){S(!1,{node:l,selector:y,parents:a})}))})})),x.selectorChangedData[b]||(x.selectorChangedData[b]=[]),x.selectorChangedData[b].push(p),x},getScrollContainer:function(){for(var b,p=this.dom.getRoot();p&&"BODY"!=p.nodeName;){if(p.scrollHeight>p.clientHeight){b=p;break}p=p.parentNode}return b},scrollIntoView:function(b,p){function x(C){for(var k=0,T=0,I=C;I&&I.nodeType;)k+=I.offsetLeft||0,T+=I.offsetTop||0,I=I.offsetParent;return{x:k,y:T}}var h,N,e,n,l=this,c=l.dom,a=c.getRoot(),y=0;if(s.isElement(b)){if(!1===p&&(y=b.offsetHeight),"BODY"!=a.nodeName){var S=l.getScrollContainer();if(S)return h=x(b).y-x(S).y+y,n=S.clientHeight,void((h<(e=S.scrollTop)||h+25>e+n)&&(S.scrollTop=h<e?h:h-n+25))}N=c.getViewPort(l.editor.getWin()),h=c.getPos(b).y+y,e=N.y,n=N.h,(h<N.y||h+25>e+n)&&l.editor.getWin().scrollTo(0,h<e?h:h-n+25)}},placeCaretAt:function(b,p){this.setRng(f.getCaretRangeFromPoint(b,p,this.editor.getDoc()))},_moveEndPoint:function(b,p,x){var h=p,N=new _(p,h),l=this.dom.schema.getNonEmptyElements();do{if(3==p.nodeType&&0!==d(p.nodeValue).length)return void(x?b.setStart(p,0):b.setEnd(p,p.nodeValue.length));if(l[p.nodeName]&&!/^(TD|TH)$/.test(p.nodeName))return void(x?b.setStartBefore(p):"BR"==p.nodeName?b.setEndBefore(p):b.setEndAfter(p));if(t.ie&&t.ie<11&&this.dom.isBlock(p)&&this.dom.isEmpty(p))return void(x?b.setStart(p,0):b.setEnd(p,0))}while(p=x?N.next():N.prev());"BODY"==h.nodeName&&(x?b.setStart(h,0):b.setEnd(h,h.childNodes.length))},getBoundingClientRect:function(){var b=this.getRng();return b.collapsed?o.fromRangeStart(b).getClientRects()[0]:b.getBoundingClientRect()},destroy:function(){this.win=null,this.controlSelection.destroy()}},v}),ge(rn,[Ot,Me],function(_,w){var f=w.each;return function(i){this.compare=function(s,t){function r(v){var u={};return f(i.getAttribs(v),function(d){var m=d.nodeName.toLowerCase();0!==m.indexOf("_")&&"style"!==m&&0!==m.indexOf("data-")&&(u[m]=i.getAttrib(v,m))}),u}function o(v,u){var d,m;for(m in v)if(v.hasOwnProperty(m)){if(void 0===(d=u[m])||v[m]!=d)return!1;delete u[m]}for(m in u)if(u.hasOwnProperty(m))return!1;return!0}return!(s.nodeName!=t.nodeName||!o(r(s),r(t))||!o(i.parseStyle(i.getAttrib(s,"style")),i.parseStyle(i.getAttrib(t,"style")))||_.isBookmarkNode(s)||_.isBookmarkNode(t))}}}),ge(Qt,[oe,Me,Se],function(_,w,g){function f(u,d){function b(a){var e;return function(a,e){e.classes.length&&v.addClass(a,e.classes.join(" ")),v.setAttribs(a,e.attrs)}(e=v.create((N="string"==typeof a?{name:a,classes:[],attrs:{}}:a).name),N),e}var h,N,l,c=d&&d.schema||new g({});return u&&u.length?(h=b(N=u[0]),(l=v.create("div")).appendChild(function x(a,e,n){var y,S,C,k=e.length&&e[0],T=k&&k.name;if(C=function(a,e){var n="string"!=typeof a?a.nodeName.toLowerCase():a,S=c.getElementRule(n).parentsRequired;return!(!S||!S.length)&&(e&&-1!==w.inArray(S,e)?e:S[0])}(a,T))T==C?(S=e[0],e=e.slice(1)):S=C;else if(k)S=e[0],e=e.slice(1);else if(!n)return a;return S&&(y=b(S)).appendChild(a),n&&(y||(y=v.create("div")).appendChild(a),w.each(n,function(I){var M=b(I);y.insertBefore(M,a)})),x(y,e,S&&S.siblings)}(h,u.slice(1),N.siblings)),l):""}function s(u){var d,m={classes:[],attrs:{}};return"*"!==(u=m.selector=w.trim(u))&&(d=u.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(b,p,x,h,N){switch(p){case"#":m.attrs.id=x;break;case".":m.classes.push(x);break;case":":-1!==w.inArray("checked disabled enabled read-only required".split(" "),x)&&(m.attrs[x]=x)}if("["==h){var l=N.match(/([\w\-]+)(?:\=\"([^\"]+))?/);l&&(m.attrs[l[1]]=l[2])}return""})),m.name=d||"div",m}function t(u){return u&&"string"==typeof u?(u=(u=u.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),w.map(u.split(/(?:>|\s+(?![^\[\]]+\]))/),function(d){var m=w.map(d.split(/(?:~\+|~|\+)/),s),b=m.pop();return m.length&&(b.siblings=m),b}).reverse()):[]}var o=w.each,v=_.DOM;return{getCssText:function(u,d){function m(a){return a.replace(/%(\w+)/g,"")}var b,p,x,h,l,c,N="";if(!1===(c=u.settings.preview_styles))return"";if("string"!=typeof c&&(c="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof d){if(!(d=u.formatter.get(d)))return;d=d[0]}return"preview"in d&&!1===(c=d.preview)?"":(b=d.block||d.inline||"span",(h=t(d.selector)).length?(h[0].name||(h[0].name=b),b=d.selector,p=f(h,u)):p=f([b],u),x=v.select(b,p)[0]||p.firstChild,o(d.styles,function(a,e){(a=m(a))&&v.setStyle(x,e,a)}),o(d.attributes,function(a,e){(a=m(a))&&v.setAttrib(x,e,a)}),o(d.classes,function(a){a=m(a),v.hasClass(x,a)||v.addClass(x,a)}),u.fire("PreviewFormats"),v.setStyles(p,{position:"absolute",left:-65535}),u.getBody().appendChild(p),l=v.getStyle(u.getBody(),"fontSize",!0),l=/px$/.test(l)?parseInt(l,10):0,o(c.split(" "),function(a){var e=v.getStyle(x,a,!0);if(!("background-color"==a&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(e)&&(e=v.getStyle(u.getBody(),a,!0),"#ffffff"==v.toHex(e).toLowerCase())||"color"==a&&"#000000"==v.toHex(e).toLowerCase())){if("font-size"==a&&/em|%$/.test(e)){if(0===l)return;e=(e=parseFloat(e,10)/(/%$/.test(e)?100:1))*l+"px"}"border"==a&&e&&(N+="padding:0 2px;"),N+=a+":"+e+";"}}),u.fire("AfterPreviewFormats"),v.remove(p),N)},parseSelector:t,selectorToHtml:function(u,d){return f(t(u),d)}}}),ge(Cn,[et,Re,qe],function(_,w,g){var v,s={},t=_.filter,r=_.each;return v=function(o){var m,b,d=o.selection.getRng();m=w.matchNodeNames("pre"),d.collapsed||(b=o.selection.getSelectedBlocks(),r(t(t(b,m),function(p){return m(p.previousSibling)&&-1!=_.indexOf(b,p.previousSibling)}),function(p){!function(p,x){g(x).remove(),g(p).append("<br><br>").append(x.childNodes)}(p.previousSibling,p)}))},s["pre"]||(s.pre=[]),s.pre.push(v),{postProcess:function(o,v){r(s[o],function(u){u(v)})}}}),ge(cn,[q,dt,Ot,rn,ve,Me,Qt,Cn],function(_,w,g,f,i,s,t,r){return function(o){function v(K){return K.nodeType&&(K=K.nodeName),!!o.schema.getTextBlockElements()[K.toLowerCase()]}function u(K){return/^(TH|TD)$/.test(K.nodeName)}function m(K,ie){return ee.getParents(K,ie,ee.getRoot())}function b(K){return 1===K.nodeType&&"_mce_caret"===K.id}function h(K){return K?ce[K]:ce}function N(K,ie){K&&("string"!=typeof K?we(K,function(A,F){N(F,A)}):(we(ie=ie.length?ie:[ie],function(A){A.deep===pn&&(A.deep=!A.selector),A.split===pn&&(A.split=!A.selector||A.inline),A.remove===pn&&A.selector&&!A.inline&&(A.remove="none"),A.selector&&A.inline&&(A.mixed=!0,A.block_expand=!0),"string"==typeof A.classes&&(A.classes=A.classes.split(/\s+/))}),ce[K]=ie))}function c(K,ie){var A=h(ie);if(A)for(var F=0;F<A.length;F++)if(!1===A[F].inherit&&ee.is(K,A[F].selector))return!0;return!1}function a(K){var ie;return o.dom.getParent(K,function(A){return(ie=o.dom.getStyle(A,"text-decoration"))&&"none"!==ie}),ie}function e(K){var ie;1===K.nodeType&&K.parentNode&&1===K.parentNode.nodeType&&(ie=a(K.parentNode),o.dom.getStyle(K,"color")&&ie?o.dom.setStyle(K,"text-decoration",ie):o.dom.getStyle(K,"text-decoration")===ie&&o.dom.setStyle(K,"text-decoration",null))}function n(K,ie,A){function F(Ue,Ke){if(Ke=Ke||$,Ue){if(Ke.onformat&&Ke.onformat(Ue,Ke,ie,A),we(Ke.styles,function(Ge,ot){ee.setStyle(Ue,ot,Y(Ge,ie))}),Ke.styles){var it=ee.getAttrib(Ue,"style");it&&Ue.setAttribute("data-mce-style",it)}we(Ke.attributes,function(Ge,ot){ee.setAttrib(Ue,ot,Y(Ge,ie))}),we(Ke.classes,function(Ge){Ge=Y(Ge,ie),ee.hasClass(Ue,Ge)||ee.addClass(Ue,Ge)})}}function J(Ue,Ke){var it=!1;return!!$.selector&&(we(Ue,function(Ge){if(!("collapsed"in Ge)||Ge.collapsed===Ze)return ee.is(Ke,Ge.selector)&&!b(Ke)?(F(Ke,Ge),it=!0,!1):void 0}),it)}function Te(Ue,Ke,it){var ot,At,Ge=[],qt=!0;F(At=ee.create(ot=$.inline||$.block)),be.walk(Ue,function(Ht){var gn;we(Ht,function on(dn){var xn,Pn,Hn,yn;if(yn=qt,xn=dn.nodeName.toLowerCase(),Pn=dn.parentNode.nodeName.toLowerCase(),1===dn.nodeType&&mn(dn)&&(yn=qt,qt="true"===mn(dn),Hn=!0),L(xn,"br"))return gn=0,void($.block&&ee.remove(dn));if($.wrapper&&C(dn,K,ie))gn=0;else{if(qt&&!Hn&&$.block&&!$.wrapper&&v(xn)&&Ne(Pn,ot))return F(dn=ee.rename(dn,ot)),Ge.push(dn),void(gn=0);if($.selector){var kn=J(de,dn);if(!$.inline||kn)return void(gn=0)}!qt||Hn||!Ne(ot,xn)||!Ne(Pn,ot)||!it&&3===dn.nodeType&&1===dn.nodeValue.length&&65279===dn.nodeValue.charCodeAt(0)||b(dn)||$.inline&&ke(dn)?(gn=0,we(Pt(dn.childNodes),on),Hn&&(qt=yn),gn=0):(gn||(gn=ee.clone(At,un),dn.parentNode.insertBefore(gn,dn),Ge.push(gn)),gn.appendChild(dn))}})}),!0===$.links&&we(Ge,function(Ht){!function on(gn){"A"===gn.nodeName&&F(gn,$),we(Pt(gn.childNodes),on)}(Ht)}),we(Ge,function(Ht){function on(yn){var kn=0;return we(yn.childNodes,function(qn){pe(qn)||ae(qn)||kn++}),kn}function gn(yn){var kn=!1;return we(yn.childNodes,function(qn){if(W(qn))return kn=qn,!1}),kn}var Pn,yn,kn,qn;if(Pn=on(Ht),!(Ge.length>1)&&ke(Ht)||0!==Pn){if($.inline||$.wrapper){if($.exact||1!==Pn||((kn=gn(yn=Ht))&&!ae(kn)&&O(kn,$)&&(F(qn=ee.clone(kn,un)),ee.replace(qn,yn,nn),ee.remove(kn,1)),Ht=qn||yn),we(de,function(yn){we(ee.select(yn.inline,Ht),function(kn){ae(kn)||je(yn,ie,kn,yn.exact?kn:null)})}),C(Ht.parentNode,K,ie)&&je($,ie,Ht)&&(Ht=0),$.merge_with_parents&&ee.getParent(Ht.parentNode,function(yn){if(C(yn,K,ie))return je($,ie,Ht)&&(Ht=0),nn}),!ke(Ht)&&!H(Ht,"fontSize")){var Hn=function(yn,kn){do{if(1!==on(yn)||!(yn=gn(yn)))break;if(kn(yn))return yn}while(yn);return null}(Ht,E("fontSize"));Hn&&n("fontsize",{value:H(Hn,"fontSize")},Ht)}Ht&&!1!==$.merge_siblings&&(Ht=R(B(Ht),Ht),Ht=R(Ht,B(Ht,nn)))}}else ee.remove(Ht,1)})}var he,ye,de=h(K),$=de[0],Ze=!A&&_e.isCollapsed();if("false"!==mn(_e.getNode())){if($){if(A)A.nodeType?J(de,A)||((ye=ee.createRng()).setStartBefore(A),ye.setEndAfter(A),Te(Ve(ye,de),0,!0)):Te(A,0,!0);else if(Ze&&$.inline&&!ee.select("td[data-mce-selected],th[data-mce-selected]").length)G("apply",K,ie);else{var Z=o.selection.getNode();St||!de[0].defaultBlock||ee.getParent(Z,ee.isBlock)||n(de[0].defaultBlock),o.selection.setRng(function(){var Ke=o.selection.getRng(),it=Ke.startContainer,Ge=Ke.endContainer;if(it!=Ge&&0===Ke.endOffset){var ot=function(qt,Ht){var on=new _(Ht);for(A=on.prev2();A;A=on.prev2())if(3==A.nodeType&&A.data.length>0||A.childNodes.length>1||A==qt||"BR"==A.tagName)return A}(it,Ge);Ke.setEnd(ot,3==ot.nodeType?ot.data.length:ot.childNodes.length)}return Ke}()),he=_e.getBookmark(),Te(Ve(_e.getRng(nn),de)),$.styles&&(($.styles.color||$.styles.textDecoration)&&(yt(Z,e,"childNodes"),e(Z)),$.styles.backgroundColor&&U(Z,E("fontSize"),function(K,ie){return i.curry(function(A,F,J){ee.setStyle(J,A,F)},"backgroundColor",ie)}(0,Y($.styles.backgroundColor,ie)))),_e.moveToBookmark(he),se(_e.getRng(nn)),o.nodeChanged()}r.postProcess(K,o)}}else{A=_e.getNode();for(var Ee=0,ue=de.length;Ee<ue;Ee++)if(de[Ee].ceFalseOverride&&ee.is(A,de[Ee].selector))return void F(A,de[Ee])}}function y(K,ie,A,F){function J(it){var Ge,ot,At,qt,Ht;if(1===it.nodeType&&mn(it)&&(qt=ue,ue="true"===mn(it),Ht=!0),Ge=Pt(it.childNodes),ue&&!Ht)for(ot=0,At=ye.length;ot<At&&!je(ye[ot],ie,it,it);ot++);if(Ze.deep&&Ge.length){for(ot=0,At=Ge.length;ot<At;ot++)J(Ge[ot]);Ht&&(ue=qt)}}function de(it){return function(it,Ge,ot,At){var qt,Ht,on,gn,dn,xn;if(it){for(xn=it.parentNode,qt=Ge.parentNode;qt&&qt!=xn;qt=qt.parentNode){for(Ht=ee.clone(qt,un),dn=0;dn<ye.length;dn++)if(je(ye[dn],ie,Ht,Ht)){Ht=0;break}Ht&&(on&&Ht.appendChild(on),gn||(gn=Ht),on=Ht)}Ze.mixed&&ke(it)||(Ge=ee.split(it,Ge)),on&&(ot.parentNode.insertBefore(on,ot),gn.appendChild(ot))}return Ge}(function(it){var Ge;return we(m(it.parentNode).reverse(),function(ot){var At;Ge||"_start"==ot.id||"_end"==ot.id||(At=C(ot,K,ie,F))&&!1!==At.split&&(Ge=ot)}),Ge}(it),it,it)}function $(it){var Ge=ee.get(it?"_start":"_end"),ot=Ge[it?"firstChild":"lastChild"];return ae(ot)&&(ot=ot[it?"firstChild":"lastChild"]),3==ot.nodeType&&0===ot.data.length&&(ot=it?Ge.previousSibling||Ge.nextSibling:Ge.nextSibling||Ge.previousSibling),ee.remove(Ge,!0),ot}function he(it){var Ge,ot,At=it.commonAncestorContainer;if(it=Ve(it,ye,nn),Ze.split){if((Ge=z(it,nn))!=(ot=z(it))){if(/^(TR|TH|TD)$/.test(Ge.nodeName)&&Ge.firstChild&&(Ge="TR"==Ge.nodeName?Ge.firstChild.firstChild||Ge:Ge.firstChild||Ge),At&&/^T(HEAD|BODY|FOOT|R)$/.test(At.nodeName)&&u(ot)&&ot.firstChild&&(ot=ot.firstChild||ot),ee.isChildOf(Ge,ot)&&!ke(ot)&&!u(Ge)&&!u(ot))return de(Ge=Oe(Ge,"span",{id:"_start","data-mce-type":"bookmark"})),void(Ge=$(nn));Ge=Oe(Ge,"span",{id:"_start","data-mce-type":"bookmark"}),ot=Oe(ot,"span",{id:"_end","data-mce-type":"bookmark"}),de(Ge),de(ot),Ge=$(nn),ot=$()}else Ge=ot=de(Ge);it.startContainer=Ge.parentNode?Ge.parentNode:Ge,it.startOffset=Wt(Ge),it.endContainer=ot.parentNode?ot.parentNode:ot,it.endOffset=Wt(ot)+1}be.walk(it,function(qt){we(qt,function(Ht){J(Ht),1===Ht.nodeType&&"underline"===o.dom.getStyle(Ht,"text-decoration")&&Ht.parentNode&&"underline"===a(Ht.parentNode)&&je({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,Ht)})})}var Z,Ee,ye=h(K),Ze=ye[0],ue=!0;if(A)A.nodeType?((Ee=ee.createRng()).setStartBefore(A),Ee.setEndAfter(A),he(Ee)):he(A);else if("false"!==mn(_e.getNode()))_e.isCollapsed()&&Ze.inline&&!ee.select("td[data-mce-selected],th[data-mce-selected]").length?G("remove",K,ie,F):(Z=_e.getBookmark(),he(_e.getRng(nn)),_e.moveToBookmark(Z),Ze.inline&&k(K,ie,_e.getStart())&&se(_e.getRng(!0)),o.nodeChanged());else{A=_e.getNode();for(var Ue=0,Ke=ye.length;Ue<Ke&&(!ye[Ue].ceFalseOverride||!je(ye[Ue],ie,A,A));Ue++);}}function C(K,ie,A,F){function J(he,ye,Ze){var Z,Ee,Ue,ue=ye[Ze];if(ye.onmatch)return ye.onmatch(he,ye,Ze);if(ue)if(ue.length===pn){for(Z in ue)if(ue.hasOwnProperty(Z)&&(Ee="attributes"===Ze?ee.getAttrib(he,Z):H(he,Z),F&&!Ee&&!ye.exact||(!F||ye.exact)&&!L(Ee,V(Y(ue[Z],A),Z))))return}else for(Ue=0;Ue<ue.length;Ue++)if("attributes"===Ze?ee.getAttrib(he,ue[Ue]):H(he,ue[Ue]))return ye;return ye}var Te,de,$,le=h(ie);if(le&&K)for(de=0;de<le.length;de++)if(O(K,Te=le[de])&&J(K,Te,"attributes")&&J(K,Te,"styles")){if($=Te.classes)for(de=0;de<$.length;de++)if(!ee.hasClass(K,$[de]))return;return Te}}function k(K,ie,A){function F(le){var Te=ee.getRoot();return le!==Te&&(le=ee.getParent(le,function(de){return!!c(de,K)||de.parentNode===Te||!!C(de,K,ie,!0)}),C(le,K,ie))}var J;return A?F(A):F(A=_e.getNode())||(J=_e.getStart())!=A&&F(J)?nn:un}function O(K,ie){return L(K,ie.inline)||L(K,ie.block)?nn:ie.selector?1==K.nodeType&&ee.is(K,ie.selector):void 0}function L(K,ie){return ie=""+((ie=ie||"").nodeName||ie),(K=""+((K=K||"").nodeName||K)).toLowerCase()==ie.toLowerCase()}function U(K,ie,A){we(K.childNodes,function(F){W(F)&&(ie(F)&&A(F),F.hasChildNodes()&&U(F,ie,A))})}function W(K){return 1==K.nodeType&&!ae(K)&&!pe(K)&&!b(K)}function E(K){return i.curry(function(ie,A){return!(!A||!H(A,ie))},K)}function H(K,ie){return V(ee.getStyle(K,ie),ie)}function V(K,ie){return"color"!=ie&&"backgroundColor"!=ie||(K=ee.toHex(K)),"fontWeight"==ie&&700==K&&(K="bold"),"fontFamily"==ie&&(K=K.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+K}function Y(K,ie){return"string"!=typeof K?K=K(ie):ie&&(K=K.replace(/%(\w+)/g,function(A,F){return ie[F]||A})),K}function pe(K){return K&&3===K.nodeType&&/^([\t \r\n]+|)$/.test(K.nodeValue)}function Oe(K,ie,A){var F=ee.create(ie,A);return K.parentNode.insertBefore(F,K),F.appendChild(K),F}function Ve(K,ie,A){function F(Ke){var Ge,ot,At,qt,Ht,on;if(Ge=ot=Ke?Z:ue,qt=Ke?"previousSibling":"nextSibling",Ht=ee.getRoot(),3==Ge.nodeType&&!pe(Ge)&&(Ke?Ee>0:Ue<Ge.nodeValue.length))return Ge;for(;;){if(!ie[0].block_expand&&ke(ot))return ot;for(At=ot[qt];At;At=At[qt])if(!ae(At)&&!pe(At)&&("BR"!=(on=At).nodeName||!on.getAttribute("data-mce-bogus")||on.nextSibling))return ot;if(ot==Ht||ot.parentNode==Ht){Ge=ot;break}ot=ot.parentNode}return Ge}function J(Ke,it){for(it===pn&&(it=3===Ke.nodeType?Ke.length:Ke.childNodes.length);Ke&&Ke.hasChildNodes();)(Ke=Ke.childNodes[it])&&(it=3===Ke.nodeType?Ke.length:Ke.childNodes.length);return{node:Ke,offset:it}}function le(Ke){for(var it=Ke;it;){if(1===it.nodeType&&mn(it))return"false"===mn(it)?it:Ke;it=it.parentNode}return Ke}function Te(Ke,it,Ge){function ot(gn,dn){var xn,Pn,Hn=gn.nodeValue;return void 0===dn&&(dn=Ge?Hn.length:0),Ge?-1===(xn=(xn=Hn.lastIndexOf(" ",dn))>(Pn=Hn.lastIndexOf("\xa0",dn))?xn:Pn)||A||xn++:(xn=Hn.indexOf(" ",dn),Pn=Hn.indexOf("\xa0",dn),xn=-1!==xn&&(-1===Pn||xn<Pn)?xn:Pn),xn}var At,qt,Ht,on;if(3===Ke.nodeType){if(-1!==(Ht=ot(Ke,it)))return{container:Ke,offset:Ht};on=Ke}for(At=new _(Ke,ee.getParent(Ke,ke)||o.getBody());qt=At[Ge?"prev":"next"]();)if(3===qt.nodeType){if(on=qt,-1!==(Ht=ot(qt)))return{container:qt,offset:Ht}}else if(ke(qt))break;if(on)return{container:on,offset:it=Ge?0:on.length}}function de(Ke,it){var Ge,ot,At,qt;for(3==Ke.nodeType&&0===Ke.nodeValue.length&&Ke[it]&&(Ke=Ke[it]),Ge=m(Ke),ot=0;ot<Ge.length;ot++)for(At=0;At<ie.length;At++)if((!("collapsed"in(qt=ie[At]))||qt.collapsed===K.collapsed)&&ee.is(Ge[ot],qt.selector))return Ge[ot];return Ke}function $(Ke,it){var Ge,ot=ee.getRoot();if(ie[0].wrapper||(Ge=ee.getParent(Ke,ie[0].block,ot)),Ge||(Ge=ee.getParent(3==Ke.nodeType?Ke.parentNode:Ke,function(At){return At!=ot&&v(At)})),Ge&&ie[0].wrapper&&(Ge=m(Ge,"ul,ol").reverse()[0]||Ge),!Ge)for(Ge=Ke;Ge[it]&&!ke(Ge[it])&&!L(Ge=Ge[it],"br"););return Ge||Ke}var he,ye,Ze,Z=K.startContainer,Ee=K.startOffset,ue=K.endContainer,Ue=K.endOffset;if(1==Z.nodeType&&Z.hasChildNodes()&&3==(Z=Z.childNodes[Ee>(he=Z.childNodes.length-1)?he:Ee]).nodeType&&(Ee=0),1==ue.nodeType&&ue.hasChildNodes()&&3==(ue=ue.childNodes[Ue>(he=ue.childNodes.length-1)?he:Ue-1]).nodeType&&(Ue=ue.nodeValue.length),Z=le(Z),ue=le(ue),(ae(Z.parentNode)||ae(Z))&&3==(Z=(Z=ae(Z)?Z:Z.parentNode).nextSibling||Z).nodeType&&(Ee=0),(ae(ue.parentNode)||ae(ue))&&3==(ue=(ue=ae(ue)?ue:ue.parentNode).previousSibling||ue).nodeType&&(Ue=ue.length),ie[0].inline&&(K.collapsed&&((Ze=Te(Z,Ee,!0))&&(Z=Ze.container,Ee=Ze.offset),(Ze=Te(ue,Ue))&&(ue=Ze.container,Ue=Ze.offset)),(ye=J(ue,Ue)).node)){for(;ye.node&&0===ye.offset&&ye.node.previousSibling;)ye=J(ye.node.previousSibling);ye.node&&ye.offset>0&&3===ye.node.nodeType&&" "===ye.node.nodeValue.charAt(ye.offset-1)&&ye.offset>1&&(ue=ye.node).splitText(ye.offset-1)}return(ie[0].inline||ie[0].block_expand)&&(ie[0].inline&&3==Z.nodeType&&0!==Ee||(Z=F(!0)),ie[0].inline&&3==ue.nodeType&&Ue!==ue.nodeValue.length||(ue=F())),ie[0].selector&&ie[0].expand!==un&&!ie[0].inline&&(Z=de(Z,"previousSibling"),ue=de(ue,"nextSibling")),(ie[0].block||ie[0].selector)&&(Z=$(Z,"previousSibling"),ue=$(ue,"nextSibling"),ie[0].block&&(ke(Z)||(Z=F(!0)),ke(ue)||(ue=F()))),1==Z.nodeType&&(Ee=Wt(Z),Z=Z.parentNode),1==ue.nodeType&&(Ue=Wt(ue)+1,ue=ue.parentNode),{startContainer:Z,startOffset:Ee,endContainer:ue,endOffset:Ue}}function je(K,ie,A,F){var J,le,Te;if(!O(A,K)&&!function(K,ie){return ie.links&&"A"==K.tagName}(A,K))return un;if("all"!=K.remove)for(we(K.styles,function($,he){$=V(Y($,ie),he),"number"==typeof he&&(he=$,F=0),(K.remove_similar||!F||L(H(F,he),$))&&ee.setStyle(A,he,""),Te=1}),Te&&""===ee.getAttrib(A,"style")&&(A.removeAttribute("style"),A.removeAttribute("data-mce-style")),we(K.attributes,function($,he){var ye;if($=Y($,ie),"number"==typeof he&&(he=$,F=0),!F||L(ee.getAttrib(F,he),$)){if("class"==he&&($=ee.getAttrib(A,he))&&(ye="",we($.split(/\s+/),function(Ze){/mce\-\w+/.test(Ze)&&(ye+=(ye?" ":"")+Ze)}),ye))return void ee.setAttrib(A,he,ye);"class"==he&&A.removeAttribute("className"),vn.test(he)&&A.removeAttribute("data-mce-"+he),A.removeAttribute(he)}}),we(K.classes,function($){$=Y($,ie),F&&!ee.hasClass(F,$)||ee.removeClass(A,$)}),le=ee.getAttribs(A),J=0;J<le.length;J++){var de=le[J].nodeName;if(0!==de.indexOf("_")&&0!==de.indexOf("data-"))return un}return"none"!=K.remove?(function(K,ie){function A(le,Te,de){return!(le=B(le,Te,de))||"BR"==le.nodeName||ke(le)}var J,F=K.parentNode;ie.block&&(St?F==ee.getRoot()&&(ie.list_block&&L(K,ie.list_block)||we(Pt(K.childNodes),function(le){Ne(St,le.nodeName.toLowerCase())?J?J.appendChild(le):(J=Oe(le,St),ee.setAttribs(J,o.settings.forced_root_block_attrs)):J=0})):ke(K)&&!ke(F)&&(A(K,un)||A(K.firstChild,nn,1)||K.insertBefore(ee.create("br"),K.firstChild),A(K,nn)||A(K.lastChild,un,1)||K.appendChild(ee.create("br")))),ie.selector&&ie.inline&&!L(ie.inline,K)||ee.remove(K,1)}(A,K),nn):void 0}function B(K,ie,A){if(K)for(ie=ie?"nextSibling":"previousSibling",K=A?K:K[ie];K;K=K[ie])if(1==K.nodeType||!pe(K))return K}function R(K,ie){function A(Te,de){for(F=Te;F;F=F[de]){if(3==F.nodeType&&0!==F.nodeValue.length)return Te;if(1==F.nodeType&&!ae(F))return F}return Te}var F,J,le=new f(ee);if(K&&ie&&(K=A(K,"previousSibling"),ie=A(ie,"nextSibling"),le.compare(K,ie))){for(F=K.nextSibling;F&&F!=ie;)J=F,F=F.nextSibling,K.appendChild(J);return ee.remove(ie),we(Pt(ie.childNodes),function(Te){K.appendChild(Te)}),K}return ie}function z(K,ie){var A,F,J;return F=K[ie?"startOffset":"endOffset"],1==(A=K[ie?"startContainer":"endContainer"]).nodeType&&(!ie&&F&&F--,A=A.childNodes[F>(J=A.childNodes.length-1)?J:F]),3===A.nodeType&&ie&&F>=A.nodeValue.length&&(A=new _(A,o.getBody()).next()||A),3!==A.nodeType||ie||0!==F||(A=new _(A,o.getBody()).prev()||A),A}function G(K,ie,A,F){function J(ue){var Ue=ee.create("span",{id:Z,"data-mce-bogus":!0,style:Ee?"color:red":""});return ue&&Ue.appendChild(o.getDoc().createTextNode(en)),Ue}function le(ue,Ue){for(;ue;){if(3===ue.nodeType&&ue.nodeValue!==en||ue.childNodes.length>1)return!1;Ue&&1===ue.nodeType&&Ue.push(ue),ue=ue.firstChild}return!0}function Te(ue){for(;ue;){if(ue.id===Z)return ue;ue=ue.parentNode}}function de(ue){var Ue;if(ue)for(ue=(Ue=new _(ue,ue)).current();ue;ue=Ue.next())if(3===ue.nodeType)return ue}function $(ue,Ue){var Ke,it;if(ue)it=_e.getRng(!0),le(ue)?(!1!==Ue&&(it.setStartBefore(ue),it.setEndBefore(ue)),ee.remove(ue)):((Ke=de(ue)).nodeValue.charAt(0)===en&&(Ke.deleteData(0,1),it.startContainer==Ke&&it.startOffset>0&&it.setStart(Ke,it.startOffset-1),it.endContainer==Ke&&it.endOffset>0&&it.setEnd(Ke,it.endOffset-1)),ee.remove(ue,1)),_e.setRng(it);else if(!(ue=Te(_e.getStart())))for(;ue=ee.get(Z);)$(ue,!1)}function Ze(){var ue;(ue=Te(_e.getStart()))&&!ee.isEmpty(ue)&&yt(ue,function(Ue){1!=Ue.nodeType||Ue.id===Z||ee.isEmpty(Ue)||ee.setAttrib(Ue,"data-mce-bogus",null)},"childNodes")}var Z="_mce_caret",Ee=o.settings.caret_debug;o._hasCaretEvents||(tt=function(){var Ue,ue=[];if(le(Te(_e.getStart()),ue))for(Ue=ue.length;Ue--;)ee.setAttrib(ue[Ue],"data-mce-bogus","1")},ze=function(ue){var Ue=ue.keyCode;$(),8==Ue&&_e.isCollapsed()&&_e.getStart().innerHTML==en&&$(Te(_e.getStart())),37!=Ue&&39!=Ue||$(Te(_e.getStart())),Ze()},o.on("SetContent",function(ue){ue.selection&&Ze()}),o._hasCaretEvents=!0),"apply"==K?function(){var ue,Ue,Ke,it,Ge,At;it=(ue=_e.getRng(!0)).startOffset,At=ue.startContainer.nodeValue,(Ue=Te(_e.getStart()))&&(Ke=de(Ue));var qt=/[^\s\u00a0\u00ad\u200b\ufeff]/;At&&it>0&&it<At.length&&qt.test(At.charAt(it))&&qt.test(At.charAt(it-1))?(Ge=_e.getBookmark(),ue.collapse(!0),ue=Ve(ue,h(ie)),ue=be.split(ue),n(ie,A,ue),_e.moveToBookmark(Ge)):(Ue&&Ke.nodeValue===en||(Ke=(Ue=J(!0)).firstChild,ue.insertNode(Ue),it=1),n(ie,A,Ue),_e.setCursorLocation(Ke,it))}():function(){var Ue,it,Ge,ot,At,Ht,on,ue=_e.getRng(!0),qt=[];for(ot=Ue=ue.startContainer,3==Ue.nodeType&&(ue.startOffset!=Ue.nodeValue.length&&(Ge=!0),ot=ot.parentNode);ot;){if(C(ot,ie,A,F)){At=ot;break}ot.nextSibling&&(Ge=!0),qt.push(ot),ot=ot.parentNode}if(At)if(Ge)it=_e.getBookmark(),ue.collapse(!0),ue=Ve(ue,h(ie),!0),ue=be.split(ue),y(ie,A,ue),_e.moveToBookmark(it);else{for(ot=on=J(),Ht=qt.length-1;Ht>=0;Ht--)ot.appendChild(ee.clone(qt[Ht],!1)),ot=ot.firstChild;ot.appendChild(ee.doc.createTextNode(en)),ot=ot.firstChild;var gn=ee.getParent(At,v);gn&&ee.isEmpty(gn)?At.parentNode.replaceChild(on,At):ee.insertAfter(on,At),_e.setCursorLocation(ot,1),ee.isEmpty(At)&&ee.remove(At)}}()}function se(K){var F,J,le,Te,de,ie=K.startContainer,A=K.startOffset;if((K.startContainer!=K.endContainer||!function(K){return K&&/^(IMG)$/.test(K.nodeName)}(K.startContainer.childNodes[K.startOffset]))&&(3==ie.nodeType&&A>=ie.nodeValue.length&&(A=Wt(ie),ie=ie.parentNode,F=!0),1==ie.nodeType))for(ie=(Te=ie.childNodes)[Math.min(A,Te.length-1)],J=new _(ie,ee.getParent(ie,ee.isBlock)),(A>Te.length-1||F)&&J.next(),le=J.current();le;le=J.next())if(3==le.nodeType&&!pe(le))return de=ee.create("a",{"data-mce-bogus":"all"},en),le.parentNode.insertBefore(de,le),K.setStart(le,0),_e.setRng(K),void ee.remove(de)}var bn,pn,ze,tt,ce={},ee=o.dom,_e=o.selection,be=new w(ee),Ne=o.schema.isValidChild,ke=ee.isBlock,St=o.settings.forced_root_block,Wt=ee.nodeIndex,en="\ufeff",vn=/^(src|href|style)$/,un=!1,nn=!0,mn=ee.getContentEditable,ae=g.isBookmarkNode,we=s.each,Pt=s.grep,yt=s.walk;(0,s.extend)(this,{get:h,register:N,unregister:function(K){return K&&ce[K]&&delete ce[K],ce},apply:n,remove:y,toggle:function(K,ie,A){var F=h(K);!k(K,ie,A)||"toggle"in F[0]&&!F[0].toggle?n(K,ie,A):y(K,ie,A)},match:k,matchAll:function(K,ie){var A,F=[],J={};return A=_e.getStart(),ee.getParent(A,function(le){var Te,de;for(Te=0;Te<K.length;Te++)!J[de=K[Te]]&&C(le,de,ie)&&(J[de]=!0,F.push(de))},ee.getRoot()),F},matchNode:C,canApply:function(K){var F,J,le,Te,ie=h(K);if(ie)for(F=m(_e.getStart()),le=ie.length-1;le>=0;le--){if(!(Te=ie[le].selector)||ie[le].defaultBlock)return nn;for(J=F.length-1;J>=0;J--)if(ee.is(F[J],Te))return nn}return un},formatChanged:function(K,ie,A){var F;return bn||(bn={},F={},o.on("NodeChange",function(J){var le=m(J.element),Te={};le=s.grep(le,function(de){return 1==de.nodeType&&!de.getAttribute("data-mce-bogus")}),we(bn,function(de,$){we(le,function(he){return C(he,$,{},de.similar)?(F[$]||(we(de,function(ye){ye(!0,{node:he,format:$,parents:le})}),F[$]=de),Te[$]=de,!1):!c(he,$)&&void 0})}),we(F,function(de,$){Te[$]||(delete F[$],we(de,function(he){he(!1,{node:J.element,format:$,parents:le})}))})})),we(K.split(","),function(J){bn[J]||(bn[J]=[],bn[J].similar=A),bn[J].push(ie)}),this},getCssText:function(K){return t.getCssText(o,K)}}),N({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(K,ie,A){we(A,function(F,J){ee.setAttrib(K,J,F)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),we("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(K){N(K,{block:K,remove:"all"})}),N(o.settings.formats),function(){o.addShortcut("meta+b","bold_desc","Bold"),o.addShortcut("meta+i","italic_desc","Italic"),o.addShortcut("meta+u","underline_desc","Underline");for(var K=1;K<=6;K++)o.addShortcut("access+"+K,"",["FormatBlock",!1,"h"+K]);o.addShortcut("access+7","",["FormatBlock",!1,"p"]),o.addShortcut("access+8","",["FormatBlock",!1,"div"]),o.addShortcut("access+9","",["FormatBlock",!1,"address"])}(),o.on("BeforeGetContent",function(K){tt&&"raw"!=K.format&&tt()}),o.on("mouseup keydown",function(K){ze&&ze(K)})}}),ge(wn,[],function(){return{KEEP:0,DELETE:2,INSERT:1,diff:function(i,s){var t=i.length+s.length+2,r=new Array(t),o=new Array(t),u=function(p,x,h,N,l){var c=m(p,x,h,N);if(null===c||c.start===x&&c.diag===x-N||c.end===p&&c.diag===p-h)for(var a=p,e=h;a<x||e<N;)a<x&&e<N&&i[a]===s[e]?(l.push([0,i[a]]),++a,++e):x-p>N-h?(l.push([2,i[a]]),++a):(l.push([1,s[e]]),++e);else{u(p,c.start,h,c.start-c.diag,l);for(var n=c.start;n<c.end;++n)l.push([0,i[n]]);u(c.end,x,c.end-c.diag,N,l)}},d=function(p,x,h,N){for(var l=p;l-x<N&&l<h&&i[l]===s[l-x];)++l;return function(p,x,h){return{start:p,end:x,diag:h}}(p,l,x)},m=function(p,x,h,N){var l=x-p,c=N-h;if(0===l||0===c)return null;var a=l-c,e=c+l,n=(e%2==0?e:e+1)/2;r[1+n]=p,o[1+n]=x+1;for(var y=0;y<=n;++y){for(var S=-y;S<=y;S+=2){var C=S+n;r[C]=S===-y||S!=y&&r[C-1]<r[C+1]?r[C+1]:r[C-1]+1;for(var k=r[C],T=k-p+h-S;k<x&&T<N&&i[k]===s[T];)r[C]=++k,++T;if(a%2!=0&&a-y<=S&&S<=a+y&&o[C-a]<=r[C])return d(o[C-a],S+p-h,x,N)}for(S=a-y;S<=a+y;S+=2){for(o[C=S+n-a]=S===a-y||S!=a+y&&o[C+1]<=o[C-1]?o[C+1]-1:o[C-1],T=(k=o[C]-1)-p+h-S;k>=p&&T>=h&&i[k]===s[T];)o[C]=k--,T--;if(a%2==0&&-y<=S&&S<=y&&o[C]<=r[C+a])return d(o[C],S+p-h,x,N)}}},b=[];return u(0,i.length,0,s.length,b),b}}}),ge(lt,[et,te,wn],function(_,w,g){var f=function(u){return 1===u.nodeType?u.outerHTML:3===u.nodeType?w.encodeRaw(u.data,!1):8===u.nodeType?"\x3c!--"+u.data+"--\x3e":""};return{read:function(u){return _.map(u.childNodes,f)},write:function(u,d){var m=_.map(d.childNodes,f);return function(u,d){var m=0;_.each(u,function(b){b[0]===g.KEEP?m++:b[0]===g.INSERT?(function(u,d,m){var b=function(u){var d,m,b;for(b=document.createElement("div"),d=document.createDocumentFragment(),u&&(b.innerHTML=u);m=b.firstChild;)d.appendChild(m);return d}(d);if(u.hasChildNodes()&&m<u.childNodes.length){var p=u.childNodes[m];p.parentNode.insertBefore(b,p)}else u.appendChild(b)}(d,b[1],m),m++):b[0]===g.DELETE&&function(u,d){if(u.hasChildNodes()&&d<u.childNodes.length){var m=u.childNodes[d];m.parentNode.removeChild(m)}}(d,m)})}(g.diff(m,u),d),d}}}),ge(Ae,[et,lt],function(_,w){var f=function(v){return{type:"fragmented",fragments:v,content:"",bookmark:null,beforeBookmark:null}},i=function(v){return{type:"complete",fragments:null,content:v,bookmark:null,beforeBookmark:null}},r=function(v){return"fragmented"===v.type?v.fragments.join(""):v.content};return{createFragmentedLevel:f,createCompleteLevel:i,createFromEditor:function(v){var u,d,m;return u=w.read(v.getBody()),function(v){return-1!==v.indexOf("</iframe>")}(d=(m=_.map(u,function(b){return v.serializer.trimContent(b)})).join(""))?f(m):i(d)},applyToEditor:function(v,u,d){"fragmented"===u.type?w.write(u.fragments,v.getBody()):v.setContent(u.content,{format:"raw"}),v.selection.moveToBookmark(d?u.beforeBookmark:u.bookmark)},isEq:function(v,u){return r(v)===r(u)}}}),ge(mt,[ut,Me,Ae],function(_,w,g){return function(f){function i(b){f.setDirty(b)}function s(b){r.typing=!1,r.add({},b)}function t(){r.typing&&(r.typing=!1,r.add())}var u,d,r=this,o=0,v=[],m=0;return f.on("init",function(){r.add()}),f.on("BeforeExecCommand",function(b){var p=b.command;"Undo"!==p&&"Redo"!==p&&"mceRepaint"!==p&&(t(),r.beforeChange())}),f.on("ExecCommand",function(b){var p=b.command;"Undo"!==p&&"Redo"!==p&&"mceRepaint"!==p&&s(b)}),f.on("ObjectResizeStart Cut",function(){r.beforeChange()}),f.on("SaveContent ObjectResized blur",s),f.on("DragEnd",s),f.on("KeyUp",function(b){var p=b.keyCode;b.isDefaultPrevented()||((p>=33&&p<=36||p>=37&&p<=40||45===p||b.ctrlKey)&&(s(),f.nodeChanged()),46!==p&&8!==p||f.nodeChanged(),d&&r.typing&&(f.isDirty()||(i(v[0]&&!g.isEq(g.createFromEditor(f),v[0])),f.isDirty()&&f.fire("change",{level:v[0],lastLevel:null})),f.fire("TypingUndo"),d=!1,f.nodeChanged()))}),f.on("KeyDown",function(b){var p=b.keyCode;if(!b.isDefaultPrevented()){if(p>=33&&p<=36||p>=37&&p<=40||45===p)return void(r.typing&&s(b));!(p<16||p>20)||224===p||91===p||r.typing||b.ctrlKey&&!b.altKey||b.metaKey||(r.beforeChange(),r.typing=!0,r.add({},b),d=!0)}}),f.on("MouseDown",function(b){r.typing&&s(b)}),f.addShortcut("meta+z","","Undo"),f.addShortcut("meta+y,meta+shift+z","","Redo"),f.on("AddUndo Undo Redo ClearUndos",function(b){b.isDefaultPrevented()||f.nodeChanged()}),r={data:v,typing:!1,beforeChange:function(){m||(u=f.selection.getBookmark(2,!0))},add:function(b,p){var x,N,l,h=f.settings;if(l=g.createFromEditor(f),b=w.extend(b=b||{},l),m||f.removed||f.fire("BeforeAddUndo",{level:b,lastLevel:N=v[o],originalEvent:p}).isDefaultPrevented()||N&&g.isEq(N,b))return null;if(v[o]&&(v[o].beforeBookmark=u),h.custom_undo_redo_levels&&v.length>h.custom_undo_redo_levels){for(x=0;x<v.length-1;x++)v[x]=v[x+1];v.length--,o=v.length}b.bookmark=f.selection.getBookmark(2,!0),o<v.length-1&&(v.length=o+1),v.push(b),o=v.length-1;var c={level:b,lastLevel:N,originalEvent:p};return f.fire("AddUndo",c),o>0&&(i(!0),f.fire("change",c)),b},undo:function(){var b;return r.typing&&(r.add(),r.typing=!1),o>0&&(b=v[--o],g.applyToEditor(f,b,!0),i(!0),f.fire("undo",{level:b})),b},redo:function(){var b;return o<v.length-1&&(b=v[++o],g.applyToEditor(f,b,!1),i(!0),f.fire("redo",{level:b})),b},clear:function(){v=[],o=0,r.typing=!1,r.data=v,f.fire("ClearUndos")},hasUndo:function(){return o>0||r.typing&&v[0]&&!g.isEq(g.createFromEditor(f),v[0])},hasRedo:function(){return o<v.length-1&&!r.typing},transact:function(b){t(),r.beforeChange();try{m++,b()}finally{m--}return r.add()},extra:function(b,p){var h;r.transact(b)&&(h=v[o].bookmark,g.applyToEditor(f,v[o-1],!0),r.transact(p)&&(v[o-1].beforeBookmark=h))}}}}),ge(vt,[q,dt,pt,We],function(_,w,g,f){var i=f.ie&&f.ie<11;return function(s){var r=s.dom,o=s.selection,v=s.settings,u=s.undoManager,d=s.schema,m=d.getNonEmptyElements(),b=d.getMoveCaretBeforeOnEnterElements();s.on("keydown",function(p){13==p.keyCode&&!1!==function(p){function x(B){return B&&r.isBlock(B)&&!/^(TD|TH|CAPTION|FORM)$/.test(B.nodeName)&&!/^(fixed|absolute)/i.test(B.style.position)&&"true"!==r.getContentEditable(B)}function N(B){var R;r.isBlock(B)&&(R=o.getRng(),B.appendChild(r.create("span",null,"\xa0")),o.select(B),B.lastChild.outerHTML="",o.setRng(R))}function c(B){var z,G,se,ee,ce=B;if(B){if(f.ie&&f.ie<9&&P&&P.firstChild&&P.firstChild==P.lastChild&&"BR"==P.firstChild.tagName&&r.remove(P.firstChild),/^(LI|DT|DD)$/.test(B.nodeName)){var _e=function(be){for(;be;){if(1==be.nodeType||3==be.nodeType&&be.data&&/[\r\n\s]/.test(be.data))return be;be=be.nextSibling}}(B.firstChild);_e&&/^(UL|OL|DL)$/.test(_e.nodeName)&&B.insertBefore(r.doc.createTextNode("\xa0"),B.firstChild)}if(se=r.createRng(),f.ie||B.normalize(),B.hasChildNodes()){for(z=new _(B,B);G=z.current();){if(3==G.nodeType){se.setStart(G,0),se.setEnd(G,0);break}if(b[G.nodeName.toLowerCase()]){se.setStartBefore(G),se.setEndBefore(G);break}ce=G,G=z.next()}G||(se.setStart(ce,0),se.setEnd(ce,0))}else"BR"==B.nodeName?B.nextSibling&&r.isBlock(B.nextSibling)?((!H||H<9)&&(ee=r.create("br"),B.parentNode.insertBefore(ee,B)),se.setStartBefore(B),se.setEndBefore(B)):(se.setStartAfter(B),se.setEndAfter(B)):(se.setStart(B,0),se.setEnd(B,0));o.setRng(se),r.remove(ee),o.scrollIntoView(B)}}function a(B){var R=v.forced_root_block;R&&R.toLowerCase()===B.tagName.toLowerCase()&&r.setAttribs(B,v.forced_root_block_attrs)}function e(B){B.innerHTML=i?"":'<br data-mce-bogus="1">'}function n(B){var z,G,se,R=W,ce=d.getTextInlineElements();if(B||"TABLE"==Ve?a(z=r.create(B||je)):z=P.cloneNode(!1),se=z,!1!==v.keep_styles)do{if(ce[R.nodeName]){if("_mce_caret"==R.id)continue;G=R.cloneNode(!1),r.setAttrib(G,"id",""),z.hasChildNodes()?(G.appendChild(z.firstChild),z.appendChild(G)):(se=G,z.appendChild(G))}}while((R=R.parentNode)&&R!=U);return i||(se.innerHTML='<br data-mce-bogus="1">'),z}function y(B){var R,z,G;if(3==W.nodeType&&(B?E>0:E<W.nodeValue.length))return!1;if(W.parentNode==P&&X&&!B||B&&1==W.nodeType&&W==P.firstChild)return!0;if("TABLE"===W.nodeName||W.previousSibling&&"TABLE"==W.previousSibling.nodeName)return X&&!B||!X&&B;for(R=new _(W,P),3==W.nodeType&&(B&&0===E?R.prev():B||E!=W.nodeValue.length||R.next());z=R.current();){if(1===z.nodeType){if(!z.getAttribute("data-mce-bogus")&&(G=z.nodeName.toLowerCase(),m[G]&&"br"!==G))return!1}else if(3===z.nodeType&&!/^[ \t\r\n]*$/.test(z.nodeValue))return!1;B?R.prev():R.next()}return!0}function k(){s.execCommand("InsertLineBreak",!1,p)}function D(){Y=/^(H[1-6]|PRE|FIGURE)$/.test(Ve)&&"HGROUP"!=rt?n(je):n(),v.end_container_on_empty_block&&x(Oe)&&r.isEmpty(P)?Y=r.split(Oe,P):r.insertAfter(Y,P),c(Y)}var O,L,U,W,E,P,H,V,Y,pe,Oe,Ve,rt,je,X,B,R;if(O=o.getRng(!0),!p.isDefaultPrevented()){if(!O.collapsed)return void s.execCommand("Delete");if(new w(r).normalize(O),W=O.startContainer,E=O.startOffset,je=(je=(v.force_p_newlines?"p":"")||v.forced_root_block)?je.toUpperCase():"",H=r.doc.documentMode,V=p.shiftKey,1==W.nodeType&&W.hasChildNodes()&&(X=E>W.childNodes.length-1,W=W.childNodes[Math.min(E,W.childNodes.length-1)]||W,E=X&&3==W.nodeType?W.nodeValue.length:0),U=function(B){var z,G,R=r.getRoot();for(z=B;z!==R&&"false"!==r.getContentEditable(z);)"true"===r.getContentEditable(z)&&(G=z),z=z.parentNode;return z!==R?G:R}(W)){if(u.beforeChange(),!r.isBlock(U)&&U!=r.getRoot())return void(je&&!V||k());if((je&&!V||!je&&V)&&(W=function(B,R){var z,G,se,ce,ee,_e,be=je||"P";if(!(G=r.getParent(B,r.isBlock))||!x(G)){if(_e=(G=G||U)==s.getBody()||function(B){return B&&/^(TD|TH|CAPTION)$/.test(B.nodeName)}(G)?G.nodeName.toLowerCase():G.parentNode.nodeName.toLowerCase(),!G.hasChildNodes())return a(z=r.create(be)),G.appendChild(z),O.setStart(z,0),O.setEnd(z,0),z;for(ce=B;ce.parentNode!=G;)ce=ce.parentNode;for(;ce&&!r.isBlock(ce);)se=ce,ce=ce.previousSibling;if(se&&d.isValidChild(_e,be.toLowerCase())){for(a(z=r.create(be)),se.parentNode.insertBefore(z,se),ce=se;ce&&!r.isBlock(ce);)ee=ce.nextSibling,z.appendChild(ce),ce=ee;O.setStart(B,R),O.setEnd(B,R)}}return B}(W,E)),P=r.getParent(W,r.isBlock),Oe=P?r.getParent(P.parentNode,r.isBlock):null,Ve=P?P.nodeName.toUpperCase():"","LI"!=(rt=Oe?Oe.nodeName.toUpperCase():"")||p.ctrlKey||(P=Oe,Ve=rt),s.undoManager.typing&&(s.undoManager.typing=!1,s.undoManager.add()),/^(LI|DT|DD)$/.test(Ve)){if(!je&&V)return void k();if(r.isEmpty(P))return void function(){function B(G){for(var se=Oe[G?"firstChild":"lastChild"];se&&1!=se.nodeType;)se=se[G?"nextSibling":"previousSibling"];return se===P}function R(){var G=Oe.parentNode;return/^(LI|DT|DD)$/.test(G.nodeName)?G:Oe}if(Oe!=s.getBody()){var z=Oe.parentNode.nodeName;/^(OL|UL|LI)$/.test(z)&&(je="LI"),Y=je?n(je):r.create("BR"),B(!0)&&B()?"LI"==z?r.insertAfter(Y,R()):r.replace(Y,Oe):B(!0)?"LI"==z?(r.insertAfter(Y,R()),Y.appendChild(r.doc.createTextNode(" ")),Y.appendChild(Oe)):Oe.parentNode.insertBefore(Y,Oe):B()?(r.insertAfter(Y,R()),N(Y)):(Oe=R(),(L=O.cloneRange()).setStartAfter(P),L.setEndAfter(Oe),pe=L.extractContents(),"LI"==je&&"LI"==pe.firstChild.nodeName?(Y=pe.firstChild,r.insertAfter(pe,Oe)):(r.insertAfter(pe,Oe),r.insertAfter(Y,Oe))),r.remove(P),c(Y),u.add()}}()}if("PRE"==Ve&&!1!==v.br_in_pre){if(!V)return void k()}else if(!je&&!V&&"LI"!=Ve||je&&V)return void k();je&&P===s.getBody()||(je=je||"P",g.isCaretContainerBlock(P)?(Y=g.showCaretContainerBlock(P),r.isEmpty(P)&&e(P),c(Y)):y()?D():y(!0)?(N(Y=P.parentNode.insertBefore(n(),P)),c(P)):((L=O.cloneRange()).setEndAfter(P),function(B){do{3===B.nodeType&&(B.nodeValue=B.nodeValue.replace(/^[\r\n]+/,"")),B=B.firstChild}while(B)}(pe=L.extractContents()),Y=pe.firstChild,r.insertAfter(pe,P),function(B){var G,R=B,z=[];if(R){for(;R=R.firstChild;){if(r.isBlock(R))return;1!=R.nodeType||m[R.nodeName.toLowerCase()]||z.push(R)}for(G=z.length;G--;)(!(R=z[G]).hasChildNodes()||R.firstChild==R.lastChild&&""===R.firstChild.nodeValue||"A"==R.nodeName&&" "===(R.innerText||R.textContent))&&r.remove(R)}}(Y),B=P,i||(B.normalize(),(R=B.lastChild)&&!/^(left|right)$/gi.test(r.getStyle(R,"float",!0))||r.add(B,"br")),r.isEmpty(P)&&e(P),Y.normalize(),r.isEmpty(Y)?(r.remove(Y),D()):c(Y)),r.setAttrib(Y,"id",""),s.fire("NewBlock",{newBlock:Y}),u.typing=!1,u.add())}}}(p)&&p.preventDefault()})}}),ge(Ye,[],function(){return function(_){var g=_.settings,f=_.dom,i=_.selection,s=_.schema,t=s.getBlockElements();g.forced_root_block&&_.on("NodeChange",function(){var v,u,d,m,b,p,x,N,l,c,a,e,r=i.getStart(),o=_.getBody(),h=-16777215;if(e=g.forced_root_block,r&&1===r.nodeType&&e){for(;r&&r!=o;){if(t[r.nodeName])return;r=r.parentNode}if((v=i.getRng()).setStart){u=v.startContainer,d=v.startOffset,m=v.endContainer,b=v.endOffset;try{l=_.getDoc().activeElement===o}catch(n){}}else v.item&&(r=v.item(0),(v=_.getDoc().body.createTextRange()).moveToElementText(r)),l=v.parentElement().ownerDocument===_.getDoc(),(c=v.duplicate()).collapse(!0),d=-1*c.move("character",h),c.collapsed||((c=v.duplicate()).collapse(!1),b=-1*c.move("character",h)-d);for(r=o.firstChild,a=o.nodeName.toLowerCase();r;)if((3===r.nodeType||1==r.nodeType&&!t[r.nodeName])&&s.isValidChild(a,e.toLowerCase())){if(3===r.nodeType&&0===r.nodeValue.length){x=r,r=r.nextSibling,f.remove(x);continue}p||(p=f.create(e,_.settings.forced_root_block_attrs),r.parentNode.insertBefore(p,r),N=!0),x=r,r=r.nextSibling,p.appendChild(x)}else p=null,r=r.nextSibling;if(N&&l){if(v.setStart)v.setStart(u,d),v.setEnd(m,b),i.setRng(v);else try{(v=_.getDoc().body.createTextRange()).moveToElementText(o),v.collapse(!0),v.moveStart("character",d),b>0&&v.moveEnd("character",b),v.select()}catch(n){}_.nodeChanged()}}})}}),ge(kt,[ve,q,Re,_t,pt,Qe],function(_,w,g,f,i,s){function t(D){return D>0}function r(D){return D<0}function o(D,O){for(var L;L=D(O);)if(!S(L))return L;return null}function u(D,O){for(D=D.parentNode;D&&D!=O;D=D.parentNode)if(a(D))return D;return O}function d(D,O){for(;D&&D!=O;){if(n(D))return D;D=D.parentNode}return null}function x(D,O){var L=O.ownerDocument.createRange();return D?(L.setStartBefore(O),L.setEndBefore(O)):(L.setStartAfter(O),L.setEndAfter(O)),L}function h(D,O,L){return d(O,D)==d(L,D)}function N(D,O,L){var U,W;for(W=D?"previousSibling":"nextSibling";L&&L!=O;){if(y(U=L[W])&&(U=U[W]),e(U)){if(h(O,U,L))return U;break}if(T(U))break;L=L.parentNode}return null}function c(D,O){return e(function(D,O){var L,U;return O?(L=O.container(),U=O.offset(),k(L)?L.childNodes[U+D]:null):null}(D,O))}var a=g.isContentEditableTrue,e=g.isContentEditableFalse,n=g.matchStyleValues("display","block table table-cell table-caption"),y=i.isCaretContainer,S=i.isCaretContainerBlock,C=_.curry,k=g.isElement,T=s.isCaretCandidate,I=C(x,!0),M=C(x,!1);return{isForwards:t,isBackwards:r,findNode:function(D,O,L,U,W){var E=new w(D,U);if(r(O)){if((e(D)||S(D))&&L(D=o(E.prev,!0)))return D;for(;D=o(E.prev,W);)if(L(D))return D}if(t(O)){if((e(D)||S(D))&&L(D=o(E.next,!0)))return D;for(;D=o(E.next,W);)if(L(D))return D}return null},getEditingHost:u,getParentBlock:d,isInSameBlock:function(D,O,L){return d(D.container(),L)==d(O.container(),L)},isInSameEditingHost:function(D,O,L){return u(D.container(),L)==u(O.container(),L)},isBeforeContentEditableFalse:C(c,0),isAfterContentEditableFalse:C(c,-1),normalizeRange:function(D,O,L){var U,W,E,P,H=C(N,!0,O),V=C(N,!1,O);if(E=L.startOffset,i.isCaretContainerBlock(W=L.startContainer)){if(k(W)||(W=W.parentNode),"before"==(P=W.getAttribute("data-mce-caret"))&&e(U=W.nextSibling))return I(U);if("after"==P&&e(U=W.previousSibling))return M(U)}if(!L.collapsed)return L;if(g.isText(W)){if(y(W)){if(1===D){if(U=V(W))return I(U);if(U=H(W))return M(U)}if(-1===D){if(U=H(W))return M(U);if(U=V(W))return I(U)}return L}if(i.endsWithCaretContainer(W)&&E>=W.data.length-1)return 1===D&&(U=V(W))?I(U):L;if(i.startsWithCaretContainer(W)&&E<=1)return-1===D&&(U=H(W))?M(U):L;if(E===W.data.length)return(U=V(W))?I(U):L;if(0===E)return(U=H(W))?M(U):L}return L}}}),ge(Ft,[Re,Qe,_t,kt,et,ve],function(_,w,g,f,i,s){function r(a,e){return a.hasChildNodes()&&e<a.childNodes.length?a.childNodes[e]:null}function o(a,e){if(x(a)){if(N(e.previousSibling)&&!m(e.previousSibling))return g.before(e);if(m(e))return g(e,0)}if(h(a)){if(N(e.nextSibling)&&!m(e.nextSibling))return g.after(e);if(m(e))return g(e,e.data.length)}return h(a)?p(e)?g.before(e):g.after(e):g.before(e)}function u(a,e,n){var y,S,C,k,T,I,M;if(!b(n)||!e)return null;if(y=(M=e).container(),S=M.offset(),m(y)){if(h(a)&&S>0)return g(y,--S);if(x(a)&&S<y.length)return g(y,++S);C=y}else{if(h(a)&&S>0&&(k=r(y,S-1),N(k)))return!l(k)&&(T=f.findNode(k,a,c,k))?m(T)?g(T,T.data.length):g.after(T):m(k)?g(k,k.data.length):g.before(k);if(x(a)&&S<y.childNodes.length&&(k=r(y,S),N(k)))return function(a,e){var n;return!!_.isBr(a)&&!!(n=u(1,g.after(a),e))&&!f.isInSameBlock(g.before(a),g.before(n),e)}(k,n)?u(a,g.after(k),n):!l(k)&&(T=f.findNode(k,a,c,k))?m(T)?g(T,0):g.before(T):m(k)?g(k,0):g.after(k);C=M.getNode()}return(x(a)&&M.isAtEnd()||h(a)&&M.isAtStart())&&(C=f.findNode(C,a,s.constant(!0),n,!0),c(C))?o(a,C):(k=f.findNode(C,a,c,n),I=i.last(i.filter(function(a,e){for(var n=[];a&&a!=e;)n.push(a),a=a.parentNode;return n}(y,n),d)),!I||k&&I.contains(k)?k?o(a,k):null:M=x(a)?g.after(I):g.before(I))}var d=_.isContentEditableFalse,m=_.isText,b=_.isElement,p=_.isBr,x=f.isForwards,h=f.isBackwards,N=w.isCaretCandidate,l=w.isAtomic,c=w.isEditableCaretCandidate;return function(a){return{next:function(e){return u(1,e,a)},prev:function(e){return u(-1,e,a)}}}}),ge(Yt,[Me,Ft,_t],function(_,w,g){var t=function(l){return _.grep(l.childNodes,function(c){return"LI"===c.nodeName})},o=function(l){return l.length>0&&function(l){return!l.firstChild}(l[l.length-1])?l.slice(0,-1):l},v=function(l,c){var a=l.getParent(c,l.isBlock);return a&&"LI"===a.nodeName?a:null},b=function(l,c){var a=g.after(l),n=new w(c).prev(a);return n?n.toRange():null};return{isListFragment:function(l){var c=l.firstChild,a=l.lastChild;return c&&"meta"===c.name&&(c=c.next),a&&"mce_marker"===a.attr("id")&&(a=a.prev),!(!c||c!==a||"ul"!==c.name&&"ol"!==c.name)},insertAtCaret:function(l,c,a,e){var n=function(l,c,a){var e=c.serialize(a);return function(l){var c=l.firstChild,a=l.lastChild;return c&&"META"===c.nodeName&&c.parentNode.removeChild(c),a&&"mce_marker"===a.id&&a.parentNode.removeChild(a),l}(l.createFragment(e))}(c,l,e),y=v(c,a.startContainer),S=o(t(n.firstChild)),T=c.getRoot(),I=function(M){var D=g.fromRangeStart(a),O=new w(c.getRoot()),L=1===M?O.prev(D):O.next(D);return!L||v(c,L.getNode())!==y};return I(1)?function(l,c,a){var e=l.parentNode;return _.each(c,function(n){e.insertBefore(n,l)}),function(l,c){var a=g.before(l),n=new w(c).next(a);return n?n.toRange():null}(l,a)}(y,S,T):I(2)?function(l,c,a,e){return e.insertAfter(c.reverse(),l),b(c[0],a)}(y,S,T,c):function(l,c,a,e){var n=function(l,c){var a=c.cloneRange(),e=c.cloneRange();return a.setStartBefore(l),e.setEndAfter(l),[a.cloneContents(),e.cloneContents()]}(l,e),y=l.parentNode;return y.insertBefore(n[0],l),_.each(c,function(S){y.insertBefore(S,l)}),y.insertBefore(n[1],l),y.removeChild(l),b(c[c.length-1],a)}(y,S,T,a)},isParentBlockLi:function(l,c){return!!v(l,c)},trimListItems:o,listItems:t}}),ge(an,[We,Me,Dt,Ft,_t,rn,Re,Yt],function(_,w,g,f,i,s,t,r){var o=t.matchNodeNames("td th");return{insertAtCaret:function(b,p){var x=function(b){var p;return"string"!=typeof b?(p=w.extend({paste:b.paste,data:{paste:b.paste}},b),{content:b.content,details:p}):{content:b,details:{}}}(p);!function(b,p,x){var S,C,k,T,I,M,D,O,L,U,W,E,P=b.schema.getTextInlineElements(),H=b.selection,V=b.dom;/^ | $/.test(p)&&(p=function(Ve){function rt(R){return X[R]&&3==X[R].nodeType}var je,X,B;return B=(je=H.getRng(!0)).startOffset,3==(X=je.startContainer).nodeType&&(B>0?Ve=Ve.replace(/^&nbsp;/," "):rt("previousSibling")||(Ve=Ve.replace(/^ /,"&nbsp;")),B<X.length?Ve=Ve.replace(/&nbsp;(<br>|)$/," "):rt("nextSibling")||(Ve=Ve.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),Ve}(p)),S=b.parser,E=x.merge,C=new g({validate:b.settings.validate},b.schema),W='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',b.fire("BeforeSetContent",M={content:p,format:"html",selection:!0}),-1==(p=M.content).indexOf("{$caret}")&&(p+="{$caret}"),p=p.replace(/\{\$caret\}/,W);var Ve,Y=(O=H.getRng()).startContainer||(O.parentElement?O.parentElement():null),pe=b.getBody();Y===pe&&H.isCollapsed()&&V.isBlock(pe.firstChild)&&(Ve=pe.firstChild)&&!b.schema.getShortEndedElements()[Ve.nodeName]&&V.isEmpty(pe.firstChild)&&((O=V.createRng()).setStart(pe.firstChild,0),O.setEnd(pe.firstChild,0),H.setRng(O)),H.isCollapsed()||(b.selection.setRng(b.selection.getRng()),b.getDoc().execCommand("Delete",!1,null),function(){var Ve,rt,je;je=(Ve=H.getRng(!0)).startOffset,3==(rt=Ve.startContainer).nodeType&&Ve.collapsed&&("\xa0"===rt.data[je]?(rt.deleteData(je,1),/[\u00a0| ]$/.test(p)||(p+=" ")):"\xa0"===rt.data[je-1]&&(rt.deleteData(je-1,1),/[\u00a0| ]$/.test(p)||(p=" "+p)))}());var Oe={context:(k=H.getNode()).nodeName.toLowerCase(),data:x.data};if(I=S.parse(p,Oe),!0===x.paste&&r.isListFragment(I)&&r.isParentBlockLi(V,k))return O=r.insertAtCaret(C,V,b.selection.getRng(!0),I),b.selection.setRng(O),void b.fire("SetContent",M);if(function(Ve){for(var rt=Ve;rt=rt.walk();)1===rt.type&&rt.attr("data-mce-fragment","1")}(I),"mce_marker"==(L=I.lastChild).attr("id"))for(D=L,L=L.prev;L;L=L.walk(!0))if(3==L.type||!V.isBlock(L.name)){b.schema.isValidChild(L.parent.name,"span")&&L.parent.insert(D,L,"br"===L.name);break}if(b._selectionOverrides.showBlockCaretContainer(k),Oe.invalid){for(H.setContent(W),k=H.getNode(),T=b.getBody(),9==k.nodeType?k=L=T:L=k;L!==T;)k=L,L=L.parentNode;p=k==T?T.innerHTML:V.getOuterHTML(k),p=C.serialize(S.parse(p.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return C.serialize(I)}))),k==T?V.setHTML(T,p):V.setOuterHTML(k,p)}else p=C.serialize(I),function(b,p,x){if("all"===x.getAttribute("data-mce-bogus"))x.parentNode.insertBefore(b.dom.createFragment(p),x);else{var h=x.firstChild;!h||h===x.lastChild&&"BR"===h.nodeName?b.dom.setHTML(x,p):b.selection.setContent(p)}}(b,p,k);(function(){if(E){var Ve=b.getBody(),rt=new s(V);w.each(V.select("*[data-mce-fragment]"),function(je){for(var X=je.parentNode;X&&X!=Ve;X=X.parentNode)P[je.nodeName.toLowerCase()]&&rt.compare(X,je)&&V.remove(je,!0)})}})(),function(Ve){var X,B,R;if(Ve){if(H.scrollIntoView(Ve),X=function(z){for(var G=b.getBody();z&&z!==G;z=z.parentNode)if("false"===b.dom.getContentEditable(z))return z;return null}(Ve))return V.remove(Ve),void H.select(X);O=V.createRng(),(L=Ve.previousSibling)&&3==L.nodeType?(O.setStart(L,L.nodeValue.length),_.ie||(U=Ve.nextSibling)&&3==U.nodeType&&(L.appendData(U.data),U.parentNode.removeChild(U))):(O.setStartBefore(Ve),O.setEndBefore(Ve)),B=V.getParent(Ve,V.isBlock),V.remove(Ve),B&&V.isEmpty(B)&&(b.$(B).empty(),O.setStart(B,0),O.setEnd(B,0),o(B)||function(Ve){return!!Ve.getAttribute("data-mce-fragment")}(B)||!(R=function(z){var G=i.fromRangeStart(z);if(G=new f(b.getBody()).next(G))return G.toRange()}(O))?V.add(B,V.create("br",{"data-mce-bogus":"1"})):(O=R,V.remove(B))),H.setRng(O)}}(V.get("mce_marker")),function(Ve){w.each(Ve.getElementsByTagName("*"),function(rt){rt.removeAttribute("data-mce-fragment")})}(b.getBody()),b.fire("SetContent",M),b.addVisual()}(b,x.content,x.details)}}}),ge($t,[We,Me,dt,q,an,Re],function(_,w,g,f,i,s){var t=w.each,r=w.extend,o=w.map,v=w.inArray,u=w.explode,d=_.ie&&_.ie<11,m=!0;return function(p){function h(E){var P;if(!p.quirks.isHidden()){if(E=E.toLowerCase(),P=L.state[E])return P(E);try{return p.getDoc().queryCommandState(E)}catch(H){}return!1}}function l(E,P){P=P||"exec",t(E,function(H,V){t(V.toLowerCase().split(","),function(Y){L[P][Y]=H})})}function S(E,P,H){return P===Xt&&(P=!1),H===Xt&&(H=null),p.getDoc().execCommand(E,P,H)}function C(E){return O.match(E)}function k(E,P){O.toggle(E,P?{value:P}:Xt),p.nodeChanged()}function T(E){W=D.getBookmark(E)}function I(){D.moveToBookmark(W)}var M,D,O,W,L={state:{},exec:{},value:{}},U=p.settings;p.on("PreInit",function(){M=p.dom,D=p.selection,U=p.settings,O=p.formatter}),r(this,{execCommand:function(E,P,H,V){var Y,pe,Oe=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(E)||V&&V.skip_focus||p.focus(),(V=p.fire("BeforeExecCommand",{command:E,ui:P,value:H})).isDefaultPrevented())return!1;if(pe=E.toLowerCase(),Y=L.exec[pe])return Y(pe,P,H),p.fire("ExecCommand",{command:E,ui:P,value:H}),!0;if(t(p.plugins,function(Ve){if(Ve.execCommand&&Ve.execCommand(E,P,H))return p.fire("ExecCommand",{command:E,ui:P,value:H}),Oe=!0,!1}),Oe)return Oe;if(p.theme&&p.theme.execCommand&&p.theme.execCommand(E,P,H))return p.fire("ExecCommand",{command:E,ui:P,value:H}),!0;try{Oe=p.getDoc().execCommand(E,P,H)}catch(Ve){}return!!Oe&&(p.fire("ExecCommand",{command:E,ui:P,value:H}),!0)},queryCommandState:h,queryCommandValue:function(E){var P;if(!p.quirks.isHidden()){if(E=E.toLowerCase(),P=L.value[E])return P(E);try{return p.getDoc().queryCommandValue(E)}catch(H){}}},queryCommandSupported:function(E){if(E=E.toLowerCase(),L.exec[E])return!0;try{return p.getDoc().queryCommandSupported(E)}catch(P){}return!1},addCommands:l,addCommand:function(E,P,H){E=E.toLowerCase(),L.exec[E]=function(V,Y,pe,Oe){return P.call(H||p,Y,pe,Oe)}},addQueryStateHandler:function(E,P,H){E=E.toLowerCase(),L.state[E]=function(){return P.call(H||p)}},addQueryValueHandler:function(E,P,H){E=E.toLowerCase(),L.value[E]=function(){return P.call(H||p)}},hasCustomCommand:function(E){return E=E.toLowerCase(),!!L.exec[E]}}),l({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){p.undoManager.add()},"Cut,Copy,Paste":function(E){var H,P=p.getDoc();try{S(E)}catch(Y){H=m}if("paste"!==E||P.queryCommandEnabled(E)||(H=!0),H||!P.queryCommandSupported(E)){var V=p.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");_.mac&&(V=V.replace(/Ctrl\+/g,"\u2318+")),p.notificationManager.open({text:V,type:"error"})}},unlink:function(){if(D.isCollapsed()){var E=p.dom.getParent(p.selection.getStart(),"a");E&&p.dom.remove(E,!0)}else O.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(E){var P=E.substring(7);"full"==P&&(P="justify"),t("left,center,right,justify".split(","),function(H){P!=H&&O.remove("align"+H)}),"none"!=P&&k("align"+P)},"InsertUnorderedList,InsertOrderedList":function(E){var P,H;S(E),(P=M.getParent(D.getNode(),"ol,ul"))&&/^(H[1-6]|P|ADDRESS|PRE)$/.test((H=P.parentNode).nodeName)&&(T(),M.split(H,P),I())},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(E){k(E)},"ForeColor,HiliteColor,FontName":function(E,P,H){k(E,H)},FontSize:function(E,P,H){var V,Y;H>=1&&H<=7&&(Y=u(U.font_size_style_values),H=(V=u(U.font_size_classes))?V[H-1]||H:Y[H-1]||H),k(E,H)},RemoveFormat:function(E){O.remove(E)},mceBlockQuote:function(){k("blockquote")},FormatBlock:function(E,P,H){return k(H||"p")},mceCleanup:function(){var E=D.getBookmark();p.setContent(p.getContent({cleanup:m}),{cleanup:m}),D.moveToBookmark(E)},mceRemoveNode:function(E,P,H){var V=H||D.getNode();V!=p.getBody()&&(T(),p.dom.remove(V,m),I())},mceSelectNodeDepth:function(E,P,H){var V=0;M.getParent(D.getNode(),function(Y){if(1==Y.nodeType&&V++==H)return D.select(Y),!1},p.getBody())},mceSelectNode:function(E,P,H){D.select(H)},mceInsertContent:function(E,P,H){i.insertAtCaret(p,H)},mceInsertRawHTML:function(E,P,H){D.setContent("tiny_mce_marker"),p.setContent(p.getContent().replace(/tiny_mce_marker/g,function(){return H}))},mceToggleFormat:function(E,P,H){k(H)},mceSetContent:function(E,P,H){p.setContent(H)},"Indent,Outdent":function(E){var P,H,V;H=/[a-z%]+$/i.exec(P=U.indentation),P=parseInt(P,10),h("InsertUnorderedList")||h("InsertOrderedList")?S(E):(U.forced_root_block||M.getParent(D.getNode(),M.isBlock)||O.apply("div"),t(D.getSelectedBlocks(),function(Y){if("false"!==M.getContentEditable(Y)&&"LI"!==Y.nodeName){var pe=p.getParam("indent_use_margin",!1)?"margin":"padding";pe="TABLE"===Y.nodeName?"margin":pe,pe+="rtl"==M.getStyle(Y,"direction",!0)?"Right":"Left","outdent"==E?(V=Math.max(0,parseInt(Y.style[pe]||0,10)-P),M.setStyle(Y,pe,V?V+H:"")):(V=parseInt(Y.style[pe]||0,10)+P+H,M.setStyle(Y,pe,V))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){p.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){p.hasVisual=!p.hasVisual,p.addVisual()},mceReplaceContent:function(E,P,H){p.execCommand("mceInsertContent",!1,H.replace(/\{\$selection\}/g,D.getContent({format:"text"})))},mceInsertLink:function(E,P,H){var V;"string"==typeof H&&(H={href:H}),V=M.getParent(D.getNode(),"a"),H.href=H.href.replace(" ","%20"),V&&H.href||O.remove("link"),H.href&&O.apply("link",H,V)},selectAll:function(){var P,E=M.getRoot();if(D.getRng().setStart){var H=M.getParent(D.getStart(),s.isContentEditableTrue);H&&((P=M.createRng()).selectNodeContents(H),D.setRng(P))}else(P=D.getRng()).item||(P.moveToElementText(E),P.select())},delete:function(){S("Delete");var E=p.getBody();M.isEmpty(E)&&(p.setContent(""),E.firstChild&&M.isBlock(E.firstChild)?p.selection.setCursorLocation(E.firstChild,0):p.selection.setCursorLocation(E,0))},mceNewDocument:function(){p.setContent("")},InsertLineBreak:function(E,P,H){var pe,Oe,Ve,Y=H,rt=D.getRng(!0);new g(M).normalize(rt);var je=rt.startOffset,X=rt.startContainer;if(1==X.nodeType&&X.hasChildNodes()){var B=je>X.childNodes.length-1;X=X.childNodes[Math.min(je,X.childNodes.length-1)]||X,je=B&&3==X.nodeType?X.nodeValue.length:0}var R=M.getParent(X,M.isBlock),z=R?R.nodeName.toUpperCase():"",G=R?M.getParent(R.parentNode,M.isBlock):null,se=G?G.nodeName.toUpperCase():"";"LI"!=se||Y&&Y.ctrlKey||(R=G,z=se),X&&3==X.nodeType&&je>=X.nodeValue.length&&(d||function(){for(var be,_e=new f(X,R),Ne=p.schema.getNonEmptyElements();be=_e.next();)if(Ne[be.nodeName.toLowerCase()]||be.length>0)return!0}()||(pe=M.create("br"),rt.insertNode(pe),rt.setStartAfter(pe),rt.setEndAfter(pe),Oe=!0)),pe=M.create("br"),rt.insertNode(pe);var ee=M.doc.documentMode;return d&&"PRE"==z&&(!ee||ee<8)&&pe.parentNode.insertBefore(M.doc.createTextNode("\r"),pe),Ve=M.create("span",{},"&nbsp;"),pe.parentNode.insertBefore(Ve,pe),D.scrollIntoView(Ve),M.remove(Ve),Oe?(rt.setStartBefore(pe),rt.setEndBefore(pe)):(rt.setStartAfter(pe),rt.setEndAfter(pe)),D.setRng(rt),p.undoManager.add(),m}}),l({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(E){var P="align"+E.substring(7),H=D.isCollapsed()?[M.getParent(D.getNode(),M.isBlock)]:D.getSelectedBlocks(),V=o(H,function(Y){return!!O.matchNode(Y,P)});return-1!==v(V,m)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(E){return C(E)},mceBlockQuote:function(){return C("blockquote")},Outdent:function(){var E;return U.inline_styles&&((E=M.getParent(D.getStart(),M.isBlock))&&parseInt(E.style.paddingLeft,10)>0||(E=M.getParent(D.getEnd(),M.isBlock))&&parseInt(E.style.paddingLeft,10)>0)?m:h("InsertUnorderedList")||h("InsertOrderedList")||!U.inline_styles&&!!M.getParent(D.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(E){var P=M.getParent(D.getNode(),"ul,ol");return P&&("insertunorderedlist"===E&&"UL"===P.tagName||"insertorderedlist"===E&&"OL"===P.tagName)}},"state"),l({"FontSize,FontName":function(E){var H,P=0;return(H=M.getParent(D.getNode(),"span"))&&(P="fontsize"==E?H.style.fontSize:H.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),P}},"value"),l({Undo:function(){p.undoManager.undo()},Redo:function(){p.undoManager.redo()}})}}),ge(Fe,[Me],function(_){function w(t,r){var v,u,o=this;if(t=f(t),v=(r=o.settings=r||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))o.source=t;else{var d=0===t.indexOf("//");0!==t.indexOf("/")||d||(t=(v&&v.protocol||"http")+"://mce_host"+t),/^[\w\-]*:?\/\//.test(t)||(u=r.base_uri?r.base_uri.path:new w(location.href).directory,""===r.base_uri.protocol?t="//mce_host"+o.toAbsPath(u,t):(t=/([^#?]*)([#?]?.*)/.exec(t),t=(v&&v.protocol||"http")+"://mce_host"+o.toAbsPath(u,t[1])+t[2])),t=t.replace(/@@/g,"(mce_at)"),t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),g(i,function(m,b){var p=t[b];p&&(p=p.replace(/\(mce_at\)/g,"@@")),o[m]=p}),v&&(o.protocol||(o.protocol=v.protocol),o.userInfo||(o.userInfo=v.userInfo),o.port||"mce_host"!==o.host||(o.port=v.port),o.host&&"mce_host"!==o.host||(o.host=v.host),o.source=""),d&&(o.protocol="")}}var g=_.each,f=_.trim,i="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),s={ftp:21,http:80,https:443,mailto:25};return w.prototype={setPath:function(t){var r=this;t=/^(.*?)\/?(\w+)?$/.exec(t),r.path=t[0],r.directory=t[1],r.file=t[2],r.source="",r.getURI()},toRelative:function(t){var o,r=this;if("./"===t)return t;if("mce_host"!=(t=new w(t,{base_uri:r})).host&&r.host!=t.host&&t.host||r.port!=t.port||r.protocol!=t.protocol&&""!==t.protocol)return t.getURI();var v=r.getURI(),u=t.getURI();return v==u||"/"==v.charAt(v.length-1)&&v.substr(0,v.length-1)==u?v:(o=r.toRelPath(r.path,t.path),t.query&&(o+="?"+t.query),t.anchor&&(o+="#"+t.anchor),o)},toAbsolute:function(t,r){return(t=new w(t,{base_uri:this})).getURI(r&&this.isSameOrigin(t))},isSameOrigin:function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var r=s[this.protocol];if(r&&(this.port||r)==(t.port||r))return!0}return!1},toRelPath:function(t,r){var o,d,m,v=0,u="";if(t=(t=t.substring(0,t.lastIndexOf("/"))).split("/"),o=r.split("/"),t.length>=o.length)for(d=0,m=t.length;d<m;d++)if(d>=o.length||t[d]!=o[d]){v=d+1;break}if(t.length<o.length)for(d=0,m=o.length;d<m;d++)if(d>=t.length||t[d]!=o[d]){v=d+1;break}if(1===v)return r;for(d=0,m=t.length-(v-1);d<m;d++)u+="../";for(d=v-1,m=o.length;d<m;d++)u+=d!=v-1?"/"+o[d]:o[d];return u},toAbsPath:function(t,r){var o,d,m,v=0,u=[];for(d=/\/$/.test(r)?"/":"",t=t.split("/"),r=r.split("/"),g(t,function(b){b&&u.push(b)}),t=u,o=r.length-1,u=[];o>=0;o--)0!==r[o].length&&"."!==r[o]&&(".."!==r[o]?v>0?v--:u.push(r[o]):v++);return 0!==(m=(o=t.length-v)<=0?u.reverse().join("/"):t.slice(0,o).join("/")+"/"+u.reverse().join("/")).indexOf("/")&&(m="/"+m),d&&m.lastIndexOf("/")!==m.length-1&&(m+=d),m},getURI:function(t){var r,o=this;return o.source&&!t||(r="",t||(r+=o.protocol?o.protocol+"://":"//",o.userInfo&&(r+=o.userInfo+"@"),o.host&&(r+=o.host),o.port&&(r+=":"+o.port)),o.path&&(r+=o.path),o.query&&(r+="?"+o.query),o.anchor&&(r+="#"+o.anchor),o.source=r),o.source}},w.parseDataUri=function(t){var r,o;return t=decodeURIComponent(t).split(","),(o=/data:([^;]+)/.exec(t[0]))&&(r=o[1]),{type:r,data:t[1]}},w.getDocumentBaseUrl=function(t){var r;return r=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?t.href:t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r},w}),ge(nt,[Me],function(_){function w(){}var i,s,g=_.each,f=_.extend;return w.extend=i=function(t){function r(){var x,h,N,l=this;if(!s&&(l.init&&l.init.apply(l,arguments),h=l.Mixins))for(x=h.length;x--;)(N=h[x]).init&&N.init.apply(l,arguments)}function o(){return this}function v(x,h){return function(){var c,N=this,l=N._super;return N._super=d[x],c=h.apply(N,arguments),N._super=l,c}}var m,b,p,d=this.prototype;for(b in s=!0,m=new this,s=!1,t.Mixins&&(g(t.Mixins,function(x){for(var h in x)"init"!==h&&(t[h]=x[h])}),d.Mixins&&(t.Mixins=d.Mixins.concat(t.Mixins))),t.Methods&&g(t.Methods.split(","),function(x){t[x]=o}),t.Properties&&g(t.Properties.split(","),function(x){var h="_"+x;t[x]=function(N){var l=this;return void 0!==N?(l[h]=N,l):l[h]}}),t.Statics&&g(t.Statics,function(x,h){r[h]=x}),t.Defaults&&d.Defaults&&(t.Defaults=f({},d.Defaults,t.Defaults)),t)m[b]="function"==typeof(p=t[b])&&d[b]?v(b,p):p;return r.prototype=m,r.constructor=r,r.extend=i,r},w}),ge(ht,[Me],function(_){function w(f){function i(){return!1}function s(){return!0}function r(x,h,N,l){var c,a,e;if(!1===h&&(h=i),h)for(h={func:h},l&&_.extend(h,l),e=(a=x.toLowerCase().split(" ")).length;e--;)(c=b[x=a[e]])||(c=b[x]=[],p(x,!0)),N?c.unshift(h):c.push(h);return d}function o(x,h){var N,l,c,a,e;if(x)for(N=(a=x.toLowerCase().split(" ")).length;N--;){if(l=b[x=a[N]],!x){for(c in b)p(c,!1),delete b[c];return d}if(l){if(h)for(e=l.length;e--;)l[e].func===h&&(l=l.slice(0,e).concat(l.slice(e+1)),b[x]=l);else l.length=0;l.length||(p(x,!1),delete b[x])}}else{for(x in b)p(x,!1);b={}}return d}var m,p,d=this,b={};m=(f=f||{}).scope||d,p=f.toggleEvent||i,d.fire=function(x,h){var N,l,c,a;if(x=x.toLowerCase(),(h=h||{}).type=x,h.target||(h.target=m),h.preventDefault||(h.preventDefault=function(){h.isDefaultPrevented=s},h.stopPropagation=function(){h.isPropagationStopped=s},h.stopImmediatePropagation=function(){h.isImmediatePropagationStopped=s},h.isDefaultPrevented=i,h.isPropagationStopped=i,h.isImmediatePropagationStopped=i),f.beforeFire&&f.beforeFire(h),N=b[x])for(l=0,c=N.length;l<c;l++){if((a=N[l]).once&&o(x,a.func),h.isImmediatePropagationStopped())return h.stopPropagation(),h;if(!1===a.func.call(m,h))return h.preventDefault(),h}return h},d.on=r,d.off=o,d.once=function(x,h,N){return r(x,h,N,{once:!0})},d.has=function(x){return x=x.toLowerCase(),!(!b[x]||0===b[x].length)}}var g=_.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," ");return w.isNative=function(f){return!!g[f.toLowerCase()]},w}),ge(Bt,[],function(){function _(w){this.create=w.create}return _.create=function(w,g){return new _({create:function(f,i){function s(o){f.set(i,o.value)}var r;return f.on("change:"+i,function(o){w.set(g,o.value)}),w.on("change:"+g,s),(r=f._bindings)||(r=f._bindings=[],f.on("destroy",function(){for(var o=r.length;o--;)r[o]()})),r.push(function(){w.off("change:"+g,s)}),w.get(g)}})},_}),ge(bt,[ht],function(_){function w(g){return g._eventDispatcher||(g._eventDispatcher=new _({scope:g,toggleEvent:function(f,i){_.isNative(f)&&g.toggleNativeEvent&&g.toggleNativeEvent(f,i)}})),g._eventDispatcher}return{fire:function(g,f,i){var s=this;if(s.removed&&"remove"!==g)return f;if(f=w(s).fire(g,f,i),!1!==i&&s.parent)for(var t=s.parent();t&&!f.isPropagationStopped();)t.fire(g,f,!1),t=t.parent();return f},on:function(g,f,i){return w(this).on(g,f,i)},off:function(g,f){return w(this).off(g,f)},once:function(g,f){return w(this).once(g,f)},hasEventListeners:function(g){return w(this).has(g)}}}),ge(st,[Bt,bt,nt,Me],function(_,w,g,f){function i(t){return t.nodeType>0}function s(t,r){var o,v;if(t===r)return!0;if(null===t||null===r||"object"!=typeof t||"object"!=typeof r)return t===r;if(f.isArray(r)){if(t.length!==r.length)return!1;for(o=t.length;o--;)if(!s(t[o],r[o]))return!1}if(i(t)||i(r))return t===r;for(o in v={},r){if(!s(t[o],r[o]))return!1;v[o]=!0}for(o in t)if(!v[o]&&!s(t[o],r[o]))return!1;return!0}return g.extend({Mixins:[w],init:function(t){var r,o;for(r in t=t||{})(o=t[r])instanceof _&&(t[r]=o.create(this,r));this.data=t},set:function(t,r){var o,v,u=this.data[t];if(r instanceof _&&(r=r.create(this,t)),"object"==typeof t){for(o in t)this.set(o,t[o]);return this}return s(u,r)||(this.data[t]=r,this.fire("change:"+t,v={target:this,name:t,value:r,oldValue:u}),this.fire("change",v)),this},get:function(t){return this.data[t]},has:function(t){return t in this.data},bind:function(t){return _.create(this,t)},destroy:function(){this.fire("destroy")}})}),ge(Rt,[nt],function(_){var s,g=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,f=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,i=/^\s*|\s*$/g,t=_.extend({init:function(r){function b(h,N,l){function c(e){e&&N.push(e)}var a;return c(function(h){if(h)return h=h.toLowerCase(),function(N){return"*"===h||N.type===h}}((a=g.exec(h.replace(i,"")))[1])),c(function(h){if(h)return function(N){return N._name===h}}(a[2])),c(function(h){if(h)return h=h.split("."),function(N){for(var l=h.length;l--;)if(!N.classes.contains(h[l]))return!1;return!0}}(a[3])),c(function(h,N,l){if(h)return function(c){var a=c[h]?c[h]():"";return N?"="===N?a===l:"*="===N?a.indexOf(l)>=0:"~="===N?(" "+a+" ").indexOf(" "+l+" ")>=0:"!="===N?a!=l:"^="===N?0===a.indexOf(l):"$="===N&&a.substr(a.length-l.length)===l:!!l}}(a[4],a[5],a[6])),c(function(h){var N;if(h)return(h=/(?:not\((.+)\))|(.+)/i.exec(h))[1]?(N=p(h[1],[]),function(l){return!x(l,N)}):(h=h[2],function(l,c,a){return"first"===h?0===c:"last"===h?c===a-1:"even"===h?c%2==0:"odd"===h?c%2==1:!!l[h]&&l[h]()})}(a[7])),N.pseudo=!!a[7],N.direct=l,N}function p(h,N){var c,a,e,l=[];do{if(f.exec(""),(a=f.exec(h))&&(h=a[3],l.push(a[1]),a[2])){c=a[3];break}}while(a);for(c&&p(c,N),h=[],e=0;e<l.length;e++)">"!=l[e]&&h.push(b(l[e],[],">"===l[e-1]));return N.push(h),N}var x=this.match;this._selectors=p(r,[])},match:function(r,o){var v,u,d,m,b,p,x,h,N,l,c,a,e;for(v=0,u=(o=o||this._selectors).length;v<u;v++){for(e=r,a=0,d=(m=(b=o[v]).length)-1;d>=0;d--)for(h=b[d];e;){if(h.pseudo)for(N=l=(c=e.parent().items()).length;N--&&c[N]!==e;);for(p=0,x=h.length;p<x;p++)if(!h[p](e,N,l)){p=x+1;break}if(p===x){a++;break}if(d===m-1)break;e=e.parent()}if(a===m)return!0}return!1},find:function(r){function o(b,p,x){var h,N,l,c,a,e=p[x];for(h=0,N=b.length;h<N;h++){for(a=b[h],l=0,c=e.length;l<c;l++)if(!e[l](a,h,N)){l=c+1;break}if(l===c)x==p.length-1?v.push(a):a.items&&o(a.items(),p,x+1);else if(e.direct)return;a.items&&o(a.items(),p,x)}}var u,d,v=[],m=this._selectors;if(r.items){for(u=0,d=m.length;u<d;u++)o(r.items(),m[u],0);d>1&&(v=function(r){for(var u,o=[],v=r.length;v--;)(u=r[v]).__checked||(o.push(u),u.__checked=1);for(v=o.length;v--;)delete o[v].__checked;return o}(v))}return s||(s=t.Collection),new s(v)}});return t}),ge(Ut,[Me,Rt,nt],function(_,w,g){var f,i,s=Array.prototype.push,t=Array.prototype.slice;return i={length:0,init:function(r){r&&this.add(r)},add:function(r){var o=this;return _.isArray(r)?s.apply(o,r):r instanceof f?o.add(r.toArray()):s.call(o,r),o},set:function(r){var u,o=this,v=o.length;for(o.length=0,o.add(r),u=o.length;u<v;u++)delete o[u];return o},filter:function(r){var v,u,m,b,d=[];for("string"==typeof r?(r=new w(r),b=function(p){return r.match(p)}):b=r,v=0,u=this.length;v<u;v++)b(m=this[v])&&d.push(m);return new f(d)},slice:function(){return new f(t.apply(this,arguments))},eq:function(r){return-1===r?this.slice(r):this.slice(r,+r+1)},each:function(r){return _.each(this,r),this},toArray:function(){return _.toArray(this)},indexOf:function(r){for(var v=this.length;v--&&this[v]!==r;);return v},reverse:function(){return new f(_.toArray(this).reverse())},hasClass:function(r){return!!this[0]&&this[0].classes.contains(r)},prop:function(r,o){var d,v=this;return void 0!==o?(v.each(function(m){m[r]&&m[r](o)}),v):(d=v[0])&&d[r]?d[r]():void 0},exec:function(r){var o=this,v=_.toArray(arguments).slice(1);return o.each(function(u){u[r]&&u[r].apply(u,v)}),o},remove:function(){for(var r=this.length;r--;)this[r].remove();return this},addClass:function(r){return this.each(function(o){o.classes.add(r)})},removeClass:function(r){return this.each(function(o){o.classes.remove(r)})}},_.each("fire on off show hide append prepend before after reflow".split(" "),function(r){i[r]=function(){var o=_.toArray(arguments);return this.each(function(v){r in v&&v[r].apply(v,o)}),this}}),_.each("text name disabled active selected checked visible parent value data".split(" "),function(r){i[r]=function(o){return this.prop(r,o)}}),f=g.extend(i),w.Collection=f,f}),ge(Vt,[We,Me,oe],function(_,w,g){var f=0,i={id:function(){return"mceu_"+f++},create:function(s,t,r){var o=document.createElement(s);return g.DOM.setAttribs(o,t),"string"==typeof r?o.innerHTML=r:w.each(r,function(v){v.nodeType&&o.appendChild(v)}),o},createFragment:function(s){return g.DOM.createFragment(s)},getWindowSize:function(){return g.DOM.getViewPort()},getSize:function(s){var t,r;if(s.getBoundingClientRect){var o=s.getBoundingClientRect();t=Math.max(o.width||o.right-o.left,s.offsetWidth),r=Math.max(o.height||o.bottom-o.bottom,s.offsetHeight)}else t=s.offsetWidth,r=s.offsetHeight;return{width:t,height:r}},getPos:function(s,t){return g.DOM.getPos(s,t||i.getContainer())},getContainer:function(){return _.container?_.container:document.body},getViewPort:function(s){return g.DOM.getViewPort(s)},get:function(s){return document.getElementById(s)},addClass:function(s,t){return g.DOM.addClass(s,t)},removeClass:function(s,t){return g.DOM.removeClass(s,t)},hasClass:function(s,t){return g.DOM.hasClass(s,t)},toggleClass:function(s,t,r){return g.DOM.toggleClass(s,t,r)},css:function(s,t,r){return g.DOM.setStyle(s,t,r)},getRuntimeStyle:function(s,t){return g.DOM.getStyle(s,t,!0)},on:function(s,t,r,o){return g.DOM.bind(s,t,r,o)},off:function(s,t,r){return g.DOM.unbind(s,t,r)},fire:function(s,t,r){return g.DOM.fire(s,t,r)},innerHtml:function(s,t){g.DOM.setHTML(s,t)}};return i}),ge(Jt,[],function(){return{parseBox:function(_){var w;if(_)return"number"==typeof _?{top:_=_||0,left:_,bottom:_,right:_}:(1===(w=(_=_.split(" ")).length)?_[1]=_[2]=_[3]=_[0]:2===w?(_[2]=_[0],_[3]=_[1]):3===w&&(_[3]=_[1]),{top:parseInt(_[0],10)||0,right:parseInt(_[1],10)||0,bottom:parseInt(_[2],10)||0,left:parseInt(_[3],10)||0})},measureBox:function(_,w){function f(i){var s=parseFloat(function(i){var s=document.defaultView;return s?(i=i.replace(/[A-Z]/g,function(t){return"-"+t}),s.getComputedStyle(_,null).getPropertyValue(i)):_.currentStyle[i]}(i),10);return isNaN(s)?0:s}return{top:f(w+"TopWidth"),right:f(w+"RightWidth"),bottom:f(w+"BottomWidth"),left:f(w+"LeftWidth")}}}}),ge(ln,[Me],function(_){function w(){}function g(f){this.cls=[],this.cls._map={},this.onchange=f||w,this.prefix=""}return _.extend(g.prototype,{add:function(f){return f&&!this.contains(f)&&(this.cls._map[f]=!0,this.cls.push(f),this._change()),this},remove:function(f){if(this.contains(f)){for(var i=0;i<this.cls.length&&this.cls[i]!==f;i++);this.cls.splice(i,1),delete this.cls._map[f],this._change()}return this},toggle:function(f,i){var s=this.contains(f);return s!==i&&(s?this.remove(f):this.add(f),this._change()),this},contains:function(f){return!!this.cls._map[f]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),g.prototype.toString=function(){var f;if(this.clsValue)return this.clsValue;f="";for(var i=0;i<this.cls.length;i++)i>0&&(f+=" "),f+=this.prefix+this.cls[i];return f},g}),ge(En,[xe],function(_){var g,w={};return{add:function(f){var i=f.parent();if(i){if(!i._layout||i._layout.isNative())return;w[i._id]||(w[i._id]=i),g||(g=!0,_.requestAnimationFrame(function(){var s,t;for(s in g=!1,w)(t=w[s]).state.get("rendered")&&t.reflow();w={}},document.body))}},remove:function(f){w[f._id]&&delete w[f._id]}}}),ge(Sn,[nt,Me,ht,st,Ut,Vt,qe,Jt,ln,En],function(_,w,g,f,i,s,t,r,o,v){function u(l){return l._eventDispatcher||(l._eventDispatcher=new g({scope:l,toggleEvent:function(c,a){a&&g.isNative(c)&&(l._nativeEvents||(l._nativeEvents={}),l._nativeEvents[c]=!0,l.state.get("rendered")&&d(l))}})),l._eventDispatcher}function d(l){function c(D){var O=l.getParentCtrl(D.target);O&&O.fire(D.type,D)}function a(){var D=k._lastHoverCtrl;D&&(D.fire("mouseleave",{target:D.getEl()}),D.parents().each(function(O){O.fire("mouseleave",{target:O.getEl()})}),k._lastHoverCtrl=null)}function e(D){var W,E,P,O=l.getParentCtrl(D.target),L=k._lastHoverCtrl,U=0;if(O!==L){if(k._lastHoverCtrl=O,(E=O.parents().toArray().reverse()).push(O),L){for((P=L.parents().toArray().reverse()).push(L),U=0;U<P.length&&E[U]===P[U];U++);for(W=P.length-1;W>=U;W--)(L=P[W]).fire("mouseleave",{target:L.getEl()})}for(W=U;W<E.length;W++)(O=E[W]).fire("mouseenter",{target:O.getEl()})}}function n(D){D.preventDefault(),"mousewheel"==D.type?(D.deltaY=-.025*D.wheelDelta,D.wheelDeltaX&&(D.deltaX=-.025*D.wheelDeltaX)):(D.deltaX=0,D.deltaY=D.detail),D=l.fire("wheel",D)}var y,S,C,k,T,I;if(T=l._nativeEvents){for((C=l.parents().toArray()).unshift(l),y=0,S=C.length;!k&&y<S;y++)k=C[y]._eventsRoot;for(k||(k=C[C.length-1]||l),l._eventsRoot=k,S=y,y=0;y<S;y++)C[y]._eventsRoot=k;var M=k._delegates;for(I in M||(M=k._delegates={}),T){if(!T)return!1;"wheel"!==I||b?("mouseenter"===I||"mouseleave"===I?k._hasMouseEnter||(t(k.getEl()).on("mouseleave",a).on("mouseover",e),k._hasMouseEnter=1):M[I]||(t(k.getEl()).on(I,c),M[I]=!0),T[I]=!1):m?t(l.getEl()).on("mousewheel",n):t(l.getEl()).on("DOMMouseScroll",n)}}}var x,m="onmousewheel"in document,b=!1,p="mce-",h=0,N={Statics:{classPrefix:p},isRtl:function(){return x.rtl},classPrefix:p,init:function(l){function c(y){var S;for(y=y.split(" "),S=0;S<y.length;S++)a.classes.add(y[S])}var e,n,a=this;a.settings=l=w.extend({},a.Defaults,l),a._id=l.id||"mceu_"+h++,a._aria={role:l.role},a._elmCache={},a.$=t,a.state=new f({visible:!0,active:!1,disabled:!1,value:""}),a.data=new f(l.data),a.classes=new o(function(){a.state.get("rendered")&&(a.getEl().className=this.toString())}),a.classes.prefix=a.classPrefix,(e=l.classes)&&(a.Defaults&&(n=a.Defaults.classes)&&e!=n&&c(n),c(e)),w.each("title text name visible disabled active value".split(" "),function(y){y in l&&a[y](l[y])}),a.on("click",function(){if(a.disabled())return!1}),a.settings=l,a.borderBox=r.parseBox(l.border),a.paddingBox=r.parseBox(l.padding),a.marginBox=r.parseBox(l.margin),l.hidden&&a.hide()},Properties:"parent,name",getContainerElm:function(){return s.getContainer()},getParentCtrl:function(l){for(var c,a=this.getRoot().controlIdLookup;l&&a&&!(c=a[l.id]);)l=l.parentNode;return c},initLayoutRect:function(){var a,e,y,S,C,k,T,I,M,D,l=this,c=l.settings,n=l.getEl();a=l.borderBox=l.borderBox||r.measureBox(n,"border"),l.paddingBox=l.paddingBox||r.measureBox(n,"padding"),l.marginBox=l.marginBox||r.measureBox(n,"margin"),D=s.getSize(n),C=(I=c.minWidth)||D.width,k=(M=c.minHeight)||D.height,y=c.width,S=c.height,T=void 0!==(T=c.autoResize)?T:!y&&!S;var O=a.left+a.right,L=a.top+a.bottom,U=c.maxWidth||65535,W=c.maxHeight||65535;return l._layoutRect=e={x:c.x||0,y:c.y||0,w:y=y||C,h:S=S||k,deltaW:O,deltaH:L,contentW:y-O,contentH:S-L,innerW:y-O,innerH:S-L,startMinWidth:I||0,startMinHeight:M||0,minW:Math.min(C,U),minH:Math.min(k,W),maxW:U,maxH:W,autoResize:T,scrollW:0},l._lastLayoutRect={},e},layoutRect:function(l){var e,n,y,S,C,k,c=this,a=c._layoutRect;return a||(a=c.initLayoutRect()),l?(y=a.deltaW,S=a.deltaH,l.x!==C&&(a.x=l.x),l.y!==C&&(a.y=l.y),l.minW!==C&&(a.minW=l.minW),l.minH!==C&&(a.minH=l.minH),(n=l.w)!==C&&(a.w=n=(n=n<a.minW?a.minW:n)>a.maxW?a.maxW:n,a.innerW=n-y),(n=l.h)!==C&&(a.h=n=(n=n<a.minH?a.minH:n)>a.maxH?a.maxH:n,a.innerH=n-S),(n=l.innerW)!==C&&(a.innerW=n=(n=n<a.minW-y?a.minW-y:n)>a.maxW-y?a.maxW-y:n,a.w=n+y),(n=l.innerH)!==C&&(a.innerH=n=(n=n<a.minH-S?a.minH-S:n)>a.maxH-S?a.maxH-S:n,a.h=n+S),l.contentW!==C&&(a.contentW=l.contentW),l.contentH!==C&&(a.contentH=l.contentH),(e=c._lastLayoutRect).x===a.x&&e.y===a.y&&e.w===a.w&&e.h===a.h||((k=x.repaintControls)&&k.map&&!k.map[c._id]&&(k.push(c),k.map[c._id]=!0),e.x=a.x,e.y=a.y,e.w=a.w,e.h=a.h),c):a},repaint:function(){var c,a,e,n,y,S,C,k,T,I,l=this;T=document.createRange?function(M){return M}:Math.round,c=l.getEl().style,S=(y=l.borderBox).left+y.right,C=y.top+y.bottom,(n=l._layoutRect).x!==(k=l._lastRepaintRect||{}).x&&(c.left=T(n.x)+"px",k.x=n.x),n.y!==k.y&&(c.top=T(n.y)+"px",k.y=n.y),n.w!==k.w&&(I=T(n.w-S),c.width=(I>=0?I:0)+"px",k.w=n.w),n.h!==k.h&&(I=T(n.h-C),c.height=(I>=0?I:0)+"px",k.h=n.h),l._hasBody&&n.innerW!==k.innerW&&(I=T(n.innerW),(e=l.getEl("body"))&&((a=e.style).width=(I>=0?I:0)+"px"),k.innerW=n.innerW),l._hasBody&&n.innerH!==k.innerH&&(I=T(n.innerH),(e=e||l.getEl("body"))&&((a=a||e.style).height=(I>=0?I:0)+"px"),k.innerH=n.innerH),l._lastRepaintRect=k,l.fire("repaint",{},!1)},updateLayoutRect:function(){var l=this;l.parent()._lastRect=null,s.css(l.getEl(),{width:"",height:""}),l._layoutRect=l._lastRepaintRect=l._lastLayoutRect=null,l.initLayoutRect()},on:function(l,c){var n,y,S,e=this;return u(e).on(l,"string"!=typeof(n=c)?n:function(C){return y||e.parentsAndSelf().each(function(k){var T=k.settings.callbacks;if(T&&(y=T[n]))return S=k,!1}),y?y.call(S,C):(C.action=n,void this.fire("execute",C))}),e},off:function(l,c){return u(this).off(l,c),this},fire:function(l,c,a){var e=this;if((c=c||{}).control||(c.control=e),c=u(e).fire(l,c),!1!==a&&e.parent)for(var n=e.parent();n&&!c.isPropagationStopped();)n.fire(l,c,!1),n=n.parent();return c},hasEventListeners:function(l){return u(this).has(l)},parents:function(l){var a,e=new i;for(a=this.parent();a;a=a.parent())e.add(a);return l&&(e=e.filter(l)),e},parentsAndSelf:function(l){return new i(this).add(this.parents(l))},next:function(){var l=this.parent().items();return l[l.indexOf(this)+1]},prev:function(){var l=this.parent().items();return l[l.indexOf(this)-1]},innerHtml:function(l){return this.$el.html(l),this},getEl:function(l){var c=l?this._id+"-"+l:this._id;return this._elmCache[c]||(this._elmCache[c]=t("#"+c)[0]),this._elmCache[c]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(l){}return this},blur:function(){return this.getEl().blur(),this},aria:function(l,c){var a=this,e=a.getEl(a.ariaTarget);return void 0===c?a._aria[l]:(a._aria[l]=c,a.state.get("rendered")&&e.setAttribute("role"==l?l:"aria-"+l,c),a)},encode:function(l,c){return!1!==c&&(l=this.translate(l)),(l||"").replace(/[&<>"]/g,function(a){return"&#"+a.charCodeAt(0)+";"})},translate:function(l){return x.translate?x.translate(l):l},before:function(l){var c=this,a=c.parent();return a&&a.insert(l,a.items().indexOf(c),!0),c},after:function(l){var c=this,a=c.parent();return a&&a.insert(l,a.items().indexOf(c)),c},remove:function(){var e,n,l=this,c=l.getEl(),a=l.parent();if(l.items){var y=l.items().toArray();for(n=y.length;n--;)y[n].remove()}a&&a.items&&(e=[],a.items().each(function(C){C!==l&&e.push(C)}),a.items().set(e),a._lastRect=null),l._eventsRoot&&l._eventsRoot==l&&t(c).off();var S=l.getRoot().controlIdLookup;return S&&delete S[l._id],c&&c.parentNode&&c.parentNode.removeChild(c),l.state.set("rendered",!1),l.state.destroy(),l.fire("remove"),l},renderBefore:function(l){return t(l).before(this.renderHtml()),this.postRender(),this},renderTo:function(l){return t(l||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var a,e,n,y,S,l=this,c=l.settings;for(y in l.$el=t(l.getEl()),l.state.set("rendered",!0),c)0===y.indexOf("on")&&l.on(y.substr(2),c[y]);if(l._eventsRoot){for(n=l.parent();!S&&n;n=n.parent())S=n._eventsRoot;if(S)for(y in S._nativeEvents)l._nativeEvents[y]=!0}d(l),c.style&&(a=l.getEl())&&(a.setAttribute("style",c.style),a.style.cssText=c.style),l.settings.border&&l.$el.css({"border-top-width":(e=l.borderBox).top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left});var C=l.getRoot();for(var k in C.controlIdLookup||(C.controlIdLookup={}),C.controlIdLookup[l._id]=l,l._aria)l.aria(k,l._aria[k]);!1===l.state.get("visible")&&(l.getEl().style.display="none"),l.bindStates(),l.state.on("change:visible",function(T){var M,I=T.value;l.state.get("rendered")&&(l.getEl().style.display=!1===I?"none":"",l.getEl().getBoundingClientRect()),(M=l.parent())&&(M._lastRect=null),l.fire(I?"show":"hide"),v.add(l)}),l.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(l){var n,y,S,C,k,T,a=this.getEl(),e=a.parentNode,I=function(M,D){var O,L,U=M;for(O=L=0;U&&U!=D&&U.nodeType;)O+=U.offsetLeft||0,L+=U.offsetTop||0,U=U.offsetParent;return{x:O,y:L}}(a,e);return n=I.x,y=I.y,S=a.offsetWidth,C=a.offsetHeight,k=e.clientWidth,T=e.clientHeight,"end"==l?(n-=k-S,y-=T-C):"center"==l&&(n-=k/2-S/2,y-=T/2-C/2),e.scrollLeft=n,e.scrollTop=y,this},getRoot:function(){for(var c,l=this,a=[];l;){if(l.rootControl){c=l.rootControl;break}a.push(l),c=l,l=l.parent()}c||(c=this);for(var e=a.length;e--;)a[e].rootControl=c;return c},reflow:function(){v.remove(this);var l=this.parent();return l._layout&&!l._layout.isNative()&&l.reflow(),this}};return w.each("text title visible disabled active value".split(" "),function(l){N[l]=function(c){return 0===arguments.length?this.state.get(l):(void 0!==c&&this.state.set(l,c),this)}}),x=_.extend(N)}),ge(Tn,[],function(){var w,_={};return{add:function(g,f){_[g.toLowerCase()]=f},has:function(g){return!!_[g.toLowerCase()]},create:function(g,f){var i,s,t;if(!w){for(s in t=tinymce.ui)_[s.toLowerCase()]=t[s];w=!0}if("string"==typeof g?(f=f||{}).type=g:g=(f=g).type,g=g.toLowerCase(),!(i=_[g]))throw new Error("Could not find control by type: "+g);return(i=new i(f)).type=g,i}}}),ge(Xn,[],function(){return function(_){function w(n){return n&&1===n.nodeType}function g(n){return w(n=n||a)?n.getAttribute("role"):null}function f(n){for(var y,S=n||a;S=S.parentNode;)if(y=g(S))return y}function i(n){var y=a;if(w(y))return y.getAttribute("aria-"+n)}function s(n){var y=n.tagName.toUpperCase();return"INPUT"==y||"TEXTAREA"==y||"SELECT"==y}function r(n){var S=[];return function y(C){if(1==C.nodeType&&"none"!=C.style.display&&!C.disabled){(function(n){return!(!s(n)||n.hidden)||!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(g(n))})(C)&&S.push(C);for(var k=0;k<C.childNodes.length;k++)y(C.childNodes[k])}}(n||c.getEl()),S}function o(n){var y,S;(S=(n=n||e).parents().toArray()).unshift(n);for(var C=0;C<S.length&&!(y=S[C]).settings.ariaRoot;C++);return y}function u(n,y){return n<0?n=y.length-1:n>=y.length&&(n=0),y[n]&&y[n].focus(),n}function d(n,y){var S=-1,C=o();y=y||r(C.getEl());for(var k=0;k<y.length;k++)y[k]===a&&(S=k);C.lastAriaIndex=u(S+=n,y)}function m(){"tablist"==f()?d(-1,r(a.parentNode)):e.parent().submenu?N():d(-1)}function b(){var n=g(),y=f();"tablist"==y?d(1,r(a.parentNode)):"menuitem"==n&&"menu"==y&&i("haspopup")?l():d(1)}function p(){d(-1)}function x(){var n=g(),y=f();"menuitem"==n&&"menubar"==y?l():"button"==n&&i("haspopup")?l({key:"down"}):d(1)}function N(){e.fire("cancel")}function l(n){e.fire("click",{target:a,aria:n=n||{}})}var a,e,c=_.root;try{a=document.activeElement}catch(n){a=document.body}return e=c.getParentCtrl(a),c.on("keydown",function(n){function y(S,C){s(a)||"slider"!==g(a)&&!1!==C(S)&&S.preventDefault()}if(!n.isDefaultPrevented())switch(n.keyCode){case 37:y(n,m);break;case 39:y(n,b);break;case 38:y(n,p);break;case 40:y(n,x);break;case 27:N();break;case 14:case 13:case 32:y(n,l);break;case 9:!1!==function(n){if("tablist"==f()){var S=r(e.getEl("body"))[0];S&&S.focus()}else d(n.shiftKey?-1:1)}(n)&&n.preventDefault()}}),c.on("focusin",function(n){a=n.target,e=n.control}),{focusFirst:function(n){var y=o(n),S=r(y.getEl());u(y.settings.ariaRemember&&"lastAriaIndex"in y?y.lastAriaIndex:0,S)}}}}),ge(On,[Sn,Ut,Rt,Tn,Xn,Me,qe,ln,En],function(_,w,g,f,i,s,t,r,o){var v={};return _.extend({init:function(u){var d=this;d._super(u),(u=d.settings).fixed&&d.state.set("fixed",!0),d._items=new w,d.isRtl()&&d.classes.add("rtl"),d.bodyClasses=new r(function(){d.state.get("rendered")&&(d.getEl("body").className=this.toString())}),d.bodyClasses.prefix=d.classPrefix,d.classes.add("container"),d.bodyClasses.add("container-body"),u.containerCls&&d.classes.add(u.containerCls),d._layout=f.create((u.layout||"")+"layout"),d.add(d.settings.items?d.settings.items:d.render()),d._hasBody=!0},items:function(){return this._items},find:function(u){return(u=v[u]=v[u]||new g(u)).find(this)},add:function(u){var d=this;return d.items().add(d.create(u)).parent(d),d},focus:function(u){var m,b,p,d=this;return u&&(b=d.keyboardNav||d.parents().eq(-1)[0].keyboardNav)?void b.focusFirst(d):(p=d.find("*"),d.statusbar&&p.add(d.statusbar.items()),p.each(function(x){return x.settings.autofocus?(m=null,!1):void(x.canFocus&&(m=m||x))}),m&&m.focus(),d)},replace:function(u,d){for(var m,b=this.items(),p=b.length;p--;)if(b[p]===u){b[p]=d;break}p>=0&&((m=d.getEl())&&m.parentNode.removeChild(m),(m=u.getEl())&&m.parentNode.removeChild(m)),d.parent(this)},create:function(u){var m,d=this,b=[];return s.isArray(u)||(u=[u]),s.each(u,function(p){p&&(p instanceof _||("string"==typeof p&&(p={type:p}),m=s.extend({},d.settings.defaults,p),p.type=m.type=m.type||p.type||d.settings.defaultType||(m.defaults?m.defaults.type:null),p=f.create(m)),b.push(p))}),b},renderNew:function(){var u=this;return u.items().each(function(d,m){var b;d.parent(u),d.state.get("rendered")||((b=u.getEl("body")).hasChildNodes()&&m<=b.childNodes.length-1?t(b.childNodes[m]).before(d.renderHtml()):t(b).append(d.renderHtml()),d.postRender(),o.add(d))}),u._layout.applyClasses(u.items().filter(":visible")),u._lastRect=null,u},append:function(u){return this.add(u).renderNew()},prepend:function(u){var d=this;return d.items().set(d.create(u).concat(d.items().toArray())),d.renderNew()},insert:function(u,d,m){var p,x,h,b=this;return u=b.create(u),p=b.items(),!m&&d<p.length-1&&(d+=1),d>=0&&d<p.length&&(x=p.slice(0,d).toArray(),h=p.slice(d).toArray(),p.set(x.concat(u,h))),b.renderNew()},fromJSON:function(u){for(var m in u)this.find("#"+m).value(u[m]);return this},toJSON:function(){var d={};return this.find("*").each(function(m){var b=m.name(),p=m.value();b&&void 0!==p&&(d[b]=p)}),d},renderHtml:function(){var u=this,d=u._layout,m=this.settings.role;return u.preRender(),d.preRender(u),'<div id="'+u._id+'" class="'+u.classes+'"'+(m?' role="'+this.settings.role+'"':"")+'><div id="'+u._id+'-body" class="'+u.bodyClasses+'">'+(u.settings.html||"")+d.renderHtml(u)+"</div></div>"},postRender:function(){var d,u=this;return u.items().exec("postRender"),u._super(),u._layout.postRender(u),u.state.set("rendered",!0),u.settings.style&&u.$el.css(u.settings.style),u.settings.border&&u.$el.css({"border-top-width":(d=u.borderBox).top,"border-right-width":d.right,"border-bottom-width":d.bottom,"border-left-width":d.left}),u.parent()||(u.keyboardNav=new i({root:u})),u},initLayoutRect:function(){var u=this,d=u._super();return u._layout.recalc(u),d},recalc:function(){var u=this,d=u._layoutRect,m=u._lastRect;if(!m||m.w!=d.w||m.h!=d.h)return u._layout.recalc(u),d=u.layoutRect(),u._lastRect={x:d.x,y:d.y,w:d.w,h:d.h},!0},reflow:function(){var u;if(o.remove(this),this.visible()){for(_.repaintControls=[],_.repaintControls.map={},this.recalc(),u=_.repaintControls.length;u--;)_.repaintControls[u].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),_.repaintControls=[]}return this}})}),ge(An,[qe],function(_){function g(f){var i,s;if(f.changedTouches)for(i="screenX screenY pageX pageY clientX clientY".split(" "),s=0;s<i.length;s++)f[i[s]]=f.changedTouches[0][i[s]]}return function(f,i){function s(){return r.getElementById(i.handle||f)}var t,o,v,u,d,m,b,r=i.document||document;i=i||{},v=function(p){var h,N,x=function(f){var i,s,t,r,o,v,u,m=Math.max;return t=m((i=f.documentElement).scrollWidth,(s=f.body).scrollWidth),r=m(i.clientWidth,s.clientWidth),o=m(i.offsetWidth,s.offsetWidth),v=m(i.scrollHeight,s.scrollHeight),u=m(i.clientHeight,s.clientHeight),{width:t<o?r:t,height:v<m(i.offsetHeight,s.offsetHeight)?u:v}}(r);g(p),p.preventDefault(),o=p.button,h=s(),m=p.screenX,b=p.screenY,N=window.getComputedStyle?window.getComputedStyle(h,null).getPropertyValue("cursor"):h.runtimeStyle.cursor,t=_("<div></div>").css({position:"absolute",top:0,left:0,width:x.width,height:x.height,zIndex:2147483647,opacity:1e-4,cursor:N}).appendTo(r.body),_(r).on("mousemove touchmove",d).on("mouseup touchend",u),i.start(p)},d=function(p){return g(p),p.button!==o?u(p):(p.deltaX=p.screenX-m,p.deltaY=p.screenY-b,p.preventDefault(),void i.drag(p))},u=function(p){g(p),_(r).off("mousemove touchmove",d).off("mouseup touchend",u),t.remove(),i.stop&&i.stop(p)},this.destroy=function(){_(s()).off()},_(s()).on("mousedown touchstart",v)}}),ge(Mn,[qe,An],function(_,w){return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){function g(){function t(u,d,m,b,p,x){var h,N,l,c,e,n,y,S;if(N=i.getEl("scroll"+u)){if(y=d.toLowerCase(),S=m.toLowerCase(),_(i.getEl("absend")).css(y,i.layoutRect()[b]-1),!p)return void _(N).css("display","none");_(N).css("display","block"),h=i.getEl("body"),l=i.getEl("scroll"+u+"t"),c=h["client"+m]-2*s,e=(c-=r&&o?N["client"+x]:0)/h["scroll"+m],(n={})[y]=h["offset"+d]+s,n[S]=c,_(N).css(n),(n={})[y]=h["scroll"+d]*e,n[S]=c*e,_(l).css(n)}}var r,o,v;v=i.getEl("body"),o=v.scrollHeight>v.clientHeight,t("h","Left","Width","contentW",r=v.scrollWidth>v.clientWidth,"Height"),t("v","Top","Height","contentH",o,"Width")}var i=this,s=2;i.settings.autoScroll&&(i._hasScroll||(i._hasScroll=!0,function(){function t(r,o,v,u,d){var m,b=i._id+"-scroll"+r,p=i.classPrefix;_(i.getEl()).append('<div id="'+b+'" class="'+p+"scrollbar "+p+"scrollbar-"+r+'"><div id="'+b+'t" class="'+p+'scrollbar-thumb"></div></div>'),i.draghelper=new w(b+"t",{start:function(){m=i.getEl("body")["scroll"+o],_("#"+b).addClass(p+"active")},drag:function(x){var h,N,l,c,a=i.layoutRect();N=a.contentW>a.innerW,l=a.contentH>a.innerH,c=i.getEl("body")["client"+v]-2*s,h=(c-=N&&l?i.getEl("scroll"+r)["client"+d]:0)/i.getEl("body")["scroll"+v],i.getEl("body")["scroll"+o]=m+x["delta"+u]/h},stop:function(){_("#"+b).removeClass(p+"active")}})}i.classes.add("scroll"),t("v","Top","Height","Y","Width"),t("h","Left","Width","X","Height")}(),i.on("wheel",function(t){var r=i.getEl("body");r.scrollLeft+=10*(t.deltaX||0),r.scrollTop+=10*t.deltaY,g()}),_(i.getEl("body")).on("scroll",g)),g())}}}),ge(Bn,[On,Mn],function(_,w){return _.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[w],renderHtml:function(){var g=this,f=g._layout,i=g.settings.html;return g.preRender(),f.preRender(g),void 0===i?i='<div id="'+g._id+'-body" class="'+g.bodyClasses+'">'+f.renderHtml(g)+"</div>":("function"==typeof i&&(i=i.call(g)),g._hasBody=!1),'<div id="'+g._id+'" class="'+g.classes+'" hidefocus="1" tabindex="-1" role="group">'+(g._preBodyHtml||"")+i+"</div>"}})}),ge($n,[Vt],function(_){function w(g,f,i){var s,t,r,o,v,u,d,m,b,p;return b=_.getViewPort(),r=(t=_.getPos(f)).x,o=t.y,g.state.get("fixed")&&"static"==_.getRuntimeStyle(document.body,"position")&&(r-=b.x,o-=b.y),s=g.getEl(),v=(p=_.getSize(s)).width,u=p.height,d=(p=_.getSize(f)).width,m=p.height,"b"===(i=(i||"").split(""))[0]&&(o+=m),"r"===i[1]&&(r+=d),"c"===i[0]&&(o+=Math.round(m/2)),"c"===i[1]&&(r+=Math.round(d/2)),"b"===i[3]&&(o-=u),"r"===i[4]&&(r-=v),"c"===i[3]&&(o-=Math.round(u/2)),"c"===i[4]&&(r-=Math.round(v/2)),{x:r,y:o,w:v,h:u}}return{testMoveRel:function(g,f){for(var i=_.getViewPort(),s=0;s<f.length;s++){var t=w(this,g,f[s]);if(this.state.get("fixed")){if(t.x>0&&t.x+t.w<i.w&&t.y>0&&t.y+t.h<i.h)return f[s]}else if(t.x>i.x&&t.x+t.w<i.w+i.x&&t.y>i.y&&t.y+t.h<i.h+i.y)return f[s]}return f[0]},moveRel:function(g,f){"string"!=typeof f&&(f=this.testMoveRel(g,f));var i=w(this,g,f);return this.moveTo(i.x,i.y)},moveBy:function(g,f){var i=this,s=i.layoutRect();return i.moveTo(s.x+g,s.y+f),i},moveTo:function(g,f){function i(o,v,u){return o<0||o+u>v&&(o=v-u)<0?0:o}var s=this;if(s.settings.constrainToViewport){var t=_.getViewPort(window),r=s.layoutRect();g=i(g,t.w+t.x,r.w),f=i(f,t.h+t.y,r.h)}return s.state.get("rendered")?s.layoutRect({x:g,y:f}).repaint():(s.settings.x=g,s.settings.y=f),s.fire("move",{x:g,y:f}),s}}}),ge(Yn,[Vt],function(_){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(w,g){if(w<=1||g<=1){var f=_.getWindowSize();w=w<=1?w*f.w:w,g=g<=1?g*f.h:g}return this._layoutRect.autoResize=!1,this.layoutRect({minW:w,minH:g,w,h:g}).reflow()},resizeBy:function(w,g){var i=this.layoutRect();return this.resizeTo(i.w+w,i.h+g)}}}),ge(zn,[Bn,$n,Yn,Vt,qe,xe],function(_,w,g,f,i,s){function t(e,n){for(;e;){if(e==n)return!0;e=e.parent()}}function d(e){function n(S,C){for(var k,T=0;T<N.length;T++)if(N[T]!=e)for(k=N[T].parent();k&&(k=k.parent());)k==e&&N[T].fixed(S).moveBy(0,C).repaint()}var y=f.getViewPort().y;e.settings.autofix&&(e.state.get("fixed")?e._autoFixY>y&&(e.fixed(!1).layoutRect({y:e._autoFixY}).repaint(),n(!1,e._autoFixY-y)):(e._autoFixY=e.layoutRect().y,e._autoFixY<y&&(e.fixed(!0).layoutRect({y:0}).repaint(),n(!0,y-e._autoFixY))))}function m(e,n){var y,C,S=a.zIndex||65535;if(e)l.push(n);else for(y=l.length;y--;)l[y]===n&&l.splice(y,1);if(l.length)for(y=0;y<l.length;y++)l[y].modal&&(S++,C=l[y]),l[y].getEl().style.zIndex=S,l[y].zIndex=S,S++;var k=i("#"+n.classPrefix+"modal-block",n.getContainerElm())[0];C?i(k).css("z-index",C.zIndex-1):k&&(k.parentNode.removeChild(k),c=!1),a.currentZIndex=S}function b(e){var n;for(n=N.length;n--;)N[n]===e&&N.splice(n,1);for(n=l.length;n--;)l[n]===e&&l.splice(n,1)}var p,x,h,c,N=[],l=[],a=_.extend({Mixins:[w,g],init:function(e){var n=this;n._super(e),n._eventsRoot=n,n.classes.add("floatpanel"),e.autohide&&(p||(p=function(e){2!=e.button&&function(e){for(var n=N.length;n--;){var y=N[n],S=y.getParentCtrl(e.target);if(y.settings.autohide){if(S&&(t(S,y)||y.parent()===S))continue;(e=y.fire("autohide",{target:e.target})).isDefaultPrevented()||y.hide()}}}(e)},i(document).on("click touchstart",p)),function(){if(!h){var e=document.documentElement,n=e.clientWidth,y=e.clientHeight;h=function(){document.all&&n==e.clientWidth&&y==e.clientHeight||(n=e.clientWidth,y=e.clientHeight,a.hideAll())},i(window).on("resize",h)}}(),N.push(n)),e.autofix&&(x||(x=function(){var e;for(e=N.length;e--;)d(N[e])},i(window).on("scroll",x)),n.on("move",function(){d(this)})),n.on("postrender show",function(y){if(y.control==n){var S,C=n.classPrefix;n.modal&&!c&&((S=i("#"+C+"modal-block",n.getContainerElm()))[0]||(S=i('<div id="'+C+'modal-block" class="'+C+"reset "+C+'fade"></div>').appendTo(n.getContainerElm())),s.setTimeout(function(){S.addClass(C+"in"),i(n.getEl()).addClass(C+"in")}),c=!0),m(!0,n)}}),n.on("show",function(){n.parents().each(function(y){if(y.state.get("fixed"))return n.fixed(!0),!1})}),e.popover&&(n._preBodyHtml='<div class="'+n.classPrefix+'arrow"></div>',n.classes.add("popover").add("bottom").add(n.isRtl()?"end":"start")),n.aria("label",e.ariaLabel),n.aria("labelledby",n._id),n.aria("describedby",n.describedBy||n._id+"-none")},fixed:function(e){var n=this;if(n.state.get("fixed")!=e){if(n.state.get("rendered")){var y=f.getViewPort();e?n.layoutRect().y-=y.y:n.layoutRect().y+=y.y}n.classes.toggle("fixed",e),n.state.set("fixed",e)}return n},show:function(){var n,e=this,y=e._super();for(n=N.length;n--&&N[n]!==e;);return-1===n&&N.push(e),y},hide:function(){return b(this),m(!1,this),this._super()},hideAll:function(){a.hideAll()},close:function(){var e=this;return e.fire("close").isDefaultPrevented()||(e.remove(),m(!1,e)),e},remove:function(){b(this),this._super()},postRender:function(){var e=this;return e.settings.bodyRole&&this.getEl("body").setAttribute("role",e.settings.bodyRole),e._super()}});return a.hideAll=function(){for(var e=N.length;e--;){var n=N[e];n&&n.settings.autohide&&(n.hide(),N.splice(e,1))}},a}),ge(Kn,[zn,Bn,Vt,qe,An,Jt,We,xe],function(_,w,g,f,i,s,t,r){function o(x){var l,N=f("meta[name=viewport]")[0];!1!==t.overrideViewPort&&(N||((N=document.createElement("meta")).setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(N)),(l=N.getAttribute("content"))&&void 0!==b&&(b=l),N.setAttribute("content",x?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":b))}var m=[],b="",p=_.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(x){var h=this;h._super(x),h.isRtl()&&h.classes.add("rtl"),h.classes.add("window"),h.bodyClasses.add("window-body"),h.state.set("fixed",!0),x.buttons&&(h.statusbar=new w({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:h.isRtl()?"start":"end",defaults:{type:"button"},items:x.buttons}),h.statusbar.classes.add("foot"),h.statusbar.parent(h)),h.on("click",function(N){var l=h.classPrefix+"close";(g.hasClass(N.target,l)||g.hasClass(N.target.parentNode,l))&&h.close()}),h.on("cancel",function(){h.close()}),h.aria("describedby",h.describedBy||h._id+"-none"),h.aria("label",x.title),h._fullscreen=!1},recalc:function(){var N,l,c,a,x=this,h=x.statusbar;x._fullscreen&&(x.layoutRect(g.getWindowSize()),x.layoutRect().contentH=x.layoutRect().innerH),x._super(),N=x.layoutRect(),x.settings.title&&!x._fullscreen&&(l=N.headerW)>N.w&&(c=N.x-Math.max(0,l/2),x.layoutRect({w:l,x:c}),a=!0),h&&(h.layoutRect({w:x.layoutRect().innerW}).recalc(),(l=h.layoutRect().minW+N.deltaW)>N.w&&(c=N.x-Math.max(0,l-N.w),x.layoutRect({w:l,x:c}),a=!0)),a&&x.recalc()},initLayoutRect:function(){var l,x=this,h=x._super(),N=0;if(x.settings.title&&!x._fullscreen){l=x.getEl("head");var c=g.getSize(l);h.headerW=c.width,h.headerH=c.height,N+=h.headerH}x.statusbar&&(N+=x.statusbar.layoutRect().h),h.deltaH+=N,h.minH+=N,h.h+=N;var a=g.getWindowSize();return h.x=x.settings.x||Math.max(0,a.w/2-h.w/2),h.y=x.settings.y||Math.max(0,a.h/2-h.h/2),h},renderHtml:function(){var x=this,h=x._layout,N=x._id,l=x.classPrefix,c=x.settings,a="",e="",n=c.html;return x.preRender(),h.preRender(x),c.title&&(a='<div id="'+N+'-head" class="'+l+'window-head"><div id="'+N+'-title" class="'+l+'title">'+x.encode(c.title)+'</div><div id="'+N+'-dragh" class="'+l+'dragh"></div><button type="button" class="'+l+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),c.url&&(n='<iframe src="'+c.url+'" tabindex="-1"></iframe>'),void 0===n&&(n=h.renderHtml(x)),x.statusbar&&(e=x.statusbar.renderHtml()),'<div id="'+N+'" class="'+x.classes+'" hidefocus="1"><div class="'+x.classPrefix+'reset" role="application">'+a+'<div id="'+N+'-body" class="'+x.bodyClasses+'">'+n+"</div>"+e+"</div></div>"},fullscreen:function(x){var l,a,h=this,N=document.documentElement,c=h.classPrefix;if(x!=h._fullscreen)if(f(window).on("resize",function(){var n;if(h._fullscreen)if(l)h._timer||(h._timer=r.setTimeout(function(){var S=g.getWindowSize();h.moveTo(0,0).resizeTo(S.w,S.h),h._timer=0},50));else{n=(new Date).getTime();var y=g.getWindowSize();h.moveTo(0,0).resizeTo(y.w,y.h),(new Date).getTime()-n>50&&(l=!0)}}),a=h.layoutRect(),h._fullscreen=x,x){h._initial={x:a.x,y:a.y,w:a.w,h:a.h},h.borderBox=s.parseBox("0"),h.getEl("head").style.display="none",a.deltaH-=a.headerH+2,f([N,document.body]).addClass(c+"fullscreen"),h.classes.add("fullscreen");var e=g.getWindowSize();h.moveTo(0,0).resizeTo(e.w,e.h)}else h.borderBox=s.parseBox(h.settings.border),h.getEl("head").style.display="",a.deltaH+=a.headerH,f([N,document.body]).removeClass(c+"fullscreen"),h.classes.remove("fullscreen"),h.moveTo(h._initial.x,h._initial.y).resizeTo(h._initial.w,h._initial.h);return h.reflow()},postRender:function(){var h,x=this;setTimeout(function(){x.classes.add("in"),x.fire("open")},0),x._super(),x.statusbar&&x.statusbar.postRender(),x.focus(),this.dragHelper=new i(x._id+"-dragh",{start:function(){h={x:x.layoutRect().x,y:x.layoutRect().y}},drag:function(N){x.moveTo(h.x+N.deltaX,h.y+N.deltaY)}}),x.on("submit",function(N){N.isDefaultPrevented()||x.close()}),m.push(x),o(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var h,x=this;for(x.dragHelper.destroy(),x._super(),x.statusbar&&this.statusbar.remove(),function(x,h){(function(){for(var x=0;x<m.length;x++)if(m[x]._fullscreen)return!0;return!1})()&&!1===h&&f([document.documentElement,document.body]).removeClass(x+"fullscreen")}(x.classPrefix,!1),h=m.length;h--;)m[h]===x&&m.splice(h,1);o(m.length>0)},getContentWindow:function(){var x=this.getEl().getElementsByTagName("iframe")[0];return x?x.contentWindow:null}});return function(){if(!t.desktop){var h={w:window.innerWidth,h:window.innerHeight};r.setInterval(function(){var N=window.innerWidth,l=window.innerHeight;h.w==N&&h.h==l||(h={w:N,h:l},f(window).trigger("resize"))},100)}f(window).on("resize",function(){var N,c,l=g.getWindowSize();for(N=0;N<m.length;N++)c=m[N].layoutRect(),m[N].moveTo(m[N].settings.x||Math.max(0,l.w/2-c.w/2),m[N].settings.y||Math.max(0,l.h/2-c.h/2))})}(),p}),ge(De,[Kn],function(_){var w=_.extend({init:function(g){this._super({border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}})},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(g){function f(t,r,o){return{type:"button",text:t,subtype:o?"primary":"",onClick:function(v){v.control.parents()[1].close(),s(r)}}}var i,s=g.callback||function(){};switch(g.buttons){case w.OK_CANCEL:i=[f("Ok",!0,!0),f("Cancel",!1)];break;case w.YES_NO:case w.YES_NO_CANCEL:i=[f("Yes",1,!0),f("No",0)],g.buttons==w.YES_NO_CANCEL&&i.push(f("Cancel",-1));break;default:i=[f("Ok",!0,!0)]}return new _({padding:20,x:g.x,y:g.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:i,title:g.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:g.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:g.onClose,onCancel:function(){s(!1)}}).renderTo(document.body).reflow()},alert:function(g,f){return"string"==typeof g&&(g={text:g}),g.callback=f,w.msgBox(g)},confirm:function(g,f){return"string"==typeof g&&(g={text:g}),g.callback=f,g.buttons=w.OK_CANCEL,w.msgBox(g)}}});return w}),ge(Xe,[Kn,De],function(_,w){return function(g){function f(){if(r.length)return r[r.length-1]}function i(o){g.fire("OpenWindow",{win:o})}function s(o){g.fire("CloseWindow",{win:o})}var t=this,r=[];t.windows=r,g.on("remove",function(){for(var o=r.length;o--;)r[o].close()}),t.open=function(o,v){var u;return g.editorManager.setActive(g),o.title=o.title||" ",o.url=o.url||o.file,o.url&&(o.width=parseInt(o.width||320,10),o.height=parseInt(o.height||240,10)),o.body&&(o.items={defaults:o.defaults,type:o.bodyType||"form",items:o.body,data:o.data,callbacks:o.commands}),o.url||o.buttons||(o.buttons=[{text:"Ok",subtype:"primary",onclick:function(){u.find("form")[0].submit()}},{text:"Cancel",onclick:function(){u.close()}}]),u=new _(o),r.push(u),u.on("close",function(){for(var d=r.length;d--;)r[d]===u&&r.splice(d,1);r.length||g.focus(),s(u)}),o.data&&u.on("postRender",function(){this.find("*").each(function(d){var m=d.name();m in o.data&&d.value(o.data[m])})}),u.features=o||{},u.params=v||{},1===r.length&&g.nodeChanged(),i(u=u.renderTo().reflow()),u},t.alert=function(o,v,u){var d;(d=w.alert(o,function(){v?v.call(u||this):g.focus()})).on("close",function(){s(d)}),i(d)},t.confirm=function(o,v,u){var d;(d=w.confirm(o,function(m){v.call(u||this,m)})).on("close",function(){s(d)}),i(d)},t.close=function(){f()&&f().close()},t.getParams=function(){return f()?f().params:null},t.setParams=function(o){f()&&(f().params=o)},t.getWindows=function(){return r}}}),ge(wt,[Sn,$n],function(_,w){return _.extend({Mixins:[w],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var g=this,f=g.classPrefix;return'<div id="'+g._id+'" class="'+g.classes+'" role="presentation"><div class="'+f+'tooltip-arrow"></div><div class="'+f+'tooltip-inner">'+g.encode(g.state.get("text"))+"</div></div>"},bindStates:function(){var g=this;return g.state.on("change:text",function(f){g.getEl().lastChild.innerHTML=g.encode(f.value)}),g._super()},repaint:function(){var f,i;(f=this.getEl().style).left=(i=this._layoutRect).x+"px",f.top=i.y+"px",f.zIndex=131070}})}),ge(ft,[Sn,wt],function(_,w){var g,f=_.extend({init:function(i){var s=this;s._super(i),i=s.settings,s.canFocus=!0,i.tooltip&&!1!==f.tooltips&&(s.on("mouseenter",function(t){var r=s.tooltip().moveTo(-65535);if(t.control==s){var o=r.text(i.tooltip).show().testMoveRel(s.getEl(),["bc-tc","bc-tl","bc-tr"]);r.classes.toggle("tooltip-n","bc-tc"==o),r.classes.toggle("tooltip-nw","bc-tl"==o),r.classes.toggle("tooltip-ne","bc-tr"==o),r.moveRel(s.getEl(),o)}else r.hide()}),s.on("mouseleave mousedown click",function(){s.tooltip().hide()})),s.aria("label",i.ariaLabel||i.tooltip)},tooltip:function(){return g||(g=new w({type:"tooltip"})).renderTo(),g},postRender:function(){var i=this,s=i.settings;i._super(),i.parent()||!s.width&&!s.height||(i.initLayoutRect(),i.repaint()),s.autofocus&&i.focus()},bindStates:function(){function i(r){t.aria("disabled",r),t.classes.toggle("disabled",r)}function s(r){t.aria("pressed",r),t.classes.toggle("active",r)}var t=this;return t.state.on("change:disabled",function(r){i(r.value)}),t.state.on("change:active",function(r){s(r.value)}),t.state.get("disabled")&&i(!0),t.state.get("active")&&s(!0),t._super()},remove:function(){this._super(),g&&(g.remove(),g=null)}});return f}),ge(It,[ft],function(_){return _.extend({Defaults:{value:0},init:function(w){var g=this;g._super(w),g.classes.add("progress"),g.settings.filter||(g.settings.filter=function(f){return Math.round(f)})},renderHtml:function(){var f=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div class="'+f+'bar-container"><div class="'+f+'bar"></div></div><div class="'+f+'text">0%</div></div>'},postRender:function(){var w=this;return w._super(),w.value(w.settings.value),w},bindStates:function(){function w(f){f=g.settings.filter(f),g.getEl().lastChild.innerHTML=f+"%",g.getEl().firstChild.firstChild.style.width=f+"%"}var g=this;return g.state.on("change:value",function(f){w(f.value)}),w(g.state.get("value")),g._super()}})}),ge(jt,[Sn,$n,It,xe],function(_,w,g,f){return _.extend({Mixins:[w],Defaults:{classes:"widget notification"},init:function(i){var s=this;s._super(i),i.text&&s.text(i.text),i.icon&&(s.icon=i.icon),i.color&&(s.color=i.color),i.type&&s.classes.add("notification-"+i.type),i.timeout&&(i.timeout<0||i.timeout>0)&&!i.closeButton?s.closeButton=!1:(s.classes.add("has-close"),s.closeButton=!0),i.progressBar&&(s.progressBar=new g),s.on("click",function(t){-1!=t.target.className.indexOf(s.classPrefix+"close")&&s.close()})},renderHtml:function(){var i=this,s=i.classPrefix,t="",r="",o="",v="";return i.icon&&(t='<i class="'+s+"ico "+s+"i-"+i.icon+'"></i>'),i.color&&(v=' style="background-color: '+i.color+'"'),i.closeButton&&(r='<button type="button" class="'+s+'close" aria-hidden="true">\xd7</button>'),i.progressBar&&(o=i.progressBar.renderHtml()),'<div id="'+i._id+'" class="'+i.classes+'"'+v+' role="presentation">'+t+'<div class="'+s+'notification-inner">'+i.state.get("text")+"</div>"+o+r+"</div>"},postRender:function(){var i=this;return f.setTimeout(function(){i.$el.addClass(i.classPrefix+"in")}),i._super()},bindStates:function(){var i=this;return i.state.on("change:text",function(s){i.getEl().childNodes[1].innerHTML=s.value}),i.progressBar&&i.progressBar.bindStates(),i._super()},close:function(){var i=this;return i.fire("close").isDefaultPrevented()||i.remove(),i},repaint:function(){var s,t;(s=this.getEl().style).left=(t=this._layoutRect).x+"px",s.top=t.y+"px",s.zIndex=65534}})}),ge(Gt,[jt,xe,Me],function(_,w,g){return function(f){function i(){if(m.length)return m[m.length-1]}function r(){if(m.length>0){var b=m.slice(0,1)[0],p=f.inline?f.getElement():f.getContentAreaContainer();if(b.moveRel(p,"tc-tc"),m.length>1)for(var x=1;x<m.length;x++)m[x].moveRel(m[x-1].getEl(),"bc-tc")}}var d=this,m=[];d.notifications=m,f.on("remove",function(){for(var b=m.length;b--;)m[b].close()}),f.on("ResizeEditor",r),f.on("ResizeWindow",function(){w.requestAnimationFrame(function(){(function(){for(var b=0;b<m.length;b++)m[b].moveTo(0,0)})(),r()})}),d.open=function(b){if(!f.removed){var p;f.editorManager.setActive(f);var x=function(b,p){if(!function(b){return!b.progressBar&&!b.timeout}(p))return null;var x=g.grep(b,function(h){return function(b,p){return b.type===p.settings.type&&b.text===p.settings.text}(p,h)});return 0===x.length?null:x[0]}(m,b);return null===x?(p=new _(b),m.push(p),b.timeout>0&&(p.timer=setTimeout(function(){p.close()},b.timeout)),p.on("close",function(){var h=m.length;for(p.timer&&f.getWin().clearTimeout(p.timer);h--;)m[h]===p&&m.splice(h,1);r()}),p.renderTo(),r()):p=x,p}},d.close=function(){i()&&i().close()},d.getNotifications=function(){return m},f.on("SkinLoaded",function(){var b=f.settings.service_message;b&&f.notificationManager.open({text:b,type:"warning",timeout:0,icon:""})})}}),ge(Kt,[oe],function(_){return{create:function(f,i,s){for(var t=[];i&&i!=f;i=i.parentNode)t.push(_.nodeIndex(i,s));return t},resolve:function(f,i){var s,t,r;for(t=f,s=i.length-1;s>=0;s--){if(i[s]>(r=t.childNodes).length-1)return null;t=r[i[s]]}return t}}}),ge(Zt,[ut,dt,q,Kt,Ce,te,We,Me,xe,pt,_t,Ft],function(_,w,g,f,i,s,t,r,o,v,u,d){return function(m){function b(ze,tt){try{m.getDoc().execCommand(ze,!1,tt)}catch(ae){}}function p(){return m.getDoc().documentMode||6}function x(ze){return ze.isDefaultPrevented()}function h(ze){var tt,ae;ze.dataTransfer&&(m.selection.isCollapsed()&&"IMG"==ze.target.tagName&&St.select(ze.target),(tt=m.selection.getContent()).length>0&&(ae=pn+escape(m.id)+","+escape(tt),ze.dataTransfer.setData(mn,ae)))}function N(ze){var tt;return ze.dataTransfer&&(tt=ze.dataTransfer.getData(mn))&&tt.indexOf(pn)>=0?(tt=tt.substr(pn.length).split(","),{id:unescape(tt[0]),html:unescape(tt[1])}):null}function l(ze){m.queryCommandSupported("mceInsertClipboardContent")?m.execCommand("mceInsertClipboardContent",!1,{content:ze}):m.execCommand("mceInsertContent",!1,ze)}function e(){m.shortcuts.add("meta+a",null,"SelectAll")}function y(){m.on("keydown",function(ze){if(!x(ze)&&ze.keyCode===be){if(!m.getBody().getElementsByTagName("hr").length)return;if(St.isCollapsed()&&0===St.getRng(!0).startOffset){var tt=St.getNode(),ae=tt.previousSibling;if("HR"==tt.nodeName)return ke.remove(tt),void ze.preventDefault();ae&&ae.nodeName&&"hr"===ae.nodeName.toLowerCase()&&(ke.remove(ae),ze.preventDefault())}}})}function I(){m.on("keydown",function(ze){if(!x(ze)&&ze.keyCode===be&&St.isCollapsed()&&0===St.getRng(!0).startOffset){var tt=St.getNode().previousSibling;if(tt&&tt.nodeName&&"table"===tt.nodeName.toLowerCase())return ze.preventDefault(),!1}})}function Ve(){m.inline||(m.contentStyles.push("body {min-height: 150px}"),m.on("click",function(ze){var tt;if("HTML"==ze.target.nodeName){if(t.ie>11)return void m.getBody().focus();tt=m.selection.getRng(),m.getBody().focus(),m.selection.setRng(tt),m.selection.normalize(),m.nodeChanged()}}))}function ce(){function ze(tt){var ae=new d(tt.getBody()),we=tt.selection.getRng(),Pt=u.fromRangeStart(we),yt=u.fromRangeEnd(we),zt=ae.prev(Pt),K=ae.next(yt);return!tt.selection.isCollapsed()&&(!zt||zt.isAtStart()&&Pt.isEqual(zt))&&(!K||K.isAtEnd()&&Pt.isEqual(K))}m.on("keypress",function(tt){!x(tt)&&!St.isCollapsed()&&tt.charCode>31&&!_.metaKeyPressed(tt)&&ze(m)&&(tt.preventDefault(),m.setContent(String.fromCharCode(tt.charCode)),m.selection.select(m.getBody(),!0),m.selection.collapse(!1),m.nodeChanged())}),m.on("keydown",function(tt){var ae=tt.keyCode;x(tt)||ae!=Ne&&ae!=be||ze(m)&&(tt.preventDefault(),m.setContent(""),m.nodeChanged())})}var ze,ee=r.each,_e=m.$,be=_.BACKSPACE,Ne=_.DELETE,ke=m.dom,St=m.selection,Wt=m.settings,en=m.parser,vn=m.serializer,un=t.gecko,nn=t.ie,bn=t.webkit,pn="data:text/mce-internal,",mn=nn?"Text":"URL";return m.on("keydown",function(ze){var tt,ae,we,Pt,yt;if(!x(ze)&&ze.keyCode==_.BACKSPACE&&(ae=(tt=St.getRng()).startContainer,we=tt.startOffset,Pt=ke.getRoot(),yt=ae,tt.collapsed&&0===we)){for(;yt&&yt.parentNode&&yt.parentNode.firstChild==yt&&yt.parentNode!=Pt;)yt=yt.parentNode;"BLOCKQUOTE"===yt.tagName&&(m.formatter.toggle("blockquote",null,yt),(tt=ke.createRng()).setStart(ae,0),tt.setEnd(ae,0),St.setRng(tt))}}),function(){function ze(ae){var we=ke.create("body"),Pt=ae.cloneContents();return we.appendChild(Pt),St.serializer.serialize(we,{format:"html"})}m.on("keydown",function(ae){var Pt,yt,we=ae.keyCode;if(!x(ae)&&(we==Ne||we==be)){if(Pt=m.selection.isCollapsed(),yt=m.getBody(),Pt&&!ke.isEmpty(yt)||!Pt&&!function(ae){if(!ae.setStart){if(ae.item)return!1;var we=ae.duplicate();return we.moveToElementText(m.getBody()),w.compareRanges(ae,we)}var Pt=ze(ae),yt=ke.createRng();return yt.selectNode(m.getBody()),Pt===ze(yt)}(m.selection.getRng()))return;ae.preventDefault(),m.setContent(""),yt.firstChild&&ke.isBlock(yt.firstChild)?m.selection.setCursorLocation(yt.firstChild,0):m.selection.setCursorLocation(yt,0),m.nodeChanged()}})}(),t.windowsPhone||m.on("keyup focusin mouseup",function(ze){65==ze.keyCode&&_.metaKeyPressed(ze)||St.normalize()},!0),bn&&(ce(),function(){function ze($){var he=F.schema.getBlockElements(),ye=m.getBody();if("BR"!=$.nodeName)return!1;for(;$!=ye&&!he[$.nodeName];$=$.parentNode)if($.nextSibling)return!1;return!0}function tt($,he){var ye;for(ye=$.nextSibling;ye&&ye!=he;ye=ye.nextSibling)if((3!=ye.nodeType||0!==_e.trim(ye.data).length)&&ye!==he)return!1;return ye===he}function ae($,he,ye){var Ze,Z,Ee;if(F.isChildOf($,m.getBody()))for(Ee=F.schema.getNonEmptyElements(),Ze=new g(ye||$,$);Z=Ze[he?"next":"prev"]();)if(Ee[Z.nodeName]&&!ze(Z)||3==Z.nodeType&&Z.data.length>0)return Z}function K($){var he,ye,Ze;(function($){var he=J.getRng();if(he=function($,he){var ye,Ze,Z,Ee,ue,Ue;if(!$.collapsed)return $;if(Ue=$.startOffset,3==(ue=$.startContainer).nodeType)if(he){if(Ue<ue.data.length)return $}else if(Ue>0)return $;ye=w.getNode(ue,Ue),Z=F.getParent(ye,F.isBlock),Ze=ae(m.getBody(),he,ye),Ee=F.getParent(Ze,F.isBlock);var Ke=1===ue.nodeType&&Ue>ue.childNodes.length-1;if(!ye||!Ze)return $;if(Ee&&Z!=Ee)if(he){if(!tt(Z,Ee))return $;1==ye.nodeType?"BR"==ye.nodeName?$.setStartBefore(ye):$.setStartAfter(ye):$.setStart(ye,ye.data.length),1==Ze.nodeType?$.setEnd(Ze,0):$.setEndBefore(Ze)}else{if(!tt(Ee,Z))return $;1==Ze.nodeType?"BR"==Ze.nodeName?$.setStartBefore(Ze):$.setStartAfter(Ze):$.setStart(Ze,Ze.data.length),1==ye.nodeType&&Ke?$.setEndAfter(ye):$.setEndBefore(ye)}return $}(he,$),function($){var he,ye,Ze,Z,Ee;if(!$.collapsed&&(he=F.getParent(w.getNode($.startContainer,$.startOffset),F.isBlock),ye=F.getParent(w.getNode($.endContainer,$.endOffset),F.isBlock),Ee=m.schema.getTextBlockElements(),he!=ye&&Ee[he.nodeName]&&Ee[ye.nodeName]&&"false"!==F.getContentEditable(he)&&"false"!==F.getContentEditable(ye)))return $.deleteContents(),Ze=ae(he,!1),Z=ae(ye,!0),F.isEmpty(ye)||_e(he).append(ye.childNodes),_e(ye).remove(),Ze?1==Ze.nodeType?"BR"==Ze.nodeName?($.setStartBefore(Ze),$.setEndBefore(Ze)):($.setStartAfter(Ze),$.setEndAfter(Ze)):($.setStart(Ze,Ze.data.length),$.setEnd(Ze,Ze.data.length)):Z&&(1==Z.nodeType?($.setStartBefore(Z),$.setEndBefore(Z)):($.setStart(Z,0),$.setEnd(Z,0))),J.setRng($),!0}(he))return!0})($)||(r.each(m.getBody().getElementsByTagName("*"),function(Z){"SPAN"==Z.tagName&&Z.setAttribute("mce-data-marked",1),!Z.hasAttribute("data-mce-style")&&Z.hasAttribute("style")&&m.dom.setAttrib(Z,"style",m.dom.getAttrib(Z,"style"))}),(he=new le(function(){})).observe(m.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),m.getDoc().execCommand($?"ForwardDelete":"Delete",!1,null),ye=m.selection.getRng(),Ze=ye.startContainer.parentNode,r.each(he.takeRecords(),function(Z){if(F.isChildOf(Z.target,m.getBody())){if("style"==Z.attributeName){var Ee=Z.target.getAttribute("data-mce-style");Ee?Z.target.setAttribute("style",Ee):Z.target.removeAttribute("style")}r.each(Z.addedNodes,function(ue){var Ue,Ke;"SPAN"!=ue.nodeName||ue.getAttribute("mce-data-marked")||(ue==Ze&&(Ue=ye.startOffset,Ke=ue.firstChild),F.remove(ue,!0),Ke&&(ye.setStart(Ke,Ue),ye.setEnd(Ke,Ue),m.selection.setRng(ye)))})}}),he.disconnect(),r.each(m.dom.select("span[mce-data-marked]"),function(Z){Z.removeAttribute("mce-data-marked")}))}function ie($){m.undoManager.transact(function(){K($)})}var Te,de,A=m.getDoc(),F=m.dom,J=m.selection,le=window.MutationObserver;le||(Te=!0,le=function(){function $(Z){var Ee=Z.relatedNode||Z.target;ye.push({target:Ee,addedNodes:[Ee]})}function he(Z){ye.push({target:Z.relatedNode||Z.target,attributeName:Z.attrName})}var Ze,ye=[];this.observe=function(Z){(Ze=Z).addEventListener("DOMSubtreeModified",$,!1),Ze.addEventListener("DOMNodeInsertedIntoDocument",$,!1),Ze.addEventListener("DOMNodeInserted",$,!1),Ze.addEventListener("DOMAttrModified",he,!1)},this.disconnect=function(){Ze.removeEventListener("DOMSubtreeModified",$,!1),Ze.removeEventListener("DOMNodeInsertedIntoDocument",$,!1),Ze.removeEventListener("DOMNodeInserted",$,!1),Ze.removeEventListener("DOMAttrModified",he,!1)},this.takeRecords=function(){return ye}}),m.on("keydown",function($){var he=$.keyCode==Ne,ye=$.ctrlKey||$.metaKey;if(!x($)&&(he||$.keyCode==be)){var Ze=m.selection.getRng(),Z=Ze.startContainer,Ee=Ze.startOffset;if(he&&$.shiftKey)return;if(function($,he){function ye(qt,Ht){return At=_e(Ht).parents().filter(function(on,gn){return!!m.schema.getTextInlineElements()[gn.nodeName]}),ue=qt.cloneNode(!1),(At=r.map(At,function(on){return on=on.cloneNode(!1),ue.hasChildNodes()&&on.appendChild(ue.firstChild),ue.appendChild(on),ue.appendChild(on),on})).length?(ot=F.create("br"),At[0].appendChild(ot),F.replace(ue,qt),he.setStartBefore(ot),he.setEndBefore(ot),m.selection.setRng(he),ot):null}function Ze(qt){return qt&&m.schema.getTextBlockElements()[qt.tagName]}var Z,Ee,ue,Ue,Ke,it,Ge,ot,At;if(he.collapsed&&(Ge=he.startOffset,Ze(Ee=F.getParent(it=he.startContainer,F.isBlock))))if(1==it.nodeType){if((it=it.childNodes[Ge])&&"BR"!=it.tagName)return;if(Ke=$?Ee.nextSibling:Ee.previousSibling,F.isEmpty(Ee)&&Ze(Ke)&&F.isEmpty(Ke)&&ye(Ee,it))return F.remove(Ke),!0}else if(3==it.nodeType){if(Z=f.create(Ee,it),Ue=Ee.cloneNode(!0),it=f.resolve(Ue,Z),$){if(Ge>=it.data.length)return;it.deleteData(Ge,1)}else{if(Ge<=0)return;it.deleteData(Ge-1,1)}if(F.isEmpty(Ue))return ye(Ee,it)}}(he,Ze))return void $.preventDefault();if(!ye&&Ze.collapsed&&3==Z.nodeType&&(he?Ee<Z.data.length:Ee>0))return;$.preventDefault(),ye&&m.selection.getSel().modify("extend",he?"forward":"backward",$.metaKey?"lineboundary":"word"),K(he)}}),m.on("keypress",function($){var he,ye,Ze,Z,Ee,ue;!x($)&&!J.isCollapsed()&&$.charCode>31&&!_.metaKeyPressed($)&&(he=m.selection.getRng(),ue=String.fromCharCode($.charCode),$.preventDefault(),ye=_e(he.startContainer).parents().filter(function(Ue,Ke){return!!m.schema.getTextInlineElements()[Ke.nodeName]}),K(!0),(ye=ye.filter(function(Ue,Ke){return!_e.contains(m.getBody(),Ke)})).length?(Ze=F.createFragment(),ye.each(function(Ue,Ke){Ke=Ke.cloneNode(!1),Ze.hasChildNodes()?(Ke.appendChild(Ze.firstChild),Ze.appendChild(Ke)):(Ee=Ke,Ze.appendChild(Ke)),Ze.appendChild(Ke)}),Ee.appendChild(m.getDoc().createTextNode(ue)),Z=F.getParent(he.startContainer,F.isBlock),F.isEmpty(Z)?_e(Z).empty().append(Ze):he.insertNode(Ze),he.setStart(Ee.firstChild,1),he.setEnd(Ee.firstChild,1),m.selection.setRng(he)):m.selection.setContent(ue))}),m.addCommand("Delete",function(){K()}),m.addCommand("ForwardDelete",function(){K(!0)}),Te||(m.on("dragstart",function($){de=J.getRng(),h($)}),m.on("drop",function($){if(!x($)){var he=N($);he&&($.preventDefault(),o.setEditorTimeout(m,function(){var ye=w.getCaretRangeFromPoint($.x,$.y,A);de&&(J.setRng(de),de=null,ie()),J.setRng(ye),l(he.html)}))}}),m.on("cut",function($){x($)||!$.clipboardData||m.selection.isCollapsed()||($.preventDefault(),$.clipboardData.clearData(),$.clipboardData.setData("text/html",m.selection.getContent()),$.clipboardData.setData("text/plain",m.selection.getContent({format:"text"})),o.setEditorTimeout(m,function(){ie(!0)}))}))}(),m.settings.content_editable||ke.bind(m.getDoc(),"mousedown mouseup",function(ze){var tt;if(ze.target==m.getDoc().documentElement)if(tt=St.getRng(),m.getBody().focus(),"mousedown"==ze.type){if(v.isCaretContainer(tt.startContainer))return;St.placeCaretAt(ze.clientX,ze.clientY)}else St.setRng(tt)}),m.on("click",function(ze){var tt=ze.target;/^(IMG|HR)$/.test(tt.nodeName)&&"false"!==ke.getContentEditableParent(tt)&&(ze.preventDefault(),St.select(tt),m.nodeChanged()),"A"==tt.nodeName&&ke.hasClass(tt,"mce-item-anchor")&&(ze.preventDefault(),St.select(tt))}),Wt.forced_root_block&&m.on("init",function(){b("DefaultParagraphSeparator",Wt.forced_root_block)}),m.on("init",function(){m.dom.bind(m.getBody(),"submit",function(ze){ze.preventDefault()})}),I(),en.addNodeFilter("br",function(ze){for(var tt=ze.length;tt--;)"Apple-interchange-newline"==ze[tt].attr("class")&&ze[tt].remove()}),t.iOS?(m.inline||m.on("keydown",function(){document.activeElement==document.body&&m.getWin().focus()}),Ve(),m.on("click",function(ze){var tt=ze.target;do{if("A"===tt.tagName)return void ze.preventDefault()}while(tt=tt.parentNode)}),m.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):e()),nn&&t.ie<11&&(y(),document.body.setAttribute("role","application"),p()>7||(b("RespectVisibilityInDesign",!0),m.contentStyles.push(".mceHideBrInPre pre br {display: none}"),ke.addClass(m.getBody(),"mceHideBrInPre"),en.addNodeFilter("pre",function(ze){for(var ae,we,Pt,yt,tt=ze.length;tt--;)for(we=(ae=ze[tt].getAll("br")).length;we--;)(yt=(Pt=ae[we]).prev)&&3===yt.type&&"\n"!=yt.value.charAt(yt.value-1)?yt.value+="\n":Pt.parent.insert(new i("#text",3),Pt,!0).value="\n"}),vn.addNodeFilter("pre",function(ze){for(var ae,we,yt,tt=ze.length;tt--;)for(we=(ae=ze[tt].getAll("br")).length;we--;)(yt=ae[we].prev)&&3==yt.type&&(yt.value=yt.value.replace(/\r?\n$/,""))})),ke.bind(m.getBody(),"mouseup",function(){var ze,tt=St.getNode();"IMG"==tt.nodeName&&((ze=ke.getStyle(tt,"width"))&&(ke.setAttrib(tt,"width",ze.replace(/[^0-9%]+/g,"")),ke.setStyle(tt,"width","")),(ze=ke.getStyle(tt,"height"))&&(ke.setAttrib(tt,"height",ze.replace(/[^0-9%]+/g,"")),ke.setStyle(tt,"height","")))}),m.on("keydown",function(ze){var tt;x(ze)||ze.keyCode!=be||(tt=m.getDoc().selection.createRange())&&tt.item&&(ze.preventDefault(),m.undoManager.beforeChange(),ke.remove(tt.item(0)),m.undoManager.add())}),p()>=10&&(ze="",ee("p div h1 h2 h3 h4 h5 h6".split(" "),function(tt,ae){ze+=(ae>0?",":"")+tt+":empty"}),m.contentStyles.push(ze+"{padding-right: 1px !important}")),p()<9&&(en.addNodeFilter("noscript",function(ze){for(var ae,we,tt=ze.length;tt--;)(we=(ae=ze[tt]).firstChild)&&ae.attr("data-mce-innertext",we.value)}),vn.addNodeFilter("noscript",function(ze){for(var ae,we,Pt,tt=ze.length;tt--;)ae=ze[tt],(we=ze[tt].firstChild)?we.value=s.decode(we.value):(Pt=ae.attributes.map["data-mce-innertext"])&&(ae.attr("data-mce-innertext",null),(we=new i("#text",3)).value=Pt,we.raw=!0,ae.append(we))})),function(){function ze(ie,A){var F=Pt.createTextRange();try{F.moveToPoint(ie,A)}catch(J){F=null}return F}function tt(ie){var A;ie.button?(A=ze(ie.x,ie.y))&&(A.compareEndPoints("StartToStart",zt)>0?A.setEndPoint("StartToStart",zt):A.setEndPoint("EndToEnd",zt),A.select()):ae()}function ae(){var ie=we.selection.createRange();zt&&!ie.item&&0===ie.compareEndPoints("StartToEnd",ie)&&zt.select(),ke.unbind(we,"mouseup",ae),ke.unbind(we,"mousemove",tt),zt=yt=0}var yt,zt,K,we=ke.doc,Pt=we.body;we.documentElement.unselectable=!0,ke.bind(we,"mousedown contextmenu",function(ie){if("HTML"===ie.target.nodeName){if(yt&&ae(),(K=we.documentElement).scrollHeight>K.clientHeight)return;yt=1,(zt=ze(ie.x,ie.y))&&(ke.bind(we,"mouseup",ae),ke.bind(we,"mousemove",tt),ke.getRoot().focus(),zt.select())}})}()),t.ie>=11&&(Ve(),I()),t.ie&&(e(),b("AutoUrlDetect",!1),m.on("dragstart",function(ze){h(ze)}),m.on("drop",function(ze){if(!x(ze)){var tt=N(ze);if(tt&&tt.id!=m.id){ze.preventDefault();var ae=w.getCaretRangeFromPoint(ze.x,ze.y,m.getDoc());St.setRng(ae),l(tt.html)}}})),un&&(ce(),y(),window.Range.prototype.getClientRects||m.on("mousedown",function(ze){if(!x(ze)&&"HTML"===ze.target.nodeName){var tt=m.getBody();tt.blur(),o.setEditorTimeout(m,function(){tt.focus()})}}),function(){function ze(){var ae=ke.getAttribs(St.getStart().cloneNode(!1));return function(){var we=St.getStart();we!==m.getBody()&&(ke.setAttrib(we,"style",null),ee(ae,function(Pt){we.setAttributeNode(Pt.cloneNode(!0))}))}}function tt(){return!St.isCollapsed()&&ke.getParent(St.getStart(),ke.isBlock)!=ke.getParent(St.getEnd(),ke.isBlock)}m.on("keypress",function(ae){var we;if(!x(ae)&&(8==ae.keyCode||46==ae.keyCode)&&tt())return we=ze(),m.getDoc().execCommand("delete",!1,null),we(),ae.preventDefault(),!1}),ke.bind(m.getDoc(),"cut",function(ae){var we;!x(ae)&&tt()&&(we=ze(),o.setEditorTimeout(m,function(){we()}))})}(),Wt.readonly||m.on("BeforeExecCommand MouseDown",function(){b("StyleWithCSS",!1),b("enableInlineTableEditing",!1),Wt.object_resizing||b("enableObjectResizing",!1)}),m.on("SetContent ExecCommand",function(tt){"setcontent"!=tt.type&&"mceInsertLink"!==tt.command||ee(ke.select("a"),function(tt){var ae=tt.parentNode,we=ke.getRoot();if(ae.lastChild===tt){for(;ae&&!ke.isBlock(ae);){if(ae.parentNode.lastChild!==ae||ae===we)return;ae=ae.parentNode}ke.add(ae,"br",{"data-mce-bogus":1})}})}),m.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),t.mac&&m.on("keydown",function(ze){!_.metaKeyPressed(ze)||ze.shiftKey||37!=ze.keyCode&&39!=ze.keyCode||(ze.preventDefault(),m.selection.getSel().modify("move",37==ze.keyCode?"backward":"forward","lineboundary"))}),I()),{refreshContentEditable:function(){},isHidden:function(){var ze;return un?!(ze=m.selection.getSel())||!ze.rangeCount||0===ze.rangeCount:0}}}}),ge(tn,[bt,oe,Me],function(_,w,g){function f(o,v){return"selectionchange"==v?o.getDoc():!o.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(v)?o.getDoc().documentElement:o.settings.event_root?(o.eventRoot||(o.eventRoot=s.select(o.settings.event_root)[0]),o.eventRoot):o.getBody()}function i(o,v){function u(b){return!b.hidden&&!b.readonly}var m,d=f(o,v);if(o.delegates||(o.delegates={}),!o.delegates[v])if(o.settings.event_root){if(t||(t={},o.editorManager.on("removeEditor",function(){var b;if(!o.editorManager.activeEditor&&t){for(b in t)o.dom.unbind(f(o,b));t=null}})),t[v])return;t[v]=m=function(b){for(var p=b.target,x=o.editorManager.editors,h=x.length;h--;){var N=x[h].getBody();(N===p||s.isChildOf(p,N))&&u(x[h])&&x[h].fire(v,b)}},s.bind(d,v,m)}else s.bind(d,v,m=function(b){u(o)&&o.fire(v,b)}),o.delegates[v]=m}var t,s=w.DOM,r={bindPendingEventDelegates:function(){var o=this;g.each(o._pendingNativeEvents,function(v){i(o,v)})},toggleNativeEvent:function(o,v){var u=this;"focus"!=o&&"blur"!=o&&(v?u.initialized?i(u,o):u._pendingNativeEvents?u._pendingNativeEvents.push(o):u._pendingNativeEvents=[o]:u.initialized&&(u.dom.unbind(f(u,o),o,u.delegates[o]),delete u.delegates[o]))},unbindAllNativeEvents:function(){var v,o=this;if(o.delegates){for(v in o.delegates)o.dom.unbind(f(o,v),v,o.delegates[v]);delete o.delegates}o.inline||(o.getBody().onload=null,o.dom.unbind(o.getWin()),o.dom.unbind(o.getDoc())),o.dom.unbind(o.getBody()),o.dom.unbind(o.getContainer())}};return g.extend({},_,r)}),ge(fn,[],function(){function _(i,s,t){try{i.getDoc().execCommand(s,!1,t)}catch(r){}}function g(i,s){i._clickBlocker&&(i._clickBlocker.unbind(),i._clickBlocker=null),s?(i._clickBlocker=function(i){var s,t;return s=i.getBody(),t=function(r){i.dom.getParents(r.target,"a").length>0&&r.preventDefault()},i.dom.bind(s,"click",t),{unbind:function(){i.dom.unbind(s,"click",t)}}}(i),i.selection.controlSelection.hideResizeRect(),i.readonly=!0,i.getBody().contentEditable=!1):(i.readonly=!1,i.getBody().contentEditable=!0,_(i,"StyleWithCSS",!1),_(i,"enableInlineTableEditing",!1),_(i,"enableObjectResizing",!1),i.focus(),i.nodeChanged())}return{setMode:function(i,s){s!=(i.readonly?"readonly":"design")&&(i.initialized?g(i,"readonly"==s):i.on("init",function(){g(i,"readonly"==s)}),i.fire("SwitchMode",{mode:s}))}}}),ge(hn,[Me,We],function(_,w){var g=_.each,f=_.explode,i={f9:120,f10:121,f11:122},s=_.makeMap("alt,ctrl,shift,meta,access");return function(t){function r(h){var N,l,c={};for(l in g(f(h,"+"),function(a){a in s?c[a]=!0:/^[0-9]{2,}$/.test(a)?c.keyCode=parseInt(a,10):(c.charCode=a.charCodeAt(0),c.keyCode=i[a]||a.toUpperCase().charCodeAt(0))}),N=[c.keyCode],s)c[l]?N.push(l):c[l]=!1;return c.id=N.join(","),c.access&&(c.alt=!0,w.mac?c.ctrl=!0:c.shift=!0),c.meta&&(w.mac?c.meta=!0:(c.ctrl=!0,c.meta=!1)),c}function o(h,N,l,c){var a;return(a=_.map(f(h,">"),r))[a.length-1]=_.extend(a[a.length-1],{func:l,scope:c||t}),_.extend(a[0],{desc:t.translate(N),subpatterns:a.slice(1)})}function d(h,N){return!!N&&N.ctrl==h.ctrlKey&&N.meta==h.metaKey&&N.alt==h.altKey&&N.shift==h.shiftKey&&!!(h.keyCode==N.keyCode||h.charCode&&h.charCode==N.charCode)&&(h.preventDefault(),!0)}function m(h){return h.func?h.func.call(h.scope):null}var p={},x=[];t.on("keyup keypress keydown",function(h){!function(h){return h.altKey||h.ctrlKey||h.metaKey}(h)&&!function(h){return"keydown"===h.type&&h.keyCode>=112&&h.keyCode<=123}(h)||h.isDefaultPrevented()||(g(p,function(N){if(d(h,N))return x=N.subpatterns.slice(0),"keydown"==h.type&&m(N),!0}),d(h,x[0])&&(1===x.length&&"keydown"==h.type&&m(x[0]),x.shift()))}),this.add=function(h,N,l,c){var a;return a=l,"string"==typeof l?l=function(){t.execCommand(a,!1,null)}:_.isArray(a)&&(l=function(){t.execCommand(a[0],a[1],a[2])}),g(f(_.trim(h.toLowerCase())),function(e){var n=o(e,N,l,c);p[n.id]=n}),!0},this.remove=function(h){var N=o(h);return!!p[N.id]&&(delete p[N.id],!0)}}}),ge(Nn,[j,Me,ve],function(_,w,g){return function(f,i){function s(c){var a;return a={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[c.blob().type.toLowerCase()]||"dat",c.filename()+"."+a}function o(c,a,e,n){var y,S;(y=new XMLHttpRequest).open("POST",i.url),y.withCredentials=i.credentials,y.upload.onprogress=function(C){n(C.loaded/C.total*100)},y.onerror=function(){e("Image upload failed due to a XHR Transport error. Code: "+y.status)},y.onload=function(){var C;return 200!=y.status?void e("HTTP Error: "+y.status):(C=JSON.parse(y.responseText))&&"string"==typeof C.location?void a(function(c,a){return c?c.replace(/\/$/,"")+"/"+a.replace(/^\//,""):a}(i.basePath,C.location)):void e("Invalid JSON: "+y.responseText)},(S=new FormData).append("file",c.blob(),c.filename()),y.send(S)}function u(c,a){return{url:a,blobInfo:c,status:!0}}function d(c,a){return{url:"",blobInfo:c,status:!1,error:a}}function m(c,a){w.each(l[c],function(e){e(a)}),delete l[c]}function h(c,a){return c=w.grep(c,function(e){return!f.isUploaded(e.blobUri())}),_.all(w.map(c,function(e){return f.isPending(e.blobUri())?function(c){var a=c.blobUri();return new _(function(e){l[a]=l[a]||[],l[a].push(e)})}(e):function(c,a,e){return f.markPending(c.blobUri()),new _(function(n){var y,S,C=function(){};try{var k=function(){y&&(y.close(),S=C)};S=function(M){M<0||M>100||(y||(y=e()),y.progressBar.value(M))},a(function(c){return{id:c.id,blob:c.blob,base64:c.base64,filename:g.constant(s(c))}}(c),function(M){k(),f.markUploaded(c.blobUri(),M),m(c.blobUri(),u(c,M)),n(u(c,M))},function(M){k(),f.removeFailed(c.blobUri()),m(c.blobUri(),d(c,M)),n(d(c,M))},S)}catch(M){n(d(c,M.message))}})}(e,i.handler,a)}))}var l={};return i=w.extend({credentials:!1,handler:o},i),{upload:function(c,a){return!i.url&&function(c){return c===o}(i.handler)?new _(function(c){c([])}):h(c,a)}}}}),ge(_n,[j],function(_){function g(t){var r,o;return t=decodeURIComponent(t).split(","),(o=/data:([^;]+)/.exec(t[0]))&&(r=o[1]),{type:r,data:t[1]}}return{uriToBlob:function(t){return 0===t.indexOf("blob:")?function(t){return new _(function(r){var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType="blob",o.onload=function(){200==this.status&&r(this.response)},o.send()})}(t):0===t.indexOf("data:")?function(t){return new _(function(r){var o,v,u;t=g(t);try{o=atob(t.data)}catch(d){return void r(new Blob([]))}for(v=new Uint8Array(o.length),u=0;u<v.length;u++)v[u]=o.charCodeAt(u);r(new Blob([v],{type:t.type}))})}(t):null},blobToDataUri:function(t){return new _(function(r){var o=new FileReader;o.onloadend=function(){r(o.result)},o.readAsDataURL(t)})},parseDataUri:g}}),ge(Rn,[j,et,ve,_n,We],function(_,w,g,f,i){var s=0,t=function(r){return(r||"blobid")+s++};return function(r,o){var u={};return{findAll:function(d,m){var p,x;return m||(m=g.constant(!0)),p=w.filter(d.getElementsByTagName("img"),function(h){var N=h.src;return!!i.fileApi&&!h.hasAttribute("data-mce-bogus")&&!h.hasAttribute("data-mce-placeholder")&&!(!N||N==i.transparentSrc)&&(0===N.indexOf("blob:")?!r.isUploaded(N):0===N.indexOf("data:")&&m(h))}),x=w.map(p,function(h){var N;return u[h.src]?new _(function(l){u[h.src].then(function(c){l({image:h,blobInfo:c.blobInfo})})}):(N=new _(function(l){!function(h,N){var l,c;0===h.src.indexOf("blob:")?(c=o.getByUri(h.src))?N({image:h,blobInfo:c}):f.uriToBlob(h.src).then(function(a){f.blobToDataUri(a).then(function(e){l=f.parseDataUri(e).data,c=o.create(t(),a,l),o.add(c),N({image:h,blobInfo:c})})}):(l=f.parseDataUri(h.src).data,(c=o.findFirst(function(a){return a.base64()===l}))?N({image:h,blobInfo:c}):f.uriToBlob(h.src).then(function(a){c=o.create(t(),a,l),o.add(c),N({image:h,blobInfo:c})}))}(h,l)}).then(function(l){return delete u[l.image.src],l}).catch(function(l){return delete u[h.src],l}),u[h.src]=N,N)}),_.all(x)}}}}),ge(In,[et,ve],function(_,w){return function(){function i(d){return s(function(m){return m.id()===d})}function s(d){return _.filter(v,d)[0]}var v=[],u=w.constant;return{create:function(d,m,b,p){return{id:u(d),filename:u(p||d),blob:u(m),base64:u(b),blobUri:u(URL.createObjectURL(m))}},add:function(d){i(d.id())||v.push(d)},get:i,getByUri:function(d){return s(function(m){return m.blobUri()==d})},findFirst:s,removeByUri:function(d){v=_.filter(v,function(m){return m.blobUri()!==d||(URL.revokeObjectURL(m.blobUri()),!1)})},destroy:function(){_.each(v,function(d){URL.revokeObjectURL(d.blobUri())}),v=[]}}}}),ge(Un,[],function(){return function(){function _(m,b){return{status:m,resultUri:b}}function w(m){return m in d}var d={};return{hasBlobUri:w,getResultUri:function(m){var b=d[m];return b?b.resultUri:null},isPending:function(m){return!!w(m)&&1===d[m].status},isUploaded:function(m){return!!w(m)&&2===d[m].status},markPending:function(m){d[m]=_(1,null)},markUploaded:function(m,b){d[m]=_(2,b)},removeFailed:function(m){delete d[m]},destroy:function(){d={}}}}}),ge(Wn,[fe],function(_){var w=_.PluginManager,i=function(o,v){o.notificationManager.open({type:"error",text:v})},s=function(o,v){o._skinLoaded?i(o,v):o.on("SkinLoaded",function(){i(o,v)})};return{pluginLoadError:function(o,v){s(o,function(o,v){var u=function(o,v){for(var u in w.urls)if(w.urls[u]+"/plugin"+v+".js"===o)return u;return null}(v,o.suffix);return u?"Failed to load plugin: "+u+" from url "+v:"Failed to load plugin url: "+v}(o,v))},uploadError:function(o,v){s(o,"Failed to upload image: "+v)}}}),ge(Vn,[et,Nn,Rn,In,Un,Wn],function(_,w,g,f,i,s){return function(t){function r(C){return function(k){return t.selection?C(k):[]}}function v(C,k,T){var I=0;do{-1!==(I=C.indexOf(k,I))&&(C=C.substring(0,I)+T+C.substr(I+k.length),I+=T.length-k.length+1)}while(-1!==I);return C}function u(C,k,T){return C=v(C,'src="'+k+'"','src="'+T+'"'),v(C,'data-mce-src="'+k+'"','data-mce-src="'+T+'"')}function d(C,k){_.each(t.undoManager.data,function(T){"fragmented"===T.type?T.fragments=_.map(T.fragments,function(I){return u(I,C,k)}):T.content=u(T.content,C,k)})}function m(){return t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function p(C){return e||(e=new w(S,{url:y.images_upload_url,basePath:y.images_upload_base_path,credentials:y.images_upload_credentials,handler:y.images_upload_handler})),N().then(r(function(k){var T;return T=_.map(k,function(I){return I.blobInfo}),e.upload(T,m).then(r(function(I){return I=_.map(I,function(M,D){var O=k[D].image;return M.status&&!1!==t.settings.images_replace_blob_uris?function(C,k){a.removeByUri(C.src),d(C.src,k),t.$(C).attr({src:y.images_reuse_filename?k+"?"+(new Date).getTime():k,"data-mce-src":t.convertURL(k,"src")})}(O,M.url):M.error&&s.uploadError(t,M.error),{element:O,status:M.status}}),C&&C(I),I}))}))}function x(C){if(!1!==y.automatic_uploads)return p(C)}function h(C){return!y.images_dataimg_filter||y.images_dataimg_filter(C)}function N(){return n||(n=new g(S,a)),n.findAll(t.getBody(),h).then(r(function(C){return _.each(C,function(k){d(k.image.src,k.blobInfo.blobUri()),k.image.src=k.blobInfo.blobUri(),k.image.removeAttribute("data-mce-src")}),C}))}function c(C){return C.replace(/src="(blob:[^"]+)"/g,function(k,T){var I=S.getResultUri(T);if(I)return'src="'+I+'"';var M=a.getByUri(T);return M||(M=_.reduce(t.editorManager.editors,function(D,O){return D||O.editorUpload.blobCache.getByUri(T)},null)),M?'src="data:'+M.blob().type+";base64,"+M.base64()+'"':k})}var e,n,a=new f,y=t.settings,S=new i;return t.on("setContent",function(){!1!==t.settings.automatic_uploads?x():N()}),t.on("RawSaveContent",function(C){C.content=c(C.content)}),t.on("getContent",function(C){C.source_view||"raw"==C.format||(C.content=c(C.content))}),t.on("PostRender",function(){t.parser.addNodeFilter("img",function(C){_.each(C,function(k){var T=k.attr("src");if(!a.getByUri(T)){var I=S.getResultUri(T);I&&k.attr("src",I)}})})}),{blobCache:a,uploadImages:p,uploadImagesAuto:x,scanForImages:N,destroy:function(){a.destroy(),S.destroy(),n=e=null}}}}),ge(Gn,[pt,_t,Re,dt,qe,Ct,xe],function(_,w,g,f,i,s,t){var r=g.isContentEditableFalse;return function(o,v){function b(){(function(){var a,e,n,y,S;for(a=i("*[contentEditable=false]",o),y=0;y<a.length;y++)_.endsWithCaretContainer(n=(e=a[y]).previousSibling)&&(1==(S=n.data).length?n.parentNode.removeChild(n):n.deleteData(S.length-1,1)),_.startsWithCaretContainer(n=e.nextSibling)&&(1==(S=n.data).length?n.parentNode.removeChild(n):n.deleteData(0,1))})(),c&&(_.remove(c),c=null),l&&(l.remove(),l=null),clearInterval(N)}var N,l,c;return{show:function(a,e){var n,y;return b(),v(e)?(c=_.insertBlock("p",e,a),n=function(a,e){var y,S,C,k,T,n=s.collapse(a.getBoundingClientRect(),e);return"BODY"==o.tagName?(y=o.ownerDocument.documentElement,S=o.scrollLeft||y.scrollLeft,C=o.scrollTop||y.scrollTop):(T=o.getBoundingClientRect(),S=o.scrollLeft-T.left,C=o.scrollTop-T.top),n.left+=S,n.right+=S,n.top+=C,n.bottom+=C,n.width=1,(k=a.offsetWidth-a.clientWidth)>0&&(e&&(k*=-1),n.left+=k,n.right+=k),n}(e,a),i(c).css("top",n.top),l=i('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(n).appendTo(o),a&&l.addClass("mce-visual-caret-before"),N=t.setInterval(function(){i("div.mce-visual-caret",o).toggleClass("mce-visual-caret-hidden")},500),(y=e.ownerDocument.createRange()).setStart(c,0),y.setEnd(c,0),y):(c=_.insertInline(e,a),y=e.ownerDocument.createRange(),r(c.nextSibling)?(y.setStart(c,0),y.setEnd(c,0)):(y.setStart(c,1),y.setEnd(c,1)),y)},hide:b,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},destroy:function(){t.clearInterval(N)}}}}),ge(jn,[et,Re,Ct],function(_,w,g){return{getClientRects:function f(i){function s(r){return _.map(r,function(o){return(o=g.clone(o)).node=i,o})}if(_.isArray(i))return _.reduce(i,function(r,o){return r.concat(f(o))},[]);if(w.isElement(i))return s(i.getClientRects());if(w.isText(i)){var t=i.ownerDocument.createRange();return t.setStart(i,0),t.setEnd(i,i.data.length),s(t.getClientRects())}}}}),ge(Cr,[ve,et,jn,Qe,kt,Ft,_t,Ct],function(_,w,g,f,i,s,t,r){function v(h,N,l,c,a,e){function n(T){var I,M,D;for(D=g.getClientRects(T),-1==h&&(D=D.reverse()),I=0;I<D.length;I++)if(!l(M=D[I],k)){if(C.length>0&&N(M,w.last(C))&&y++,M.line=y,a(M))return!0;C.push(M)}}var S,k,y=0,C=[];return(k=w.last(e.getClientRects()))&&(n(S=e.getNode()),function(h,N,l,c){for(;c=i.findNode(c,h,f.isEditableCaretCandidate,N);)if(l(c))return}(h,c,n,S)),C}var b=_.curry;return{upUntil:b(v,-1,r.isAbove,r.isBelow),downUntil:b(v,1,r.isBelow,r.isAbove),positionsUntil:function(h,N,l,c){function a(D){return w.last(D.getClientRects())}var n,y,S,C,I,M,e=new s(N),k=[],T=0;1==h?(n=e.next,y=r.isBelow,S=r.isAbove,C=t.after(c)):(n=e.prev,y=r.isAbove,S=r.isBelow,C=t.before(c)),M=a(C);do{if(C.isVisible()&&!S(I=a(C),M)){if(k.length>0&&y(I,w.last(k))&&T++,(I=r.clone(I)).position=C,I.line=T,l(I))return k;k.push(I)}}while(C=n(C));return k},isAboveLine:b(function(h,N){return N.line>h}),isLine:b(function(h,N){return N.line===h})}}),ge(wr,[ve,et,Re,jn,Ct,kt,Qe],function(_,w,g,f,i,s,t){function r(l,c){return Math.abs(l.left-c)}function o(l,c){return Math.abs(l.right-c)}function v(l,c){function a(e,n){return e>=n.left&&e<=n.right}return w.reduce(l,function(e,n){var y,S;return y=Math.min(r(e,c),o(e,c)),S=Math.min(r(n,c),o(n,c)),a(c,n)?n:a(c,e)?e:S==y&&x(n.node)||S<y?n:e})}function u(l,c,a,e){for(;e=h(e,l,t.isEditableCaretCandidate,c);)if(a(e))return}function d(l,c){function a(n,y){var S;return S=w.filter(f.getClientRects(y),function(C){return!n(C,c)}),e=e.concat(S),0===S.length}var e=[];return e.push(c),u(-1,l,N(a,i.isAbove),c.node),u(1,l,N(a,i.isBelow),c.node),e}var x=g.isContentEditableFalse,h=s.findNode,N=_.curry;return{findClosestClientRect:v,findLineNodeRects:d,closestCaret:function(l,c,a){var e,n;return e=f.getClientRects(function(l){return w.filter(w.toArray(l.getElementsByTagName("*")),x)}(l)),(n=v(e=w.filter(e,function(y){return a>=y.top&&a<=y.bottom}),c))&&(n=v(d(l,n),c))&&x(n.node)?function(l,c){return{node:l.node,before:r(l,c)<o(l,c)}}(n,c):null}}}),ge(Nr,[],function(){var _=function(r){var o,v,u,d;return{top:(d=r.getBoundingClientRect()).top+(u=(o=r.ownerDocument).defaultView).pageYOffset-(v=o.documentElement).clientTop,left:d.left+u.pageXOffset-v.clientLeft}};return{calc:function(r,o){return function(r,o,v){return{pageX:v.left-r.left+o.left,pageY:v.top-r.top+o.top}}(function(r){return r.inline?_(r.getBody()):{left:0,top:0}}(r),function(r){var o=r.getBody();return r.inline?{left:o.scrollLeft,top:o.scrollTop}:{left:0,top:0}}(r),function(r,o){if(o.target.ownerDocument!==r.getDoc()){var v=_(r.getContentAreaContainer()),u=function(r){var o=r.getBody(),v=r.getDoc().documentElement;return r.inline?{left:o.scrollLeft,top:o.scrollTop}:{left:o.scrollLeft||v.scrollLeft,top:o.scrollTop||v.scrollTop}}(r);return{left:o.pageX-v.left+u.left,top:o.pageY-v.top+u.top}}return{left:o.pageX,top:o.pageY}}(r,o))}}}),ge(Sr,[Re,et,ve,xe,oe,Nr],function(_,w,g,f,i,s){var t=_.isContentEditableFalse,r=_.isContentEditableTrue,p=function(T){T&&T.parentNode&&T.parentNode.removeChild(T)},y=function(T){T.dragging=!1,T.element=null,p(T.ghost)},S=function(T){var M,D,O,L,U,W,I={};M=i.DOM,W=document,D=function(T,I){return function(M){if(function(T){return 0===T.button}(M)){var D=w.find(I.dom.getParents(M.target),g.or(t,r));if(function(T,I){return t(I)&&I!==T}(I.getBody(),D)){var O=I.dom.getPos(D),L=I.getBody(),U=I.getDoc().documentElement;T.element=D,T.screenX=M.screenX,T.screenY=M.screenY,T.maxX=(I.inline?L.scrollWidth:U.offsetWidth)-2,T.maxY=(I.inline?L.scrollHeight:U.offsetHeight)-2,T.relX=M.pageX-O.x,T.relY=M.pageY-O.y,T.width=D.offsetWidth,T.height=D.offsetHeight,T.ghost=function(T,I,M,D){var O=I.cloneNode(!0);T.dom.setStyles(O,{width:M,height:D}),T.dom.setAttrib(O,"data-mce-selected",null);var L=T.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return T.dom.setStyles(L,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:M,height:D}),T.dom.setStyles(O,{margin:0,boxSizing:"border-box"}),L.appendChild(O),L}(I,D,T.width,T.height)}}}}(I,T),O=function(T,I){var M=f.throttle(function(D,O){I._selectionOverrides.hideFakeCaret(),I.selection.placeCaretAt(D,O)},0);return function(D){var O=Math.max(Math.abs(D.screenX-T.screenX),Math.abs(D.screenY-T.screenY));if(function(T){return T.element}(T)&&!T.dragging&&O>10){if(I.fire("dragstart",{target:T.element}).isDefaultPrevented())return;T.dragging=!0,I.focus()}if(T.dragging){var U=function(T,I){return{pageX:I.pageX-T.relX,pageY:I.pageY+5}}(T,s.calc(I,D));(function(T,I){T.parentNode!==I&&I.appendChild(T)})(T.ghost,I.getBody()),function(T,I,M,D,O,L){var U=0,W=0;T.style.left=I.pageX+"px",T.style.top=I.pageY+"px",I.pageX+M>O&&(U=I.pageX+M-O),I.pageY+D>L&&(W=I.pageY+D-L),T.style.width=M-U+"px",T.style.height=D-W+"px"}(T.ghost,U,T.width,T.height,T.maxX,T.maxY),M(D.clientX,D.clientY)}}}(I,T),L=function(T,I){return function(M){if(T.dragging&&function(T,I,M){return I!==M&&!T.dom.isChildOf(I,M)&&!t(I)}(I,function(T){var M=T.getSel().getRangeAt(0).startContainer;return 3===M.nodeType?M.parentNode:M}(I.selection),T.element)){var D=function(T){var I=T.cloneNode(!0);return I.removeAttribute("data-mce-selected"),I}(T.element),O=I.fire("drop",{targetClone:D,clientX:M.clientX,clientY:M.clientY});O.isDefaultPrevented()||(D=O.targetClone,I.undoManager.transact(function(){p(T.element),I.insertContent(I.dom.getOuterHTML(D)),I._selectionOverrides.hideFakeCaret()}))}y(T)}}(I,T),U=function(T,I){return function(){y(T),T.dragging&&I.fire("dragend")}}(I,T),T.on("mousedown",D),T.on("mousemove",O),T.on("mouseup",L),M.bind(W,"mousemove",O),M.bind(W,"mouseup",U),T.on("remove",function(){M.unbind(W,"mousemove",O),M.unbind(W,"mouseup",U)})};return{init:function(T){S(T),function(T){T.on("drop",function(I){var M=void 0!==I.clientX?T.getDoc().elementFromPoint(I.clientX,I.clientY):null;(t(M)||t(T.dom.getContentEditableParent(M)))&&I.preventDefault()})}(T)}}}),ge(kr,[We,Ft,_t,pt,kt,Gn,Cr,wr,Re,dt,Ct,ut,ve,et,xe,Sr],function(_,w,g,f,i,s,t,r,o,v,u,d,m,b,p,x){function h(C,k){for(;k=C(k);)if(k.isVisible())return k;return k}var l=m.curry,c=o.isContentEditableTrue,a=o.isContentEditableFalse,e=o.isElement,n=i.isAfterContentEditableFalse,y=i.isBeforeContentEditableFalse,S=v.getSelectedNode;return function(C){function I(ae){return C.dom.isBlock(ae)}function M(ae){ae&&C.selection.setRng(ae)}function D(){return C.selection.getRng()}function O(ae,we){C.selection.scrollIntoView(ae,we)}function L(ae,we,Pt){return C.fire("ShowCaret",{target:we,direction:ae,before:Pt}).isDefaultPrevented()?null:(O(we,-1===ae),pn.show(Pt,we))}function U(ae){return C.fire("BeforeObjectSelected",{target:ae}).isDefaultPrevented()?null:function(ae){var we=ae.ownerDocument.createRange();return we.selectNode(ae),we}(ae)}function P(ae,we){return we=i.normalizeRange(ae,vn,we),-1==ae?g.fromRangeStart(we):g.fromRangeEnd(we)}function pe(ae,we){var yt,K,ie;if(we.collapsed&&C.settings.forced_root_block){if(!(yt=C.dom.getParent(we.startContainer,"PRE")))return;(1==ae?nn(g.fromRangeStart(we)):bn(g.fromRangeStart(we)))||(ie=C.dom.create(C.settings.forced_root_block),(!_.ie||_.ie>=11)&&(ie.innerHTML='<br data-mce-bogus="1">'),K=ie,1==ae?C.$(yt).after(K):C.$(yt).before(K),C.selection.select(K,!0),C.selection.collapse())}}function Oe(ae,we,Pt,yt){var zt;return(zt=function(ae,we,Pt,yt){var zt,K,ie,A;return!yt.collapsed&&(zt=S(yt),a(zt))?L(ae,zt,-1==ae):(A=function(ae){return f.isCaretContainerBlock(ae.startContainer)}(yt),Pt(K=P(ae,yt))?U(K.getNode(-1==ae)):(K=we(K))?Pt(K)?L(ae,K.getNode(-1==ae),1==ae):Pt(ie=we(K))&&function(ae,we){var Pt=i.isInSameBlock(ae,we);return!(Pt||!o.isBr(ae.getNode()))||Pt}(K,ie)?L(ae,ie.getNode(-1==ae),1==ae):A?B(K.toRange()):null:A?yt:null)}(ae,we,Pt,yt))?zt:(zt=pe(ae,yt))||null}function Ve(ae,we,Pt){var yt;return(yt=function(ae,we,Pt){var yt,zt,K,ie,A,F,J,le,Te;if(Te=S(Pt),yt=P(ae,Pt),zt=we(vn,t.isAboveLine(1),yt),K=b.filter(zt,t.isLine(1)),A=b.last(yt.getClientRects()),y(yt)&&(Te=yt.getNode()),n(yt)&&(Te=yt.getNode(!0)),!A)return null;if((ie=r.findClosestClientRect(K,F=A.left))&&a(ie.node))return J=Math.abs(F-ie.left),le=Math.abs(F-ie.right),L(ae,ie.node,J<le);if(Te){var de=t.positionsUntil(ae,vn,t.isAboveLine(1),Te);if((ie=r.findClosestClientRect(b.filter(de,t.isLine(1)),F))||(ie=b.last(b.filter(de,t.isLine(0)))))return B(ie.position.toRange())}}(ae,we,Pt))?yt:(yt=pe(ae,Pt))||null}function je(ae){ae.hasAttribute("data-mce-caret")&&(f.showCaretContainerBlock(ae),M(D()),O(ae[0]))}function X(ae){var we,Pt;return ae=i.normalizeRange(1,vn,ae),we=g.fromRangeStart(ae),a(we.getNode())?L(1,we.getNode(),!we.isAtEnd()):a(we.getNode(!0))?L(1,we.getNode(!0),!1):(Pt=C.dom.getParent(we.getNode(),m.or(a,c)),a(Pt)?L(1,Pt,!1):null)}function B(ae){return ae&&ae.collapsed&&X(ae)||ae}function R(ae){var we,Pt,yt,zt;return a(ae)?(a(ae.previousSibling)&&(yt=ae.previousSibling),(Pt=bn(g.before(ae)))||(we=nn(g.after(ae))),we&&e(we.getNode())&&(zt=we.getNode()),f.remove(ae.previousSibling),f.remove(ae.nextSibling),C.dom.remove(ae),C.dom.isEmpty(C.getBody())?(C.setContent(""),void C.focus()):yt?g.after(yt).toRange():zt?g.before(zt).toRange():Pt?Pt.toRange():we?we.toRange():null):null}function z(ae){var we=C.schema.getTextBlockElements();return ae.nodeName in we}function G(ae){return C.dom.isEmpty(ae)}function se(ae,we,Pt){var zt,K,ie,A,yt=C.dom;if(zt=yt.getParent(we.getNode(),yt.isBlock),K=yt.getParent(Pt.getNode(),yt.isBlock),-1===ae){if(A=Pt.getNode(!0),n(Pt)&&I(A))return z(zt)?(G(zt)&&yt.remove(zt),g.after(A).toRange()):R(Pt.getNode(!0))}else if(A=we.getNode(),y(we)&&I(A))return z(K)?(G(K)&&yt.remove(K),g.before(A).toRange()):R(we.getNode());if(zt===K||!z(zt)||!z(K))return null;for(;ie=zt.firstChild;)K.appendChild(ie);return C.dom.remove(zt),Pt.toRange()}function ce(ae,we,Pt,yt){var zt,K,ie,A;return!yt.collapsed&&(zt=S(yt),a(zt))?B(R(zt)):Pt(K=P(ae,yt))&&f.isCaretContainerBlock(yt.startContainer)?(A=-1==ae?un.prev(K):un.next(K))?B(A.toRange()):yt:we(K)?B(R(K.getNode(-1==ae))):we(ie=-1==ae?un.prev(K):un.next(K))?-1===ae?se(ae,K,ie):se(ae,ie,K):void 0}function be(ae){return f.isCaretContainer(ae)||f.startsWithCaretContainer(ae)||f.endsWithCaretContainer(ae)}function Ne(ae){return be(ae.startContainer)||be(ae.endContainer)}function ke(ae){var we,zt,K,ie,A,F,J,le,Te,de,Pt=C.$,yt=C.dom;if(!ae)return null;if(ae.collapsed){if(!Ne(ae)){if(le=P(1,ae),a(le.getNode()))return L(1,le.getNode(),!le.isAtEnd());if(a(le.getNode(!0)))return L(1,le.getNode(!0),!1)}return null}return A=ae.startOffset,F=ae.endOffset,3==(ie=ae.startContainer).nodeType&&0==A&&a(ie.parentNode)&&(A=yt.nodeIndex(ie=ie.parentNode),ie=ie.parentNode),1!=ie.nodeType?null:(F==A+1&&(we=ie.childNodes[A]),a(we)?(Te=de=we.cloneNode(!0),(J=C.fire("ObjectSelected",{target:we,targetClone:Te})).isDefaultPrevented()?null:(Te=J.targetClone,0===(zt=Pt("#"+mn)).length&&(zt=Pt('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",mn)).appendTo(C.getBody()),ae=C.dom.createRng(),Te===de&&_.ie?(zt.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(Te),ae.setStartAfter(zt[0].firstChild.firstChild),ae.setEndAfter(Te)):(zt.empty().append("\xa0").append(Te).append("\xa0"),ae.setStart(zt[0].firstChild,1),ae.setEnd(zt[0].lastChild,0)),zt.css({top:yt.getPos(we,C.getBody()).y}),zt[0].focus(),(K=C.selection.getSel()).removeAllRanges(),K.addRange(ae),C.$("*[data-mce-selected]").removeAttr("data-mce-selected"),we.setAttribute("data-mce-selected",1),ze=we,en(),ae)):null)}function St(){ze&&(ze.removeAttribute("data-mce-selected"),C.$("#"+mn).remove(),ze=null)}function en(){pn.hide()}var ze,ae,we,vn=C.getBody(),un=new w(vn),nn=l(h,un.next),bn=l(h,un.prev),pn=new s(C.getBody(),I),mn="sel-"+C.dom.uniqueId(),tt=C.$;return _.ceFalse&&(function(){function ae(Z,Ee){if(!1===Z.isDefaultPrevented()){var ue=Ee(D());ue&&(Z.preventDefault(),M(ue))}}function we(Z){for(var Ee=C.getBody();Z&&Z!=Ee;){if(c(Z)||a(Z))return Z;Z=Z.parentNode}return null}var A=l(Oe,1,nn,y),F=l(Oe,-1,bn,n),J=l(ce,1,y,n),le=l(ce,-1,n,y),Te=l(Ve,-1,t.upUntil),de=l(Ve,1,t.downUntil);C.on("mouseup",function(){var Z=D();Z.collapsed&&M(X(Z))}),C.on("click",function(Z){var Ee;(Ee=we(Z.target))&&(a(Ee)&&(Z.preventDefault(),C.focus()),c(Ee)&&C.dom.isChildOf(Ee,C.selection.getNode())&&St())}),C.on("blur NewBlock",function(){St(),en()});var Z,Ee;Ee=!1,(Z=C).on("touchstart",function(){Ee=!1}),Z.on("touchmove",function(){Ee=!0}),Z.on("touchend",function(ue){var Ue=we(ue.target);a(Ue)&&(Ee||(ue.preventDefault(),ke(U(Ue))))}),C.on("mousedown",function(Z){var Ee;if(Ee=we(Z.target))a(Ee)?(Z.preventDefault(),ke(U(Ee))):function(Z,Ee,ue){return!ue.collapsed&&b.reduce(ue.getClientRects(),function(Ue,Ke){return Ue||u.containsXY(Ke,Z,Ee)},!1)}(Z.clientX,Z.clientY,C.selection.getRng())||C.selection.placeCaretAt(Z.clientX,Z.clientY);else{St(),en();var ue=r.closestCaret(vn,Z.clientX,Z.clientY);ue&&(function(Z,Ee){var ue=C.dom.getParent(Z,C.dom.isBlock),Ue=C.dom.getParent(Ee,C.dom.isBlock);return ue&&!function(Z,Ee){return C.dom.getParent(Z,C.dom.isBlock)===C.dom.getParent(Ee,C.dom.isBlock)}(ue,Ue)&&function(Z){var Ee=new w(Z);if(!Z.firstChild)return!1;var ue=g.before(Z.firstChild),Ue=Ee.next(ue);return Ue&&!y(Ue)&&!n(Ue)}(ue)}(Z.target,ue.node)||(Z.preventDefault(),C.getBody().focus(),M(L(1,ue.node,ue.before))))}}),C.on("keydown",function(Z){if(!d.modifierPressed(Z))switch(Z.keyCode){case d.RIGHT:ae(Z,A);break;case d.DOWN:ae(Z,de);break;case d.LEFT:ae(Z,F);break;case d.UP:ae(Z,Te);break;case d.DELETE:ae(Z,J);break;case d.BACKSPACE:ae(Z,le);break;default:a(C.selection.getNode())&&function(Z){return!(Z.keyCode>=112&&Z.keyCode<=123)}(Z)&&Z.preventDefault()}}),C.on("keyup compositionstart",function(Z){(function(Z){var Ee=tt("*[data-mce-caret]")[0];if(Ee)"compositionstart"==Z.type?(Z.preventDefault(),Z.stopPropagation(),je(Ee)):f.hasContent(Ee)&&je(Ee)})(Z),function(Z){var Ee;switch(Z.keyCode){case d.DELETE:case d.BACKSPACE:Ee=function(){var Z,Ee=we(C.selection.getNode());c(Ee)&&I(Ee)&&C.dom.isEmpty(Ee)&&(Z=C.dom.create("br",{"data-mce-bogus":"1"}),C.$(Ee).empty().append(Z),C.selection.setRng(g.before(Z).toRange()))}()}Ee&&Z.preventDefault()}(Z)},!0),C.on("cut",function(){var Z=C.selection.getNode();a(Z)&&p.setEditorTimeout(C,function(){M(B(R(Z)))})}),C.on("getSelectionRange",function(Z){var Ee=Z.range;if(ze){if(!ze.parentNode)return void(ze=null);(Ee=Ee.cloneRange()).selectNode(ze),Z.range=Ee}}),C.on("setSelectionRange",function(Z){var Ee;(Ee=ke(Z.range))&&(Z.range=Ee)}),C.on("AfterSetSelectionRange",function(Z){var Ee=Z.range;Ne(Ee)||en(),function(ae){return C.dom.hasClass(ae,"mce-offscreen-selection")}(Ee.startContainer.parentNode)||St()}),C.on("focus",function(){p.setEditorTimeout(C,function(){C.selection.setRng(B(C.selection.getRng()))},0)}),C.on("copy",function(Z){var Ee=Z.clipboardData;if(!Z.isDefaultPrevented()&&Z.clipboardData&&!_.ie){var ue=function(){var ae=C.dom.get(mn);return ae&&ae.getElementsByTagName("*")[0]}();ue&&(Z.preventDefault(),Ee.clearData(),Ee.setData("text/html",ue.outerHTML),Ee.setData("text/plain",ue.outerText))}}),x.init(C)}(),we=".mce-content-body",(ae=C.contentStyles).push(pn.getCss()),ae.push(we+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+we+" *[contentEditable=false] {cursor: default;}"+we+" *[contentEditable=true] {cursor: text;}")),{showBlockCaretContainer:je,hideFakeCaret:en,destroy:function(){pn.destroy(),ze=null}}}}),ge(rr,[],function(){var _=0;return{uuid:function(f){return f+_+++function(){var f=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+f()+f()+f()}()}}}),ge(_r,[],function(){return{add:function(w,g,f){var i=w.sidebars?w.sidebars:[];i.push({name:g,settings:f}),w.sidebars=i}}}),ge(ir,[oe,qe,fe,Le,Ce,Pe,Dt,sn,cn,mt,vt,Ye,$t,Fe,Be,$e,Xe,Gt,Se,Et,Zt,We,Me,xe,tn,fn,hn,Vn,kr,rr,_r,Wn],function(_,w,g,f,i,s,t,r,o,v,u,d,m,b,p,x,h,N,l,c,a,e,n,y,S,C,k,T,I,M,D,O){function L(X,B,R){var G,se,ce,z=this;G=z.documentBaseUrl=R.documentBaseURL,se=R.baseURI,B=P({id:X,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:G,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:z.convertURL,url_converter_scope:z,ie7_compat:!0},ce=R.defaultSettings,B),ce&&ce.external_plugins&&B.external_plugins&&(B.external_plugins=P({},ce.external_plugins,B.external_plugins)),z.settings=B,g.language=B.language||"en",g.languageLoad=B.language_load,g.baseURL=R.baseURL,z.id=B.id=X,z.setDirty(!1),z.plugins={},z.documentBaseURI=new b(B.document_base_url||G,{base_uri:se}),z.baseURI=se,z.contentCSS=[],z.contentStyles=[],z.shortcuts=new k(z),z.loadedCSS={},z.editorCommands=new m(z),z.suffix=R.suffix,z.editorManager=R,z.inline=B.inline,z.settings.content_editable=z.inline,B.cache_suffix&&(e.cacheSuffix=B.cache_suffix.replace(/^[\?\&]+/,"")),!1===B.override_viewport&&(e.overrideViewPort=!1),R.fire("SetupEditor",z),z.execCallback("setup",z),z.$=w.overrideDefaults(function(){return{context:z.inline?z.getBody():z.getDoc(),element:z.getBody()}})}var U=_.DOM,W=g.ThemeManager,E=g.PluginManager,P=n.extend,H=n.each,V=n.explode,Y=n.inArray,pe=n.trim,Oe=n.resolve,Ve=x.Event,rt=e.gecko,je=e.ie;return L.prototype={render:function(){var R=this,z=R.settings,G=R.id,se=R.suffix;if(Ve.domLoaded){if(R.getElement()&&e.contentEditable){z.inline?R.inline=!0:(R.orgVisibility=R.getElement().style.visibility,R.getElement().style.visibility="hidden");var ce=R.getElement().form||U.getParent(G,"form");ce&&(R.formElement=ce,z.hidden_input&&!/TEXTAREA|INPUT/i.test(R.getElement().nodeName)&&(U.insertAfter(U.create("input",{type:"hidden",name:G}),G),R.hasHiddenInput=!0),R.formEventDelegate=function(ee){R.fire(ee.type,ee)},U.bind(ce,"submit reset",R.formEventDelegate),R.on("reset",function(){R.setContent(R.startContent,{format:"raw"})}),!z.submit_patch||ce.submit.nodeType||ce.submit.length||ce._mceOldSubmit||(ce._mceOldSubmit=ce.submit,ce.submit=function(){return R.editorManager.triggerSave(),R.setDirty(!1),ce._mceOldSubmit(ce)})),R.windowManager=new h(R),R.notificationManager=new N(R),"xml"==z.encoding&&R.on("GetContent",function(ee){ee.save&&(ee.content=U.encode(ee.content))}),z.add_form_submit_trigger&&R.on("submit",function(){R.initialized&&R.save()}),z.add_unload_trigger&&(R._beforeUnload=function(){!R.initialized||R.destroyed||R.isHidden()||R.save({format:"raw",no_events:!0,set_dirty:!1})},R.editorManager.on("BeforeUnload",R._beforeUnload)),R.editorManager.add(R),function(){var ee=p.ScriptLoader;if(z.language&&"en"!=z.language&&!z.language_url&&(z.language_url=R.editorManager.baseURL+"/langs/"+z.language+".js"),z.language_url&&ee.add(z.language_url),z.theme&&"function"!=typeof z.theme&&"-"!=z.theme.charAt(0)&&!W.urls[z.theme]){var _e=z.theme_url;_e=_e?R.documentBaseURI.toAbsolute(_e):"themes/"+z.theme+"/theme"+se+".js",W.load(z.theme,_e)}n.isArray(z.plugins)&&(z.plugins=z.plugins.join(" ")),H(z.external_plugins,function(be,Ne){E.load(Ne,be),z.plugins+=" "+Ne}),H(z.plugins.split(/[ ,]/),function(be){if((be=pe(be))&&!E.urls[be])if("-"==be.charAt(0)){be=be.substr(1,be.length);var Ne=E.dependencies(be);H(Ne,function(ke){ke=E.createUrl({prefix:"plugins/",resource:ke,suffix:"/plugin"+se+".js"},ke),E.load(ke.resource,ke)})}else E.load(be,{prefix:"plugins/",resource:be,suffix:"/plugin"+se+".js"})}),ee.loadQueue(function(){R.removed||R.init()},R,function(be){O.pluginLoadError(R,be[0]),R.removed||R.init()})}()}}else U.bind(window,"ready",function X(){U.unbind(window,"ready",X),R.render()})},init:function(){var G,se,ce,ee,_e,be,Ne,ke,St,Wt,en,B=this,R=B.settings,z=B.getElement(),vn=[];if(B.rtl=R.rtl_ui||B.editorManager.i18n.rtl,B.editorManager.i18n.setCode(R.language),R.aria_label=R.aria_label||U.getAttrib(z,"aria-label",B.getLang("aria.rich_text_area")),B.fire("ScriptsLoaded"),R.theme&&("function"!=typeof R.theme?(R.theme=R.theme.replace(/-/,""),be=W.get(R.theme),B.theme=new be(B,W.urls[R.theme]),B.theme.init&&B.theme.init(B,W.urls[R.theme]||B.documentBaseUrl.replace(/\/$/,""),B.$)):B.theme=R.theme),H(R.plugins.replace(/\-/g,"").split(/[ ,]/),function X(pn){var ze,tt,mn=E.get(pn);if(ze=E.urls[pn]||B.documentBaseUrl.replace(/\/$/,""),pn=pe(pn),mn&&-1===Y(vn,pn)){if(H(E.dependencies(pn),function(ae){X(ae)}),B.plugins[pn])return;tt=new mn(B,ze,B.$),B.plugins[pn]=tt,tt.init&&(tt.init(B,ze),vn.push(pn))}}),R.render_ui&&B.theme&&(B.orgDisplay=z.style.display,"function"!=typeof R.theme?(se=R.height||z.style.height||z.offsetHeight,ce=R.min_height||100,(Wt=/^[0-9\.]+(|px)$/i).test(""+(G=R.width||z.style.width||z.offsetWidth))&&(G=Math.max(parseInt(G,10),100)),Wt.test(""+se)&&(se=Math.max(parseInt(se,10),ce)),_e=B.theme.renderUI({targetNode:z,width:G,height:se,deltaWidth:R.delta_width,deltaHeight:R.delta_height}),R.content_editable||(se=(_e.iframeHeight||se)+("number"==typeof se?_e.deltaHeight||0:""))<ce&&(se=ce)):((_e=R.theme(B,z)).editorContainer.nodeType&&(_e.editorContainer.id=_e.editorContainer.id||B.id+"_parent"),_e.iframeContainer.nodeType&&(_e.iframeContainer.id=_e.iframeContainer.id||B.id+"_iframecontainer"),se=_e.iframeHeight||z.offsetHeight),B.editorContainer=_e.editorContainer),R.content_css&&H(V(R.content_css),function(pn){B.contentCSS.push(B.documentBaseURI.toAbsolute(pn))}),R.content_style&&B.contentStyles.push(R.content_style),R.content_editable)return z=ee=_e=null,B.initContentBody();if(B.iframeHTML=R.doctype+"<html><head>",R.document_base_url!=B.documentBaseUrl&&(B.iframeHTML+='<base href="'+B.documentBaseURI.getURI()+'" />'),!e.caretAfter&&R.ie7_compat&&(B.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),B.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',!/#$/.test(document.location.href))for(en=0;en<B.contentCSS.length;en++){var un=B.contentCSS[en];B.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+n._addCacheSuffix(un)+'" />',B.loadedCSS[un]=!0}-1!=(ke=R.body_id||"tinymce").indexOf("=")&&(ke=(ke=B.getParam("body_id","","hash"))[B.id]||ke),-1!=(St=R.body_class||"").indexOf("=")&&(St=(St=B.getParam("body_class","","hash"))[B.id]||""),R.content_security_policy&&(B.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+R.content_security_policy+'" />'),B.iframeHTML+='</head><body id="'+ke+'" class="mce-content-body '+St+'" data-id="'+B.id+'"><br></body></html>';var nn='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+B.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&e.ie&&e.ie<12&&(Ne=nn);var bn=U.create("iframe",{id:B.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:B.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:se,display:"block"}});if(bn.onload=function(){bn.onload=null,B.fire("load")},U.setAttrib(bn,"src",Ne||'javascript:""'),B.contentAreaContainer=_e.iframeContainer,B.iframeElement=bn,ee=U.add(_e.iframeContainer,bn),je)try{B.getDoc()}catch(pn){ee.src=Ne=nn}_e.editorContainer&&(U.get(_e.editorContainer).style.display=B.orgDisplay,B.hidden=U.isHidden(_e.editorContainer)),B.getElement().style.display="none",U.setAttrib(B.id,"aria-hidden",!0),Ne||B.initContentBody(),z=ee=_e=null},initContentBody:function(X){var se,ce,B=this,R=B.settings,z=B.getElement(),G=B.getDoc();R.inline||(B.getElement().style.visibility=B.orgVisibility),X||R.content_editable||(G.open(),G.write(B.iframeHTML),G.close()),R.content_editable&&(B.on("remove",function(){var ee=this.getBody();U.removeClass(ee,"mce-content-body"),U.removeClass(ee,"mce-edit-focus"),U.setAttrib(ee,"contentEditable",null)}),U.addClass(z,"mce-content-body"),B.contentDocument=G=R.content_document||document,B.contentWindow=R.content_window||window,B.bodyElement=z,R.content_document=R.content_window=null,R.root_name=z.nodeName.toLowerCase()),(se=B.getBody()).disabled=!0,B.readonly=R.readonly,B.readonly||(B.inline&&"static"==U.getStyle(se,"position",!0)&&(se.style.position="relative"),se.contentEditable=B.getParam("content_editable_state",!0)),se.disabled=!1,B.editorUpload=new T(B),B.schema=new l(R),B.dom=new _(G,{keep_values:!0,url_converter:B.convertURL,url_converter_scope:B,hex_colors:R.force_hex_style_colors,class_filter:R.class_filter,update_styles:!0,root_element:B.inline?B.getBody():null,collect:R.content_editable,schema:B.schema,onSetAttrib:function(ee){B.fire("SetAttrib",ee)}}),B.parser=new c(R,B.schema),B.parser.addAttributeFilter("src,href,style,tabindex",function(ee,_e){for(var Ne,St,Wt,be=ee.length,ke=B.dom;be--;)if(St=(Ne=ee[be]).attr(_e),!Ne.attributes.map[Wt="data-mce-"+_e]){if(0===St.indexOf("data:")||0===St.indexOf("blob:"))continue;"style"===_e?((St=ke.serializeStyle(ke.parseStyle(St),Ne.name)).length||(St=null),Ne.attr(Wt,St),Ne.attr(_e,St)):"tabindex"===_e?(Ne.attr(Wt,St),Ne.attr(_e,null)):Ne.attr(Wt,B.convertURL(St,_e,Ne.name))}}),B.parser.addNodeFilter("script",function(ee){for(var be,Ne,_e=ee.length;_e--;)0!==(Ne=(be=ee[_e]).attr("type")||"no/type").indexOf("mce-")&&be.attr("type","mce-"+Ne)}),B.parser.addNodeFilter("#cdata",function(ee){for(var be,_e=ee.length;_e--;)(be=ee[_e]).type=8,be.name="#comment",be.value="[CDATA["+be.value+"]]"}),B.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(ee){for(var be,_e=ee.length,Ne=B.schema.getNonEmptyElements();_e--;)(be=ee[_e]).isEmpty(Ne)&&0===be.getAll("br").length&&(be.append(new i("br",1)).shortEnded=!0)}),B.serializer=new s(R,B),B.selection=new r(B.dom,B.getWin(),B.serializer,B),B.formatter=new o(B),B.undoManager=new v(B),B.forceBlocks=new d(B),B.enterKey=new u(B),B._nodeChangeDispatcher=new f(B),B._selectionOverrides=new I(B),B.fire("PreInit"),R.browser_spellcheck||R.gecko_spellcheck||(G.body.spellcheck=!1,U.setAttrib(se,"spellcheck","false")),B.quirks=new a(B),B.fire("PostRender"),R.directionality&&(se.dir=R.directionality),R.nowrap&&(se.style.whiteSpace="nowrap"),R.protect&&B.on("BeforeSetContent",function(ee){H(R.protect,function(_e){ee.content=ee.content.replace(_e,function(be){return"\x3c!--mce:protected "+escape(be)+"--\x3e"})})}),B.on("SetContent",function(){B.addVisual(B.getBody())}),R.padd_empty_editor&&B.on("PostProcess",function(ee){ee.content=ee.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),B.load({initial:!0,format:"html"}),B.startContent=B.getContent({format:"raw"}),B.initialized=!0,B.bindPendingEventDelegates(),B.fire("init"),B.focus(!0),B.nodeChanged({initial:!0}),B.execCallback("init_instance_callback",B),B.on("compositionstart compositionend",function(ee){B.composing="compositionstart"===ee.type}),B.contentStyles.length>0&&(ce="",H(B.contentStyles,function(ee){ce+=ee+"\r\n"}),B.dom.addStyle(ce)),H(B.contentCSS,function(ee){B.loadedCSS[ee]||(B.dom.loadCSS(ee),B.loadedCSS[ee]=!0)}),R.auto_focus&&y.setEditorTimeout(B,function(){var ee;(ee=!0===R.auto_focus?B:B.editorManager.get(R.auto_focus)).destroyed||ee.focus()},100),z=G=se=null},focus:function(X){var se,ce,be,Ne,R=this,z=R.selection,G=R.settings.content_editable,ee=R.getDoc(),_e=R.getBody();if(!X){if((se=z.getRng()).item&&(ce=se.item(0)),R.quirks.refreshContentEditable(),Ne=z.getNode(),be=R.dom.getParent(Ne,function(ke){return"true"===R.dom.getContentEditable(ke)}),R.$.contains(_e,be))return be.focus(),z.normalize(),void R.editorManager.setActive(R);if(G||(e.opera||R.getBody().focus(),R.getWin().focus()),rt||G){if(_e.setActive)try{_e.setActive()}catch(Ne){_e.focus()}else _e.focus();G&&z.normalize()}ce&&ce.ownerDocument==ee&&((se=ee.body.createControlRange()).addElement(ce),se.select())}R.editorManager.setActive(R)},execCallback:function(X){var z,B=this,R=B.settings[X];if(R)return B.callbackLookup&&(z=B.callbackLookup[X])&&(R=z.func,z=z.scope),"string"==typeof R&&(z=(z=R.replace(/\.\w+$/,""))?Oe(z):0,R=Oe(R),B.callbackLookup=B.callbackLookup||{},B.callbackLookup[X]={func:R,scope:z}),R.apply(z||B,Array.prototype.slice.call(arguments,1))},translate:function(X){var B=this.settings.language||"en",R=this.editorManager.i18n;return X?(X=R.data[B+"."+X]||X.replace(/\{\#([^\}]+)\}/g,function(z,G){return R.data[B+"."+G]||"{#"+G+"}"}),this.editorManager.translate(X)):""},getLang:function(X,B){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+X]||(B!==Xt?B:"{#"+X+"}")},getParam:function(X,B,R){var G,z=X in this.settings?this.settings[X]:B;return"hash"===R?(G={},"string"==typeof z?H(z.indexOf("=")>0?z.split(/[;,](?![^=;,]*(?:[;,]|$))/):z.split(","),function(se){se=se.split("="),G[pe(se[0])]=pe(se.length>1?se[1]:se)}):G=z,G):z},nodeChanged:function(X){this._nodeChangeDispatcher.nodeChanged(X)},addButton:function(X,B){var R=this;B.cmd&&(B.onclick=function(){R.execCommand(B.cmd)}),B.text||B.icon||(B.icon=X),R.buttons=R.buttons||{},B.tooltip=B.tooltip||B.title,R.buttons[X]=B},addSidebar:function(X,B){return D.add(this,X,B)},addMenuItem:function(X,B){var R=this;B.cmd&&(B.onclick=function(){R.execCommand(B.cmd)}),R.menuItems=R.menuItems||{},R.menuItems[X]=B},addContextToolbar:function(X,B){var z,R=this;R.contextToolbars=R.contextToolbars||[],"string"==typeof X&&(z=X,X=function(G){return R.dom.is(G,z)}),R.contextToolbars.push({id:M.uuid("mcet"),predicate:X,items:B})},addCommand:function(X,B,R){this.editorCommands.addCommand(X,B,R)},addQueryStateHandler:function(X,B,R){this.editorCommands.addQueryStateHandler(X,B,R)},addQueryValueHandler:function(X,B,R){this.editorCommands.addQueryValueHandler(X,B,R)},addShortcut:function(X,B,R,z){this.shortcuts.add(X,B,R,z)},execCommand:function(X,B,R,z){return this.editorCommands.execCommand(X,B,R,z)},queryCommandState:function(X){return this.editorCommands.queryCommandState(X)},queryCommandValue:function(X){return this.editorCommands.queryCommandValue(X)},queryCommandSupported:function(X){return this.editorCommands.queryCommandSupported(X)},show:function(){var X=this;X.hidden&&(X.hidden=!1,X.inline?X.getBody().contentEditable=!0:(U.show(X.getContainer()),U.hide(X.id)),X.load(),X.fire("show"))},hide:function(){var X=this,B=X.getDoc();X.hidden||(je&&B&&!X.inline&&B.execCommand("SelectAll"),X.save(),X.inline?(X.getBody().contentEditable=!1,X==X.editorManager.focusedEditor&&(X.editorManager.focusedEditor=null)):(U.hide(X.getContainer()),U.setStyle(X.id,"display",X.orgDisplay)),X.hidden=!0,X.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(X,B){this.fire("ProgressState",{state:X,time:B})},load:function(X){var z,B=this,R=B.getElement();if(R)return(X=X||{}).load=!0,z=B.setContent(R.value!==Xt?R.value:R.innerHTML,X),X.element=R,X.no_events||B.fire("LoadContent",X),X.element=R=null,z},save:function(X){var z,G,B=this,R=B.getElement();if(R&&B.initialized)return(X=X||{}).save=!0,X.element=R,X.content=B.getContent(X),X.no_events||B.fire("SaveContent",X),"raw"==X.format&&B.fire("RawSaveContent",X),z=X.content,/TEXTAREA|INPUT/i.test(R.nodeName)?R.value=z:(B.inline||(R.innerHTML=z),(G=U.getParent(B.id,"form"))&&H(G.elements,function(se){if(se.name==B.id)return se.value=z,!1})),X.element=R=null,!1!==X.set_dirty&&B.setDirty(!1),z},setContent:function(X,B){var G,se,R=this,z=R.getBody();return(B=B||{}).format=B.format||"html",B.set=!0,B.content=X,B.no_events||R.fire("BeforeSetContent",B),0===(X=B.content).length||/^\s+$/.test(X)?(se=je&&je<11?"":'<br data-mce-bogus="1">',"TABLE"==z.nodeName?X="<tr><td>"+se+"</td></tr>":/^(UL|OL)$/.test(z.nodeName)&&(X="<li>"+se+"</li>"),(G=R.settings.forced_root_block)&&R.schema.isValidChild(z.nodeName.toLowerCase(),G.toLowerCase())?X=R.dom.createHTML(G,R.settings.forced_root_block_attrs,X=se):je||X||(X='<br data-mce-bogus="1">'),R.dom.setHTML(z,X),R.fire("SetContent",B)):("raw"!==B.format&&(X=new t({validate:R.validate},R.schema).serialize(R.parser.parse(X,{isRootContent:!0}))),B.content=pe(X),R.dom.setHTML(z,B.content),B.no_events||R.fire("SetContent",B)),B.content},getContent:function(X){var R,B=this,z=B.getBody();return(X=X||{}).format=X.format||"html",X.get=!0,X.getInner=!0,X.no_events||B.fire("BeforeGetContent",X),R="raw"==X.format?n.trim(B.serializer.getTrimmedContent()):"text"==X.format?z.innerText||z.textContent:B.serializer.serialize(z,X),X.content="text"!=X.format?pe(R):R,X.no_events||B.fire("GetContent",X),X.content},insertContent:function(X,B){B&&(X=P({content:X},B)),this.execCommand("mceInsertContent",!1,X)},isDirty:function(){return!this.isNotDirty},setDirty:function(X){var B=!this.isNotDirty;this.isNotDirty=!X,X&&X!=B&&this.fire("dirty")},setMode:function(X){C.setMode(this,X)},getContainer:function(){var X=this;return X.container||(X.container=U.get(X.editorContainer||X.id+"_parent")),X.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=U.get(this.id)),this.targetElm},getWin:function(){var B,X=this;return X.contentWindow||(B=X.iframeElement)&&(X.contentWindow=B.contentWindow),X.contentWindow},getDoc:function(){var B,X=this;return X.contentDocument||(B=X.getWin())&&(X.contentDocument=B.document),X.contentDocument},getBody:function(){var X=this.getDoc();return this.bodyElement||(X?X.body:null)},convertURL:function(X,B,R){var z=this,G=z.settings;return G.urlconverter_callback?z.execCallback("urlconverter_callback",X,R,!0,B):!G.convert_urls||R&&"LINK"==R.nodeName||0===X.indexOf("file:")||0===X.length?X:G.relative_urls?z.documentBaseURI.toRelative(X):X=z.documentBaseURI.toAbsolute(X,G.remove_script_host)},addVisual:function(X){var G,B=this,R=B.settings,z=B.dom;X=X||B.getBody(),B.hasVisual===Xt&&(B.hasVisual=R.visual),H(z.select("table,a",X),function(se){var ce;switch(se.nodeName){case"TABLE":return G=R.visual_table_class||"mce-item-table",void((ce=z.getAttrib(se,"border"))&&"0"!=ce||!B.hasVisual?z.removeClass(se,G):z.addClass(se,G));case"A":return void(z.getAttrib(se,"href",!1)||(ce=z.getAttrib(se,"name")||se.id,G=R.visual_anchor_class||"mce-item-anchor",ce&&B.hasVisual?z.addClass(se,G):z.removeClass(se,G)))}}),B.fire("VisualAid",{element:X,hasVisual:B.hasVisual})},remove:function(){var X=this;X.removed||(X.save(),X.removed=1,X.unbindAllNativeEvents(),X.hasHiddenInput&&U.remove(X.getElement().nextSibling),X.inline||(je&&je<10&&X.getDoc().execCommand("SelectAll",!1,null),U.setStyle(X.id,"display",X.orgDisplay),X.getBody().onload=null),X.fire("remove"),X.editorManager.remove(X),U.remove(X.getContainer()),X._selectionOverrides.destroy(),X.editorUpload.destroy(),X.destroy())},destroy:function(X){var R,B=this;if(!B.destroyed){if(!X&&!B.removed)return void B.remove();X||(B.editorManager.off("beforeunload",B._beforeUnload),B.theme&&B.theme.destroy&&B.theme.destroy(),B.selection.destroy(),B.dom.destroy()),(R=B.formElement)&&(R._mceOldSubmit&&(R.submit=R._mceOldSubmit,R._mceOldSubmit=null),U.unbind(R,"submit reset",B.formEventDelegate)),B.contentAreaContainer=B.formElement=B.container=B.editorContainer=null,B.bodyElement=B.contentDocument=B.contentWindow=null,B.iframeElement=B.targetElm=null,B.selection&&(B.selection=B.selection.win=B.selection.dom=B.selection.dom.doc=null),B.destroyed=1}},uploadImages:function(X){return this.editorUpload.uploadImages(X)},_scanForImages:function(){return this.editorUpload.scanForImages()}},P(L.prototype,S),L}),ge(or,[Me],function(_){var w={},g="en";return{setCode:function(f){f&&(g=f,this.rtl=!!this.data[f]&&"rtl"===this.data[f]._dir)},getCode:function(){return g},rtl:!1,add:function(f,i){var s=w[f];for(var t in s||(w[f]=s={}),i)s[t]=i[t];this.setCode(f)},translate:function(f){function i(v){return _.is(v,"function")?Object.prototype.toString.call(v):s(v)?"":""+v}function s(v){return""===v||null===v||_.is(v,"undefined")}function t(v){return v=i(v),_.hasOwn(r,v)?i(r[v]):v}var r=w[g]||{};if(s(f))return"";if(_.is(f,"object")&&_.hasOwn(f,"raw"))return i(f.raw);if(_.is(f,"array")){var o=f.slice(1);f=t(f[0]).replace(/\{([0-9]+)\}/g,function(v,u){return _.hasOwn(o,u)?i(o[u]):v})}return t(f).replace(/{context:\w+}$/,"")},data:w}}),ge(ar,[oe,xe,We],function(_,w,g){function f(v){function u(){try{return document.activeElement}catch(x){return document.body}}v.on("AddEditor",function(x){var h=x.editor;h.on("init",function(){(h.inline||g.ie)&&("onbeforedeactivate"in document&&g.ie<9?h.dom.bind(h.getBody(),"beforedeactivate",function(N){if(N.target==h.getBody())try{h.lastRng=h.selection.getRng()}catch(l){}}):h.on("nodechange mouseup keyup",function(N){var l=u();"nodechange"==N.type&&N.selectionChange||(l&&l.id==h.id+"_ifr"&&(l=h.getBody()),h.dom.isChildOf(l,h.getBody())&&(h.lastRng=h.selection.getRng()))}),g.webkit&&!i&&(i=function(){var N=v.activeEditor;if(N&&N.selection){var l=N.selection.getRng();l&&!l.collapsed&&(h.lastRng=l)}},r.bind(document,"selectionchange",i)))}),h.on("setcontent",function(){h.lastRng=null}),h.on("mousedown",function(){h.selection.lastFocusBookmark=null}),h.on("focusin",function(){var l,N=v.focusedEditor;h.selection.lastFocusBookmark&&(l=function(x,h){var N;return h.startContainer?((N=x.getDoc().createRange()).setStart(h.startContainer,h.startOffset),N.setEnd(h.endContainer,h.endOffset)):N=h,N}(h,h.selection.lastFocusBookmark),h.selection.lastFocusBookmark=null,h.selection.setRng(l)),N!=h&&(N&&N.fire("blur",{focusedEditor:h}),v.setActive(h),v.focusedEditor=h,h.fire("focus",{blurredEditor:N}),h.focus(!0)),h.lastRng=null}),h.on("focusout",function(){w.setEditorTimeout(h,function(){var N=v.focusedEditor;o(h,u())||N!=h||(h.fire("blur",{focusedEditor:null}),v.focusedEditor=null,h.selection&&(h.selection.lastFocusBookmark=null))})}),s||(s=function(N){var c,l=v.activeEditor;c=N.target,l&&c.ownerDocument==document&&(l.selection&&c!=l.getBody()&&(l.selection.lastFocusBookmark=function(x,h){return h&&h.startContainer?x.isChildOf(h.startContainer,x.getRoot())&&x.isChildOf(h.endContainer,x.getRoot())?{startContainer:h.startContainer,startOffset:h.startOffset,endContainer:h.endContainer,endOffset:h.endOffset}:void 0:h}(l.dom,l.lastRng)),c==document.body||o(l,c)||v.focusedEditor!=l||(l.fire("blur",{focusedEditor:null}),v.focusedEditor=null))},r.bind(document,"focusin",s)),h.inline&&!t&&(t=function(N){var l=v.activeEditor,c=l.dom;if(l.inline&&c&&!c.isChildOf(N.target,l.getBody())){var a=l.selection.getRng();a.collapsed||(l.lastRng=a)}},r.bind(document,"mouseup",t))}),v.on("RemoveEditor",function(x){v.focusedEditor==x.editor&&(v.focusedEditor=null),v.activeEditor||(r.unbind(document,"selectionchange",i),r.unbind(document,"focusin",s),r.unbind(document,"mouseup",t),i=s=t=null)})}var i,s,t,r=_.DOM,o=function(v,u){var d=v?v.settings.custom_ui_selector:"";return null!==r.getParent(u,function(b){return f.isEditorUIElement(b)||!!d&&v.dom.is(b,d)})};return f.isEditorUIElement=function(v){return-1!==v.className.toString().indexOf("mce-")},f._isUIElement=o,f}),ge(Qn,[ir,qe,oe,Fe,We,Me,j,bt,or,ar,fe],function(_,w,g,f,i,s,t,r,o,v,u){function d(y){N(e.editors,function(S){S.fire("scroll"===y.type?"ScrollWindow":"ResizeWindow",y)})}function m(y,S){S!==n&&(S?w(window).on("resize scroll",d):w(window).off("resize scroll",d),n=S)}function b(y){var C,S=e.editors;delete S[y.id];for(var k=0;k<S.length;k++)if(S[k]==y){S.splice(k,1),C=!0;break}return e.activeEditor==y&&(e.activeEditor=S[0]),e.focusedEditor==y&&(e.focusedEditor=null),C}var a,e,x=g.DOM,h=s.explode,N=s.each,l=s.extend,c=0,n=!1;return e={$:w,majorVersion:"4",minorVersion:"5.7",releaseDate:"2017-04-25",editors:[],i18n:o,activeEditor:null,setup:function(){var S,C,T,I,y=this,k="";if(C=f.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(C)&&(C=C.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(C)||(C+="/")),T=window.tinymce||window.tinyMCEPreInit)S=T.base||T.baseURL,k=T.suffix;else{for(var M=document.getElementsByTagName("script"),D=0;D<M.length;D++){var O=(I=M[D].src).substring(I.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(I)){-1!=O.indexOf(".min")&&(k=".min"),S=I.substring(0,I.lastIndexOf("/"));break}}!S&&document.currentScript&&(-1!=(I=document.currentScript.src).indexOf(".min")&&(k=".min"),S=I.substring(0,I.lastIndexOf("/")))}y.baseURL=new f(C).toAbsolute(S),y.documentBaseURL=C,y.baseURI=new f(y.baseURL),y.suffix=k,y.focusManager=new v(y)},overrideDefaults:function(y){var S;(S=y.base_url)&&(this.baseURL=new f(this.documentBaseURL).toAbsolute(S.replace(/\/+$/,"")),this.baseURI=new f(this.baseURL)),y.suffix&&(this.suffix=y.suffix),this.defaultSettings=y;var k=y.plugin_base_urls;for(var T in k)u.PluginManager.urls[T]=k[T]},init:function(y){function k(E){var P=E.id;return P||(P=(P=E.name)&&!x.get(P)?E.name:x.uniqueId(),E.setAttribute("id",P)),P}function I(E,P){return P.constructor===RegExp?P.test(E.className):x.hasClass(E,P)}var L,U,O=this;U=s.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var W=function(E){L=E};return O.settings=y,x.bind(window,"ready",function D(){function E(Y,pe,Oe){var Ve=new _(Y,pe,O);H.push(Ve),Ve.on("init",function(){++P===V.length&&W(H)}),Ve.targetElm=Ve.targetElm||Oe,Ve.render()}var V,P=0,H=[];return x.unbind(window,"ready",D),function(E){var P=y[E];P&&P.apply(O,Array.prototype.slice.call(arguments,2))}("onpageload"),V=w.unique(function(E){var P,H=[];if(E.types)return N(E.types,function(V){H=H.concat(x.select(V.selector))}),H;if(E.selector)return x.select(E.selector);if(E.target)return[E.target];switch(E.mode){case"exact":(P=E.elements||"").length>0&&N(h(P),function(V){var Y;(Y=x.get(V))?H.push(Y):N(document.forms,function(pe){N(pe.elements,function(Oe){Oe.name===V&&(V="mce_editor_"+c++,x.setAttrib(Oe,"id",V),H.push(Oe))})})});break;case"textareas":case"specific_textareas":N(x.select("textarea"),function(V){E.editor_deselector&&I(V,E.editor_deselector)||E.editor_selector&&!I(V,E.editor_selector)||H.push(V)})}return H}(y)),y.types?void N(y.types,function(Y){s.each(V,function(pe){return!x.is(pe,Y.selector)||(E(k(pe),l({},y,Y),pe),!1)})}):(s.each(V,function(Y){!function(y){y&&y.initialized&&!(y.getContainer()||y.getBody()).parentNode&&(b(y),y.unbindAllNativeEvents(),y.destroy(!0),y.removed=!0,y=null)}(O.get(Y.id))}),V=s.grep(V,function(Y){return!O.get(Y.id)}),void N(V,function(Y){!function(E,P){return E.inline&&P.tagName.toLowerCase()in U}(y,Y)?E(k(Y),y,Y):function(E,P){window.console&&!window.test&&window.console.log("Could not initialize inline editor on invalid inline target element",P)}(0,Y)}))}),new t(function(E){L?E(L):W=function(P){E(P)}})},get:function(y){return arguments.length?y in this.editors?this.editors[y]:null:this.editors},add:function(y){var S=this,C=S.editors;return C[y.id]=y,C.push(y),m(0,!0),S.activeEditor=y,S.fire("AddEditor",{editor:y}),a||(a=function(){S.fire("BeforeUnload")},x.bind(window,"beforeunload",a)),y},createEditor:function(y,S){return this.add(new _(y,S,this))},remove:function(y){var C,T,S=this,k=S.editors;if(y)return"string"==typeof y?void N(x.select(y=y.selector||y),function(I){(T=k[I.id])&&S.remove(T)}):k[(T=y).id]?(b(T)&&S.fire("RemoveEditor",{editor:T}),k.length||x.unbind(window,"beforeunload",a),T.remove(),m(0,k.length>0),T):null;for(C=k.length-1;C>=0;C--)S.remove(k[C])},execCommand:function(y,S,C){var k=this,T=k.get(C);switch(y){case"mceAddEditor":return k.get(C)||new _(C,k.settings,k).render(),!0;case"mceRemoveEditor":return T&&T.remove(),!0;case"mceToggleEditor":return T?(T.isHidden()?T.show():T.hide(),!0):(k.execCommand("mceAddEditor",0,C),!0)}return!!k.activeEditor&&k.activeEditor.execCommand(y,S,C)},triggerSave:function(){N(this.editors,function(y){y.save()})},addI18n:function(y,S){o.add(y,S)},translate:function(y){return o.translate(y)},setActive:function(y){var S=this.activeEditor;this.activeEditor!=y&&(S&&S.fire("deactivate",{relatedTarget:y}),y.fire("activate",{relatedTarget:S})),this.activeEditor=y}},l(e,r),e.setup(),window.tinymce=window.tinyMCE=e,e}),ge("tinymce/LegacyInput",[Qn,Me],function(_,w){var g=w.each,f=w.explode;_.on("AddEditor",function(i){var s=i.editor;s.on("preInit",function(){function t(m,b){g(b,function(p,x){p&&u.setStyle(m,x,p)}),u.rename(m,"span")}var o,v,u,d=s.settings;d.inline_styles&&(v=f(d.font_size_legacy_values),o={font:function(m,b){t(b,{backgroundColor:b.style.backgroundColor,color:b.color,fontFamily:b.face,fontSize:v[parseInt(b.size,10)-1]})},u:function(m,b){"html4"===s.settings.schema&&t(b,{textDecoration:"underline"})},strike:function(m,b){t(b,{textDecoration:"line-through"})}},s.on("PreProcess SetContent",function(m){u=s.dom,d.convert_fonts_to_spans&&g(u.select("font,u,strike",m.node),function(b){o[b.nodeName.toLowerCase()](u,b)})}))})})}),ge(sr,[bt,Me],function(_,w){var g={send:function(f){function i(){!f.async||4==s.readyState||t++>1e4?(f.success&&t<1e4&&200==s.status?f.success.call(f.success_scope,""+s.responseText,s,f):f.error&&f.error.call(f.error_scope,t>1e4?"TIMED_OUT":"GENERAL",s,f),s=null):setTimeout(i,10)}var s,t=0;if(f.scope=f.scope||this,f.success_scope=f.success_scope||f.scope,f.error_scope=f.error_scope||f.scope,f.async=!1!==f.async,f.data=f.data||"",g.fire("beforeInitialize",{settings:f}),s=new XMLHttpRequest){if(s.overrideMimeType&&s.overrideMimeType(f.content_type),s.open(f.type||(f.data?"POST":"GET"),f.url,f.async),f.crossDomain&&(s.withCredentials=!0),f.content_type&&s.setRequestHeader("Content-Type",f.content_type),f.requestheaders&&w.each(f.requestheaders,function(r){s.setRequestHeader(r.key,r.value)}),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),(s=g.fire("beforeSend",{xhr:s,settings:f}).xhr).send(f.data),!f.async)return i();setTimeout(i,10)}}};return w.extend(g,_),g}),ge(lr,[],function(){return{serialize:function _(w,g){var f,i,s,t;if(g=g||'"',null===w)return"null";if("string"==(s=typeof w))return i="\bb\tt\nn\ff\rr\"\"''\\\\",g+w.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(r,o){return'"'===g&&"'"===r?r:(f=i.indexOf(o))+1?"\\"+i.charAt(f+1):(r=o.charCodeAt().toString(16),"\\u"+"0000".substring(r.length)+r)})+g;if("object"==s){if(w.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(w)){for(f=0,i="[";f<w.length;f++)i+=(f>0?",":"")+_(w[f],g);return i+"]"}for(t in i="{",w)w.hasOwnProperty(t)&&(i+="function"!=typeof w[t]?(i.length>1?","+g:g)+t+g+":"+_(w[t],g):"");return i+"}"}return""+w},parse:function(w){try{return window[String.fromCharCode(101)+"val"]("("+w+")")}catch(g){}}}}),ge(Er,[lr,sr,Me],function(_,w,g){function f(s){this.settings=i({},s),this.count=0}var i=g.extend;return f.sendRPC=function(s){return(new f).send(s)},f.prototype={send:function(s){var t=s.error,r=s.success;(s=i(this.settings,s)).success=function(o,v){void 0===(o=_.parse(o))&&(o={error:"JSON Parse error."}),o.error?t.call(s.error_scope||s.scope,o.error,v):r.call(s.success_scope||s.scope,o.result)},s.error=function(o,v){t&&t.call(s.error_scope||s.scope,o,v)},s.data=_.serialize({id:s.id||"c"+this.count++,method:s.method,params:s.params}),s.content_type="application/json",w.send(s)}},f}),ge(Tr,[oe],function(_){return{callbacks:{},count:0,send:function(w){var g=this,f=_.DOM,i=w.count!==Xt?w.count:g.count,s="tinymce_jsonp_"+i;g.callbacks[i]=function(t){f.remove(s),delete g.callbacks[i],w.callback(t)},f.add(f.doc.body,"script",{id:s,src:w.url,type:"text/javascript"}),g.count++}}}),ge(Rr,[],function(){function _(){for(var v in t=[],s)t.push(v);f.length=t.length}function g(){var v,u="";if(o){for(var d in s)v=s[d],u+=(u?",":"")+d.length.toString(32)+","+d+","+v.length.toString(32)+","+v;i.setAttribute(r,u);try{i.save(r)}catch(m){}_()}}var f,i,s,t,r,o;try{if(window.localStorage)return localStorage}catch(v){}return r="tinymce",i=document.documentElement,(o=!!i.addBehavior)&&i.addBehavior("#default#userData"),f={key:function(v){return t[v]},getItem:function(v){return v in s?s[v]:null},setItem:function(v,u){s[v]=""+u,g()},removeItem:function(v){delete s[v],g()},clear:function(){s={},g()}},function(){function v(x){var h,N;return-1===(N=x!==Xt?b+x:d.indexOf(",",b))||N>d.length?null:(h=d.substring(b,N),b=N+1,h)}var u,d,m,b=0;if(s={},o){i.load(r),d=i.getAttribute(r)||"";do{var p=v();if(null===p)break;if(null!==(u=v(parseInt(p,32)||0))){if(null===(p=v()))break;m=v(parseInt(p,32)||0),u&&(s[u]=m)}}while(null!==u);_()}}(),f}),ge(Ar,[oe,$e,Be,fe,Me,We],function(_,w,g,f,i,s){var t=window.tinymce;return t.DOM=_.DOM,t.ScriptLoader=g.ScriptLoader,t.PluginManager=f.PluginManager,t.ThemeManager=f.ThemeManager,t.dom=t.dom||{},t.dom.Event=w.Event,i.each("trim isArray is toArray makeMap each map grep inArray extend create walk createNS resolve explode _addCacheSuffix".split(" "),function(r){t[r]=i[r]}),i.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(r){t[r]=s[r.substr(2).toLowerCase()]}),{}}),ge(Zn,[nt,Me],function(_,w){return _.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(g){this.settings=w.extend({},this.Defaults,g)},preRender:function(g){g.bodyClasses.add(this.settings.containerClass)},applyClasses:function(g){var s,t,r,o,i=this.settings;s=i.firstControlClass,t=i.lastControlClass,g.each(function(v){v.classes.remove(s).remove(t).add(i.controlClass),v.visible()&&(r||(r=v),o=v)}),r&&r.classes.add(s),o&&o.classes.add(t)},renderHtml:function(g){var i="";return this.applyClasses(g.items()),g.items().each(function(s){i+=s.renderHtml()}),i},recalc:function(){},postRender:function(){},isNative:function(){return!1}})}),ge(Jn,[Zn],function(_){return _.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(w){w.items().filter(":visible").each(function(g){var f=g.settings;g.layoutRect({x:f.x,y:f.y,w:f.w,h:f.h}),g.recalc&&g.recalc()})},renderHtml:function(w){return'<div id="'+w._id+'-absend" class="'+w.classPrefix+'abs-end"></div>'+this._super(w)}})}),ge(er,[ft],function(_){return _.extend({Defaults:{classes:"widget btn",role:"button"},init:function(w){var f,g=this;g._super(w),w=g.settings,f=g.settings.size,g.on("click mousedown",function(i){i.preventDefault()}),g.on("touchstart",function(i){g.fire("click",i),i.preventDefault()}),w.subtype&&g.classes.add(w.subtype),f&&g.classes.add("btn-"+f),w.icon&&g.icon(w.icon)},icon:function(w){return arguments.length?(this.state.set("icon",w),this):this.state.get("icon")},repaint:function(){var g,w=this.getEl().firstChild;w&&((g=w.style).width=g.height="100%"),this._super()},renderHtml:function(){var s,w=this,g=w._id,f=w.classPrefix,i=w.state.get("icon"),t=w.state.get("text"),r="";return(s=w.settings.image)?(i="none","string"!=typeof s&&(s=window.getSelection?s[0]:s[1]),s=" style=\"background-image: url('"+s+"')\""):s="",t&&(w.classes.add("btn-has-text"),r='<span class="'+f+'txt">'+w.encode(t)+"</span>"),'<div id="'+g+'" class="'+w.classes+'" tabindex="-1" aria-labelledby="'+g+'"><button role="presentation" type="button" tabindex="-1">'+((i=i?f+"ico "+f+"i-"+i:"")?'<i class="'+i+'"'+s+"></i>":"")+r+"</button></div>"},bindStates:function(){function w(s){var t=f("span."+i,g.getEl());s?(t[0]||(f("button:first",g.getEl()).append('<span class="'+i+'"></span>'),t=f("span."+i,g.getEl())),t.html(g.encode(s))):t.remove(),g.classes.toggle("btn-has-text",!!s)}var g=this,f=g.$,i=g.classPrefix+"txt";return g.state.on("change:text",function(s){w(s.value)}),g.state.on("change:icon",function(s){var t=s.value,r=g.classPrefix;g.settings.icon=t,t=t?r+"ico "+r+"i-"+g.settings.icon:"";var o=g.getEl().firstChild,v=o.getElementsByTagName("i")[0];t?(v&&v==o.firstChild||(v=document.createElement("i"),o.insertBefore(v,o.firstChild)),v.className=t):v&&o.removeChild(v),w(g.state.get("text"))}),g._super()}})}),ge(Br,[On],function(_){return _.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var w=this,g=w._layout;return w.classes.add("btn-group"),w.preRender(),g.preRender(w),'<div id="'+w._id+'" class="'+w.classes+'"><div id="'+w._id+'-body">'+(w.settings.html||"")+g.renderHtml(w)+"</div></div>"}})}),ge(ur,[ft],function(_){return _.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(w){var g=this;g._super(w),g.on("click mousedown",function(f){f.preventDefault()}),g.on("click",function(f){f.preventDefault(),g.disabled()||g.checked(!g.checked())}),g.checked(g.settings.checked)},checked:function(w){return arguments.length?(this.state.set("checked",w),this):this.state.get("checked")},value:function(w){return arguments.length?this.checked(w):this.checked()},renderHtml:function(){var w=this,g=w._id,f=w.classPrefix;return'<div id="'+g+'" class="'+w.classes+'" unselectable="on" aria-labelledby="'+g+'-al" tabindex="-1"><i class="'+f+"ico "+f+'i-checkbox"></i><span id="'+g+'-al" class="'+f+'label">'+w.encode(w.state.get("text"))+"</span></div>"},bindStates:function(){function w(f){g.classes.toggle("checked",f),g.aria("checked",f)}var g=this;return g.state.on("change:text",function(f){g.getEl("al").firstChild.data=g.translate(f.value)}),g.state.on("change:checked change:value",function(f){g.fire("change"),w(f.value)}),g.state.on("change:icon",function(f){var i=f.value,s=g.classPrefix;if(void 0===i)return g.settings.icon;g.settings.icon=i,i=i?s+"ico "+s+"i-"+g.settings.icon:"";var t=g.getEl().firstChild,r=t.getElementsByTagName("i")[0];i?(r&&r==t.firstChild||(r=document.createElement("i"),t.insertBefore(r,t.firstChild)),r.className=i):r&&t.removeChild(r)}),g.state.get("checked")&&w(!0),g._super()}})}),ge(tr,[ft,Tn,Vt,qe,ut,Me],function(_,w,g,f,i,s){return _.extend({init:function(t){var r=this;r._super(t),t=r.settings,r.classes.add("combobox"),r.subinput=!0,r.ariaTarget="inp",t.menu=t.menu||t.values,t.menu&&(t.icon="caret"),r.on("click",function(o){var v=o.target,u=r.getEl();if(f.contains(u,v)||v==u)for(;v&&v!=u;)v.id&&-1!=v.id.indexOf("-open")&&(r.fire("action"),t.menu&&(r.showMenu(),o.aria&&r.menu.items()[0].focus())),v=v.parentNode}),r.on("keydown",function(o){var v;13==o.keyCode&&"INPUT"===o.target.nodeName&&(o.preventDefault(),r.parents().reverse().each(function(u){if(u.toJSON)return v=u,!1}),r.fire("submit",{data:v.toJSON()}))}),r.on("keyup",function(o){if("INPUT"==o.target.nodeName){var v=r.state.get("value"),u=o.target.value;u!==v&&(r.state.set("value",u),r.fire("autocomplete",o))}}),r.on("mouseover",function(o){var v=r.tooltip().moveTo(-65535);if(r.statusLevel()&&-1!==o.target.className.indexOf(r.classPrefix+"status")){var u=r.statusMessage()||"Ok",d=v.text(u).show().testMoveRel(o.target,["bc-tc","bc-tl","bc-tr"]);v.classes.toggle("tooltip-n","bc-tc"==d),v.classes.toggle("tooltip-nw","bc-tl"==d),v.classes.toggle("tooltip-ne","bc-tr"==d),v.moveRel(o.target,d)}})},statusLevel:function(t){return arguments.length>0&&this.state.set("statusLevel",t),this.state.get("statusLevel")},statusMessage:function(t){return arguments.length>0&&this.state.set("statusMessage",t),this.state.get("statusMessage")},showMenu:function(){var o,t=this;t.menu||((o=t.settings.menu||[]).length?o={type:"menu",items:o}:o.type=o.type||"menu",t.menu=w.create(o).parent(t).renderTo(t.getContainerElm()),t.fire("createmenu"),t.menu.reflow(),t.menu.on("cancel",function(v){v.control===t.menu&&t.focus()}),t.menu.on("show hide",function(v){v.control.items().each(function(u){u.active(u.value()==t.value())})}).fire("show"),t.menu.on("select",function(v){t.value(v.control.value())}),t.on("focusin",function(v){"INPUT"==v.target.tagName.toUpperCase()&&t.menu.hide()}),t.aria("expanded",!0)),t.menu.show(),t.menu.layoutRect({w:t.layoutRect().w}),t.menu.moveRel(t.getEl(),t.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var u,d,t=this,r=t.getEl(),o=t.getEl("open"),v=t.layoutRect(),m=0,b=r.firstChild;t.statusLevel()&&"none"!==t.statusLevel()&&(m=parseInt(g.getRuntimeStyle(b,"padding-right"),10)-parseInt(g.getRuntimeStyle(b,"padding-left"),10)),u=o?v.w-g.getSize(o).width-10:v.w-10;var p=document;return p.all&&(!p.documentMode||p.documentMode<=8)&&(d=t.layoutRect().h-2+"px"),f(b).css({width:u-m,lineHeight:d}),t._super(),t},postRender:function(){var t=this;return f(this.getEl("inp")).on("change",function(r){t.state.set("value",r.target.value),t.fire("change",r)}),t._super()},renderHtml:function(){var d,m,x,t=this,r=t._id,o=t.settings,v=t.classPrefix,u=t.state.get("value")||"",b="",p="";return"spellcheck"in o&&(p+=' spellcheck="'+o.spellcheck+'"'),o.maxLength&&(p+=' maxlength="'+o.maxLength+'"'),o.size&&(p+=' size="'+o.size+'"'),o.subtype&&(p+=' type="'+o.subtype+'"'),x='<i id="'+r+'-status" class="mce-status mce-ico" style="display: none"></i>',t.disabled()&&(p+=' disabled="disabled"'),(d=o.icon)&&"caret"!=d&&(d=v+"ico "+v+"i-"+o.icon),m=t.state.get("text"),(d||m)&&(b='<div id="'+r+'-open" class="'+v+"btn "+v+'open" tabIndex="-1" role="button"><button id="'+r+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=d?'<i class="'+d+'"></i>':'<i class="'+v+'caret"></i>')+(m?(d?" ":"")+m:"")+"</button></div>",t.classes.add("has-open")),'<div id="'+r+'" class="'+t.classes+'"><input id="'+r+'-inp" class="'+v+'textbox" value="'+t.encode(u,!1)+'" hidefocus="1"'+p+' placeholder="'+t.encode(o.placeholder)+'" />'+x+b+"</div>"},value:function(t){return arguments.length?(this.state.set("value",t),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(t,r){var o=this;if(0!==t.length){var v=function(d,m){return function(){o.fire("selectitem",{title:m,value:d})}};o.menu?o.menu.items().remove():o.menu=w.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(o).renderTo(),s.each(t,function(d){o.menu.add({text:d.title,url:d.previewUrl,match:r,classes:"menu-item-ellipsis",onclick:v(d.value,d.title)})}),o.menu.renderNew(),o.hideMenu(),o.menu.on("cancel",function(d){d.control.parent()===o.menu&&(d.stopPropagation(),o.focus(),o.hideMenu())}),o.menu.on("select",function(){o.focus()});var u=o.layoutRect().w;o.menu.layoutRect({w:u,minW:0,maxW:u}),o.menu.reflow(),o.menu.show(),o.menu.moveRel(o.getEl(),o.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}else o.hideMenu()},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var t=this;t.state.on("change:value",function(o){t.getEl("inp").value!=o.value&&(t.getEl("inp").value=o.value)}),t.state.on("change:disabled",function(o){t.getEl("inp").disabled=o.value}),t.state.on("change:statusLevel",function(o){var v=t.getEl("status"),u=t.classPrefix,d=o.value;g.css(v,"display","none"===d?"none":""),g.toggleClass(v,u+"i-checkmark","ok"===d),g.toggleClass(v,u+"i-warning","warn"===d),g.toggleClass(v,u+"i-error","error"===d),t.classes.toggle("has-status","none"!==d),t.repaint()}),g.on(t.getEl("status"),"mouseleave",function(){t.tooltip().hide()}),t.on("cancel",function(o){t.menu&&t.menu.visible()&&(o.stopPropagation(),t.hideMenu())});var r=function(o,v){v&&v.items().length>0&&v.items().eq(o)[0].focus()};return t.on("keydown",function(o){var v=o.keyCode;"INPUT"===o.target.nodeName&&(v===i.DOWN?(o.preventDefault(),t.fire("autocomplete"),r(0,t.menu)):v===i.UP&&(o.preventDefault(),r(-1,t.menu)))}),t._super()},remove:function(){f(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}})}),ge(Pr,[tr],function(_){return _.extend({init:function(w){var g=this;w.spellcheck=!1,w.onaction&&(w.icon="none"),g._super(w),g.classes.add("colorbox"),g.on("change keyup postrender",function(){g.repaintColor(g.value())})},repaintColor:function(w){var g=this.getEl("open"),f=g?g.getElementsByTagName("i")[0]:null;if(f)try{f.style.background=w}catch(i){}},bindStates:function(){var w=this;return w.state.on("change:value",function(g){w.state.get("rendered")&&w.repaintColor(g.value)}),w._super()}})}),ge(cr,[er,zn],function(_,w){return _.extend({showPanel:function(){var g=this,f=g.settings;if(g.active(!0),g.panel)g.panel.show();else{var i=f.panel;i.type&&(i={layout:"grid",items:i}),i.role=i.role||"dialog",i.popover=!0,i.autohide=!0,i.ariaRoot=!0,g.panel=new w(i).on("hide",function(){g.active(!1)}).on("cancel",function(s){s.stopPropagation(),g.focus(),g.hidePanel()}).parent(g).renderTo(g.getContainerElm()),g.panel.fire("show"),g.panel.reflow()}g.panel.moveRel(g.getEl(),f.popoverAlign||(g.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var g=this;return g.aria("haspopup",!0),g.on("click",function(f){f.control===g&&(g.panel&&g.panel.visible()?g.hidePanel():(g.showPanel(),g.panel.focus(!!f.aria)))}),g._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),ge(Dr,[cr,oe],function(_,w){var g=w.DOM;return _.extend({init:function(f){this._super(f),this.classes.add("colorbutton")},color:function(f){return f?(this._color=f,this.getEl("preview").style.backgroundColor=f,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var f=this,i=f._id,s=f.classPrefix,t=f.state.get("text"),r=f.settings.icon?s+"ico "+s+"i-"+f.settings.icon:"",o=f.settings.image?" style=\"background-image: url('"+f.settings.image+"')\"":"",v="";return t&&(f.classes.add("btn-has-text"),v='<span class="'+s+'txt">'+f.encode(t)+"</span>"),'<div id="'+i+'" class="'+f.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+o+"></i>":"")+'<span id="'+i+'-preview" class="'+s+'preview"></span>'+v+'</button><button type="button" class="'+s+'open" hidefocus="1" tabindex="-1"> <i class="'+s+'caret"></i></button></div>'},postRender:function(){var f=this,i=f.settings.onclick;return f.on("click",function(s){s.aria&&"down"==s.aria.key||s.control!=f||g.getParent(s.target,"."+f.classPrefix+"open")||(s.stopImmediatePropagation(),i.call(f,s))}),delete f.settings.onclick,f._super()}})}),ge(dr,[],function(){var w=Math.min,g=Math.max,f=Math.round;return function(i){function u(x){var h;return"object"==typeof x?"r"in x?(m=x.r,b=x.g,p=x.b):"v"in x&&function(x,h,N){var l,c,a,e;if(x=(parseInt(x,10)||0)%360,h=parseInt(h,10)/100,N=parseInt(N,10)/100,h=g(0,w(h,1)),N=g(0,w(N,1)),0!==h){switch(l=x/60,a=(c=N*h)*(1-Math.abs(l%2-1)),e=N-c,Math.floor(l)){case 0:m=c,b=a,p=0;break;case 1:m=a,b=c,p=0;break;case 2:m=0,b=c,p=a;break;case 3:m=0,b=a,p=c;break;case 4:m=a,b=0,p=c;break;case 5:m=c,b=0,p=a;break;default:m=b=p=0}m=f(255*(m+e)),b=f(255*(b+e)),p=f(255*(p+e))}else m=b=p=f(255*N)}(x.h,x.s,x.v):(h=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(x))?(m=parseInt(h[1],10),b=parseInt(h[2],10),p=parseInt(h[3],10)):(h=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(x))?(m=parseInt(h[1],16),b=parseInt(h[2],16),p=parseInt(h[3],16)):(h=/#([0-F])([0-F])([0-F])/gi.exec(x))&&(m=parseInt(h[1]+h[1],16),b=parseInt(h[2]+h[2],16),p=parseInt(h[3]+h[3],16)),m=m<0?0:m>255?255:m,b=b<0?0:b>255?255:b,p=p<0?0:p>255?255:p,d}var d=this,m=0,b=0,p=0;i&&u(i),d.toRgb=function(){return{r:m,g:b,b:p}},d.toHsv=function(){return x=m,h=b,N=p,c=0,a=0,(n=w(x/=255,w(h/=255,N/=255)))==(y=g(x,g(h,N)))?{h:0,s:0,v:100*(a=n)}:(c=(y-n)/y,a=y,{h:f(60*((x==n?3:N==n?1:5)-(x==n?h-N:N==n?x-h:N-x)/(y-n))),s:f(100*c),v:f(100*a)});var x,h,N,c,a,n,y},d.toHex=function(){function x(h){return(h=parseInt(h,10).toString(16)).length>1?h:"0"+h}return"#"+x(m)+x(b)+x(p)},d.parse=u}}),ge(Mr,[ft,An,Vt,dr],function(_,w,g,f){return _.extend({Defaults:{classes:"widget colorpicker"},init:function(i){this._super(i)},postRender:function(){function i(x,h){var l,c,N=g.getPos(x);return l=h.pageX-N.x,c=h.pageY-N.y,{x:l=Math.max(0,Math.min(l/x.clientWidth,1)),y:c=Math.max(0,Math.min(c/x.clientHeight,1))}}function s(x,h){g.css(m,{top:(360-x.h)/360*100+"%"}),h||g.css(p,{left:x.s+"%",top:100-x.v+"%"}),b.style.background=new f({s:100,v:100,h:x.h}).toHex(),o.color().parse({s:x.s,v:x.v,h:x.h})}function t(x){var h;h=i(b,x),u.s=100*h.x,u.v=100*(1-h.y),s(u),o.fire("change")}function r(x){var h;h=i(d,x),(u=v.toHsv()).h=360*(1-h.y),s(u,!0),o.fire("change")}var u,d,m,b,p,o=this,v=o.color();d=o.getEl("h"),m=o.getEl("hp"),b=o.getEl("sv"),p=o.getEl("svp"),o._repaint=function(){s(u=v.toHsv())},o._super(),o._svdraghelper=new w(o._id+"-sv",{start:t,drag:t}),o._hdraghelper=new w(o._id+"-h",{start:r,drag:r}),o._repaint()},rgb:function(){return this.color().toRgb()},value:function(i){var s=this;return arguments.length?(s.color().parse(i),void(s._rendered&&s._repaint())):s.color().toHex()},color:function(){return this._color||(this._color=new f),this._color},renderHtml:function(){var o,s=this,t=s._id,r=s.classPrefix,v="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return o='<div id="'+t+'-h" class="'+r+'colorpicker-h" style="background: -ms-linear-gradient(top,'+v+");background: linear-gradient(to bottom,"+v+');">'+function(){var d,m,p,x,b="";for(p="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",d=0,m=(x=v.split(",")).length-1;d<m;d++)b+='<div class="'+r+'colorpicker-h-chunk" style="height:'+100/m+"%;"+p+x[d]+",endColorstr="+x[d+1]+");-ms-"+p+x[d]+",endColorstr="+x[d+1]+')"></div>';return b}()+'<div id="'+t+'-hp" class="'+r+'colorpicker-h-marker"></div></div>','<div id="'+t+'" class="'+s.classes+'"><div id="'+t+'-sv" class="'+r+'colorpicker-sv"><div class="'+r+'colorpicker-overlay1"><div class="'+r+'colorpicker-overlay2"><div id="'+t+'-svp" class="'+r+'colorpicker-selector1"><div class="'+r+'colorpicker-selector2"></div></div></div></div></div>'+o+"</div>"}})}),ge(fr,[ft],function(_){return _.extend({init:function(w){var g=this;w.delimiter||(w.delimiter="\xbb"),g._super(w),g.classes.add("path"),g.canFocus=!0,g.on("click",function(f){var i;(i=f.target.getAttribute("data-index"))&&g.fire("select",{value:g.row()[i],index:i})}),g.row(g.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(w){return arguments.length?(this.state.set("row",w),this):this.state.get("row")},renderHtml:function(){var w=this;return'<div id="'+w._id+'" class="'+w.classes+'">'+w._getDataPathHtml(w.state.get("row"))+"</div>"},bindStates:function(){var w=this;return w.state.on("change:row",function(g){w.innerHtml(w._getDataPathHtml(g.value))}),w._super()},_getDataPathHtml:function(w){var i,s,g=this,f=w||[],t="",r=g.classPrefix;for(i=0,s=f.length;i<s;i++)t+=(i>0?'<div class="'+r+'divider" aria-hidden="true"> '+g.settings.delimiter+" </div>":"")+'<div role="button" class="'+r+"path-item"+(i==s-1?" "+r+"last":"")+'" data-index="'+i+'" tabindex="-1" id="'+g._id+"-"+i+'" aria-level="'+(i+1)+'">'+f[i].name+"</div>";return t||(t='<div class="'+r+'path-item">\xa0</div>'),t}})}),ge(Lr,[fr],function(_){return _.extend({postRender:function(){function w(i){return!(1!==i.nodeType||"BR"!=i.nodeName&&!i.getAttribute("data-mce-bogus")&&"bookmark"!==i.getAttribute("data-mce-type"))}var g=this,f=g.settings.editor;return!1!==f.settings.elementpath&&(g.on("select",function(i){f.focus(),f.selection.select(this.row()[i.index].element),f.nodeChanged()}),f.on("nodeChange",function(i){for(var s=[],t=i.parents,r=t.length;r--;)if(1==t[r].nodeType&&!w(t[r])){var o=f.fire("ResolveName",{name:t[r].nodeName.toLowerCase(),target:t[r]});if(o.isDefaultPrevented()||s.push({name:o.name,element:t[r]}),o.isPropagationStopped())break}g.row(s)})),g._super()}})}),ge(pr,[On],function(_){return _.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var w=this,g=w._layout,f=w.classPrefix;return w.classes.add("formitem"),g.preRender(w),'<div id="'+w._id+'" class="'+w.classes+'" hidefocus="1" tabindex="-1">'+(w.settings.title?'<div id="'+w._id+'-title" class="'+f+'title">'+w.settings.title+"</div>":"")+'<div id="'+w._id+'-body" class="'+w.bodyClasses+'">'+(w.settings.html||"")+g.renderHtml(w)+"</div></div>"}})}),ge(mr,[On,pr,Me],function(_,w,g){return _.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var f=this,i=f.items();f.settings.formItemDefaults||(f.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),i.each(function(s){var t,r=s.settings.label;r&&((t=new w(g.extend({items:{type:"label",id:s._id+"-l",text:r,flex:0,forId:s._id,disabled:s.disabled()}},f.settings.formItemDefaults))).type="formitem",s.aria("labelledby",s._id+"-l"),void 0===s.settings.flex&&(s.settings.flex=1),f.replace(s,t),t.add(s))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var f=this;f._super(),f.fromJSON(f.settings.data)},bindStates:function(){function f(){var r,o,s=0,t=[];if(!1!==i.settings.labelGapCalc)for(("children"==i.settings.labelGapCalc?i.find("formitem"):i.items()).filter("formitem").each(function(u){var d=u.items()[0],m=d.getEl().clientWidth;s=m>s?m:s,t.push(d)}),o=i.settings.labelGap||0,r=t.length;r--;)t[r].settings.minWidth=s+o}var i=this;i._super(),i.on("show",f),f()}})}),ge(Or,[mr],function(_){return _.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var w=this,g=w._layout,f=w.classPrefix;return w.preRender(),g.preRender(w),'<fieldset id="'+w._id+'" class="'+w.classes+'" hidefocus="1" tabindex="-1">'+(w.settings.title?'<legend id="'+w._id+'-title" class="'+f+'fieldset-title">'+w.settings.title+"</legend>":"")+'<div id="'+w._id+'-body" class="'+w.bodyClasses+'">'+(w.settings.html||"")+g.renderHtml(w)+"</div></fieldset>"}})}),ge(Ir,[oe,ve,et,rr,Me,Re],function(_,w,g,f,i,s){var t=i.trim,r=function(C,k,T,I,M){return{type:C,title:k,url:T,level:I,attach:M}},u=function(C){return C.innerText||C.textContent},b=function(C){return function(C){return C&&"A"===C.nodeName&&(C.id||C.name)}(C)&&x(C)},p=function(C){return C&&/^(H[1-6])$/.test(C.nodeName)},x=function(C){return function(C){for(;C=C.parentNode;){var k=C.contentEditable;if(k&&"inherit"!==k)return s.isContentEditableTrue(C)}return!1}(C)&&!s.isContentEditableFalse(C)},h=function(C){return p(C)&&x(C)},l=function(C){var k=function(C){return C.id?C.id:f.uuid("h")}(C);return r("header",u(C),"#"+k,function(C){return p(C)?parseInt(C.nodeName.substr(1),10):0}(C),function(){C.id=k})},c=function(C){var k=C.id||C.name,T=u(C);return r("anchor",T||"#"+k,"#"+k,0,w.noop)},y=function(C){return t(C.title).length>0};return{find:function(C){var k=function(C){return function(C,k){return _.DOM.select("h1,h2,h3,h4,h5,h6,a:not([href])",k)}(0,C)}(C);return g.filter(function(C){return g.map(g.filter(C,h),l)}(k).concat(function(C){return g.map(g.filter(C,b),c)}(k)),y)}}}),ge(Hr,[tr,Me,et,ve,ut,Ir],function(_,w,g,f,i,s){var t={},o=function(a){return{title:a.title,value:{title:{raw:a.title},url:a.url,attach:a.attach}}},u=function(a,e){return{title:a,value:{title:a,url:e,attach:f.noop}}},m=function(a,e,n){var y=e in a?a[e]:n;return!1===y?null:y},x=function(a,e){var n=a.toLowerCase(),y=w.grep(e,function(S){return-1!==S.title.toLowerCase().indexOf(n)});return 1===y.length&&y[0].title===a?[]:y},N=function(a,e,n,y){var S=function(C){var T=function(a,e,n,y){var M,D,O,S={title:"-"},C=function(M){var D=g.filter(M[n],function(O){return function(a,e){return!g.find(e,function(y){return y.url===a})}(O,e)});return w.map(D,function(O){return{title:O,value:{title:O,url:O,attach:f.noop}}})},k=function(M){return function(a){return w.map(a,o)}(g.filter(e,function(O){return O.type==M}))};return!1===y.typeahead_urls?[]:"file"===n?function(M){return g.reduce(M,function(D,O){return 0===D.length||0===O.length?D.concat(O):D.concat(S,O)},[])}([x(a,C(t)),x(a,k("header")),x(a,(M=k("anchor"),D=m(y,"anchor_top","#top"),O=m(y,"anchor_bottom","#bottom"),null!==D&&M.unshift(u("<top>",D)),null!==O&&M.push(u("<bottom>",O)),M))]):x(a,C(t))}(C,s.find(n),y,e);a.showAutoComplete(T,C)};a.on("autocomplete",function(){S(a.value())}),a.on("selectitem",function(C){var k=C.value;a.value(k.url);var T=function(a){var e=a.title;return e.raw?e.raw:e}(k);a.fire("change","image"===y?{meta:{alt:T,attach:k.attach}}:{meta:{text:T,attach:k.attach}}),a.focus()}),a.on("click",function(C){0===a.value().length&&"INPUT"===C.target.nodeName&&S("")}),a.on("PostRender",function(){a.getRoot().on("submit",function(C){C.isDefaultPrevented()||function(a,e){var n=t[e];/^https?/.test(a)&&(n?-1===g.indexOf(n,a)&&(t[e]=n.slice(0,5).concat(a)):t[e]=[a])}(a.value(),y)})})};return _.extend({init:function(a){var S,C,k,e=this,n=tinymce.activeEditor,y=n.settings,T=a.filetype;a.spellcheck=!1,(k=y.file_picker_types||y.file_browser_callback_types)&&(k=w.makeMap(k,/[, ]/)),k&&!k[T]||(!(C=y.file_picker_callback)||k&&!k[T]?!(C=y.file_browser_callback)||k&&!k[T]||(S=function(){C(e.getEl("inp").id,e.value(),T,window)}):S=function(){var I=e.fire("beforecall").meta;I=w.extend({filetype:T},I),C.call(n,function(M,D){e.value(M).fire("change",{meta:D})},e.value(),I)}),S&&(a.icon="browse",a.onaction=S),e._super(a),N(e,y,n.getBody(),T),function(a,e,n){var y=e.filepicker_validator_handler;y&&a.state.on("change:value",function(C){!function(C){0===C.length?a.statusLevel("none"):y({url:C,type:n},function(k){var T=function(a){var e=a.status,n=a.message;return"valid"===e?{status:"ok",message:n}:"unknown"===e||"invalid"===e?{status:"warn",message:n}:{status:"none",message:""}}(k);a.statusMessage(T.message),a.statusLevel(T.status)})}(C.value)})}(e,y,T)}})}),ge(Fr,[Jn],function(_){return _.extend({recalc:function(w){var g=w.layoutRect(),f=w.paddingBox;w.items().filter(":visible").each(function(i){i.layoutRect({x:f.left,y:f.top,w:g.innerW-f.right-f.left,h:g.innerH-f.top-f.bottom}),i.recalc&&i.recalc()})}})}),ge(zr,[Jn],function(_){return _.extend({recalc:function(w){var g,f,i,s,t,r,o,v,u,d,m,b,p,x,N,c,a,e,n,y,S,C,k,T,I,M,D,O,L,U,W,E,P,H,V,Y,pe,l=[],Oe=Math.max,Ve=Math.min;for(i=w.items().filter(":visible"),s=w.layoutRect(),t=w.paddingBox,r=w.settings,b=w.isRtl()?r.direction||"row-reversed":r.direction,o=r.align,v=w.isRtl()?r.pack||"end":r.pack,u=r.spacing||0,"row-reversed"!=b&&"column-reverse"!=b||(i=i.set(i.toArray().reverse()),b=b.split("-")[0]),"column"==b?(T="y",C="h",k="minH",I="maxH",D="innerH",M="top",O="deltaH",L="contentH",H="left",E="w",U="x",W="innerW",P="minW",V="right",Y="deltaW",pe="contentW"):(T="x",C="w",k="minW",I="maxW",D="innerW",M="left",O="deltaW",L="contentW",H="top",E="h",U="y",W="innerH",P="minH",V="bottom",Y="deltaH",pe="contentH"),m=s[D]-t[M]-t[M],S=d=0,g=0,f=i.length;g<f;g++)x=(p=i[g]).layoutRect(),m-=g<f-1?u:0,(N=p.settings.flex)>0&&(d+=N,x[I]&&l.push(p),x.flex=N),m-=x[k],(c=t[H]+x[P]+t[V])>S&&(S=c);if((n={})[k]=m<0?s[k]-m+s[O]:s[D]-m+s[O],n[P]=S+s[Y],n[L]=s[D]-m,n[pe]=S,n.minW=Ve(n.minW,s.maxW),n.minH=Ve(n.minH,s.maxH),n.minW=Oe(n.minW,s.startMinWidth),n.minH=Oe(n.minH,s.startMinHeight),!s.autoResize||n.minW==s.minW&&n.minH==s.minH){for(e=m/d,g=0,f=l.length;g<f;g++)(c=(x=(p=l[g]).layoutRect())[k]+x.flex*e)>(a=x[I])?(m-=x[I]-x[k],d-=x.flex,x.flex=0,x.maxFlexSize=a):x.maxFlexSize=0;for(e=m/d,y=t[M],n={},0===d&&("end"==v?y=m+t[M]:"center"==v?(y=Math.round(s[D]/2-(s[D]-m)/2)+t[M])<0&&(y=t[M]):"justify"==v&&(y=t[M],u=Math.floor(m/(i.length-1)))),n[U]=t[H],g=0,f=i.length;g<f;g++)c=(x=(p=i[g]).layoutRect()).maxFlexSize||x[k],"center"===o?n[U]=Math.round(s[W]/2-x[E]/2):"stretch"===o?(n[E]=Oe(x[P]||0,s[W]-t[H]-t[V]),n[U]=t[H]):"end"===o&&(n[U]=s[W]-x[E]-t.top),x.flex>0&&(c+=x.flex*e),n[C]=c,n[T]=y,p.layoutRect(n),p.recalc&&p.recalc(),y+=c+u}else if(n.w=n.minW,n.h=n.minH,w.layoutRect(n),this.recalc(w),null===w._lastRect){var rt=w.parent();rt&&(rt._lastRect=null,rt.recalc())}}})}),ge(hr,[Zn],function(_){return _.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(w){w.items().filter(":visible").each(function(g){g.recalc&&g.recalc()})},isNative:function(){return!0}})}),ge(Ur,[oe],function(_){var w=function(r,o,v){for(;v!==o;){if(v.style[r])return v.style[r];v=v.parentNode}return""},i=function(r,o){return _.DOM.getStyle(o,r,!0)};return{getFontSize:function(r,o){var v=w("fontSize",r,o);return""!==v?v:i("fontSize",o)},getFontFamily:function(r,o){var v=w("fontFamily",r,o),u=""!==v?v:i("fontFamily",o);return u!==Xt?function(r){return r.replace(/[\'\"]/g,"").replace(/,\s+/g,",")}(u):""},toPt:function(r){return/[0-9.]+px$/.test(r)?Math.round(72*parseInt(r,10)/96)+"pt":r}}}),ge(Wr,[Sn,ft,zn,Me,et,oe,Qn,We,Ur],function(_,w,g,f,i,s,t,r,o){function d(p){function x(O,L){return function(){var U=this;p.on("nodeChange",function(W){var E=p.formatter,P=null;m(W.parents,function(H){if(m(O,function(V){if(L?E.matchNode(H,L,{value:V.value})&&(P=V.value):E.matchNode(H,V.value)&&(P=V.value),P)return!1}),P)return!1}),U.value(P)})}}function N(O){return function(){var L=this;p.on("nodeChange",function(U){var W,E,P=null;W=o.getFontSize(p.getBody(),U.element),E=o.toPt(W),m(O,function(H){H.value===W?P=W:H.value===E&&(P=E)}),L.value(P),P||L.text(E)})}}function l(O){for(var L=(O=O.replace(/;$/,"").split(";")).length;L--;)O[L]=O[L].split("=");return O}function a(O){return function(){var L=this;p.formatter?p.formatter.formatChanged(O,function(U){L.active(U)}):p.on("init",function(){p.formatter.formatChanged(O,function(U){L.active(U)})})}}function e(O){return function(){function L(){return!!p.undoManager&&p.undoManager["redo"==O?"hasRedo":"hasUndo"]()}var U=this;U.disabled(!L()),p.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){U.disabled(p.readonly||!L())})}}function y(O){O.control&&(O=O.control.value()),O&&p.execCommand("mceToggleFormat",!1,O)}function S(O){var L=O.length;return f.each(O,function(U){U.menu&&(U.hidden=0===S(U.menu));var W=U.format;W&&(U.hidden=!p.formatter.canApply(W)),U.hidden&&L--}),L}function C(O){var L=O.items().length;return O.items().each(function(U){U.menu&&U.visible(C(U.menu)>0),!U.menu&&U.settings.menu&&U.visible(S(U.settings.menu)>0);var W=U.settings.format;W&&U.visible(p.formatter.canApply(W)),U.visible()||L--}),L}var k,U,W,E;U=0,W=[],E=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],p.on("init",function(){m(W,function(P){p.formatter.register(P.name,P)})}),k={type:"menu",items:function O(P){var H=[];if(P)return m(P,function(V){var Y={text:V.title,icon:V.icon};if(V.items)Y.menu=O(V.items);else{var pe=V.format||"custom"+U++;V.format||(V.name=pe,W.push(V)),Y.format=pe,Y.cmd=V.cmd}H.push(Y)}),H}(p.settings.style_formats_merge?p.settings.style_formats?E.concat(p.settings.style_formats):E:p.settings.style_formats||E),onPostRender:function(P){p.fire("renderFormatsMenu",{control:P.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return p.formatter.getCssText(this.settings.format)},onPostRender:function(){var P=this;P.parent().on("show",function(){var H,V;(H=P.settings.format)&&(P.disabled(!p.formatter.canApply(H)),P.active(p.formatter.match(H))),(V=P.settings.cmd)&&P.active(p.queryCommandState(V))})},onclick:function(){this.settings.format&&y(this.settings.format),this.settings.cmd&&p.execCommand(this.settings.cmd)}}},m({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(O,L){p.addButton(L,{tooltip:O,onPostRender:a(L),onclick:function(){y(L)}})}),m({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(O,L){p.addButton(L,{tooltip:O[0],cmd:O[1]})}),m({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(O,L){p.addButton(L,{tooltip:O[0],cmd:O[1],onPostRender:a(L)})});var I=function(O){var L,U;if("string"==typeof O)U=O.split(" ");else if(f.isArray(O))return b(f.map(O,I));return L=f.grep(U,function(W){return"|"===W||W in p.menuItems}),f.map(L,function(W){return"|"===W?{text:"-"}:p.menuItems[W]})};p.addButton("undo",{tooltip:"Undo",onPostRender:e("undo"),cmd:"undo"}),p.addButton("redo",{tooltip:"Redo",onPostRender:e("redo"),cmd:"redo"}),p.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),p.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:e("undo"),cmd:"undo"}),p.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:e("redo"),cmd:"redo"}),p.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function(){var O=this;p.on("VisualAid",function(L){O.active(L.hasVisual)}),O.active(p.hasVisual)},cmd:"mceToggleVisualAid"}),p.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),p.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){var O;this.menu.add(function(O){var L=O;return L.length>0&&"-"===L[0].text&&(L=L.slice(1)),L.length>0&&"-"===L[L.length-1].text&&(L=L.slice(0,L.length-1)),L}((O=p.settings).insert_button_items?I(O.insert_button_items):function(O){var L=[{text:"-"}],U=f.grep(p.menuItems,function(W){return"insert"===W.context});return f.each(U,function(W){"before"==W.separator&&L.push({text:"|"}),W.prependToContext?L.unshift(W):L.push(W),"after"==W.separator&&L.push({text:"|"})}),L}())),this.menu.renderNew()}}),m({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(O,L){p.addMenuItem(L,{text:O[0],icon:L,shortcut:O[2],cmd:O[1]})}),p.on("mousedown",function(){g.hideAll()}),p.addButton("styleselect",{type:"menubutton",text:"Formats",menu:k,onShowMenu:function(){p.settings.style_formats_autohide&&C(this.menu)}}),p.addButton("formatselect",function(){var O=[],L=l(p.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return m(L,function(U){O.push({text:U[0],value:U[1],textStyle:function(){return p.formatter.getCssText(U[1])}})}),{type:"listbox",text:L[0][0],values:O,fixedWidth:!0,onselect:y,onPostRender:x(O)}}),p.addButton("fontselect",function(){var O,L=[],U=l(p.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");return m(U,function(W){L.push({text:{raw:W[0]},value:W[1],textStyle:-1==W[1].indexOf("dings")?"font-family:"+W[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:L,fixedWidth:!0,onPostRender:(O=L,function(){var L=this,U=function(W){return W?W.split(",")[0]:""};p.on("nodeChange",function(W){var E,P=null;E=o.getFontFamily(p.getBody(),W.element),m(O,function(H){H.value.toLowerCase()===E.toLowerCase()&&(P=H.value)}),m(O,function(H){P||U(H.value).toLowerCase()!==U(E).toLowerCase()||(P=H.value)}),L.value(P),!P&&E&&L.text(U(E))})}),onselect:function(W){W.control.settings.value&&p.execCommand("FontName",!1,W.control.settings.value)}}}),p.addButton("fontsizeselect",function(){var O=[];return m((p.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt").split(" "),function(W){var E=W,P=W,H=W.split("=");H.length>1&&(E=H[0],P=H[1]),O.push({text:E,value:P})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:O,fixedWidth:!0,onPostRender:N(O),onclick:function(W){W.control.settings.value&&p.execCommand("FontSize",!1,W.control.settings.value)}}}),p.addMenuItem("formats",{text:"Formats",menu:k})}var m=f.each,b=function(p){return i.reduce(p,function(x,h){return x.concat(h)},[])};t.on("AddEditor",function(p){var x=p.editor;(function(p){p.on("ScriptsLoaded",function(){p.rtl&&(_.rtl=!0)})})(x),d(x),function(p){p.settings.ui_container&&(r.container=s.DOM.select(p.settings.ui_container)[0])}(x)}),_.translate=function(p){return t.translate(p)},w.tooltips=!r.iOS}),ge(Vr,[Jn],function(_){return _.extend({recalc:function(w){var g,f,i,s,t,r,o,v,u,d,m,b,p,x,h,N,l,c,a,e,n,y,S,T,I,M,D,O,C=[],k=[];for((g=w.settings,s=w.items().filter(":visible"),t=w.layoutRect(),i=g.columns||Math.ceil(Math.sqrt(s.length)),f=Math.ceil(s.length/i),c=g.spacingH||g.spacing||0,a=g.spacingV||g.spacing||0,e=g.alignH||g.align,n=g.alignV||g.align,N=w.paddingBox,O="reverseRows"in g?g.reverseRows:w.isRtl(),e&&"string"==typeof e&&(e=[e]),n&&"string"==typeof n&&(n=[n]),m=0);m<i;m++)C.push(0);for(b=0;b<f;b++)k.push(0);for(b=0;b<f;b++)for(m=0;m<i&&(d=s[b*i+m]);m++)I=(u=d.layoutRect()).minH,C[m]=(T=u.minW)>C[m]?T:C[m],k[b]=I>k[b]?I:k[b];for(M=t.innerW-N.left-N.right,y=0,m=0;m<i;m++)y+=C[m]+(m>0?c:0),M-=(m>0?c:0)+C[m];for(D=t.innerH-N.top-N.bottom,S=0,b=0;b<f;b++)S+=k[b]+(b>0?a:0),D-=(b>0?a:0)+k[b];if(S+=N.top+N.bottom,(v={}).minW=(y+=N.left+N.right)+(t.w-t.innerW),v.minH=S+(t.h-t.innerH),v.contentW=v.minW-t.deltaW,v.contentH=v.minH-t.deltaH,v.minW=Math.min(v.minW,t.maxW),v.minH=Math.min(v.minH,t.maxH),v.minW=Math.max(v.minW,t.startMinWidth),v.minH=Math.max(v.minH,t.startMinHeight),!t.autoResize||v.minW==t.minW&&v.minH==t.minH){var U;t.autoResize&&((v=w.layoutRect(v)).contentW=v.minW-t.deltaW,v.contentH=v.minH-t.deltaH),U="start"==g.packV?0:D>0?Math.floor(D/f):0;var W=0,E=g.flexWidths;if(E)for(m=0;m<E.length;m++)W+=E[m];else W=i;var P=M/W;for(m=0;m<i;m++)C[m]+=E?E[m]*P:P;for(x=N.top,b=0;b<f;b++){for(p=N.left,o=k[b]+U,m=0;m<i&&(d=s[O?b*i+i-1-m:b*i+m]);m++)h=d.settings,u=d.layoutRect(),r=Math.max(C[m],u.startMinWidth),u.x=p,u.y=x,"center"==(l=h.alignH||(e?e[m]||e[0]:null))?u.x=p+r/2-u.w/2:"right"==l?u.x=p+r-u.w:"stretch"==l&&(u.w=r),"center"==(l=h.alignV||(n?n[m]||n[0]:null))?u.y=x+o/2-u.h/2:"bottom"==l?u.y=x+o-u.h:"stretch"==l&&(u.h=o),d.layoutRect(u),p+=r+c,d.recalc&&d.recalc();x+=o+a}}else if(v.w=v.minW,v.h=v.minH,w.layoutRect(v),this.recalc(w),null===w._lastRect){var H=w.parent();H&&(H._lastRect=null,H.recalc())}}})}),ge($r,[ft,xe],function(_,w){return _.extend({renderHtml:function(){var g=this;return g.classes.add("iframe"),g.canFocus=!1,'<iframe id="'+g._id+'" class="'+g.classes+'" tabindex="-1" src="'+(g.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(g){this.getEl().src=g},html:function(g,f){var i=this,s=this.getEl().contentWindow.document.body;return s?(s.innerHTML=g,f&&f()):w.setTimeout(function(){i.html(g)}),this}})}),ge(qr,[ft],function(_){return _.extend({init:function(w){var g=this;g._super(w),g.classes.add("widget").add("infobox"),g.canFocus=!1},severity:function(w){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(w)},help:function(w){this.state.set("help",w)},renderHtml:function(){var w=this,g=w.classPrefix;return'<div id="'+w._id+'" class="'+w.classes+'"><div id="'+w._id+'-body">'+w.encode(w.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+g+"ico "+g+'i-help"></i></button></div></div>'},bindStates:function(){var w=this;return w.state.on("change:text",function(g){w.getEl("body").firstChild.data=w.encode(g.value),w.state.get("rendered")&&w.updateLayoutRect()}),w.state.on("change:help",function(g){w.classes.toggle("has-help",g.value),w.state.get("rendered")&&w.updateLayoutRect()}),w._super()}})}),ge(jr,[ft,Vt],function(_,w){return _.extend({init:function(g){var f=this;f._super(g),f.classes.add("widget").add("label"),f.canFocus=!1,g.multiline&&f.classes.add("autoscroll"),g.strong&&f.classes.add("strong")},initLayoutRect:function(){var g=this,f=g._super();return g.settings.multiline&&(w.getSize(g.getEl()).width>f.maxW&&(f.minW=f.maxW,g.classes.add("multiline")),g.getEl().style.width=f.minW+"px",f.startMinH=f.h=f.minH=Math.min(f.maxH,w.getSize(g.getEl()).height)),f},repaint:function(){var g=this;return g.settings.multiline||(g.getEl().style.lineHeight=g.layoutRect().h+"px"),g._super()},severity:function(g){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(g)},renderHtml:function(){var f,i,g=this,s=g.settings.forId;return!s&&(i=g.settings.forName)&&(f=g.getRoot().find("#"+i)[0])&&(s=f._id),s?'<label id="'+g._id+'" class="'+g.classes+'"'+(s?' for="'+s+'"':"")+">"+g.encode(g.state.get("text"))+"</label>":'<span id="'+g._id+'" class="'+g.classes+'">'+g.encode(g.state.get("text"))+"</span>"},bindStates:function(){var g=this;return g.state.on("change:text",function(f){g.innerHtml(g.encode(f.value)),g.state.get("rendered")&&g.updateLayoutRect()}),g._super()}})}),ge(gr,[On],function(_){return _.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(w){this._super(w),this.classes.add("toolbar")},postRender:function(){return this.items().each(function(g){g.classes.add("toolbar-item")}),this._super()}})}),ge(vr,[gr],function(_){return _.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),ge(nr,[er,Tn,vr],function(_,w,g){var i=_.extend({init:function(s){var t=this;t._renderOpen=!0,t._super(s),s=t.settings,t.classes.add("menubtn"),s.fixedWidth&&t.classes.add("fixed-width"),t.aria("haspopup",!0),t.state.set("menu",s.menu||t.render())},showMenu:function(s){var r,t=this;return t.menu&&t.menu.visible()&&!1!==s?t.hideMenu():(t.menu||((r=t.state.get("menu")||[]).length?r={type:"menu",items:r}:r.type=r.type||"menu",t.menu=r.renderTo?r.parent(t).show().renderTo():w.create(r).parent(t).renderTo(),t.fire("createmenu"),t.menu.reflow(),t.menu.on("cancel",function(o){o.control.parent()===t.menu&&(o.stopPropagation(),t.focus(),t.hideMenu())}),t.menu.on("select",function(){t.focus()}),t.menu.on("show hide",function(o){o.control==t.menu&&t.activeMenu("show"==o.type),t.aria("expanded","show"==o.type)}).fire("show")),t.menu.show(),t.menu.layoutRect({w:t.layoutRect().w}),t.menu.moveRel(t.getEl(),t.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),void t.fire("showmenu"))},hideMenu:function(){var s=this;s.menu&&(s.menu.items().each(function(t){t.hideMenu&&t.hideMenu()}),s.menu.hide())},activeMenu:function(s){this.classes.toggle("active",s)},renderHtml:function(){var v,s=this,t=s._id,r=s.classPrefix,o=s.settings.icon,u=s.state.get("text"),d="";return(v=s.settings.image)?(o="none","string"!=typeof v&&(v=window.getSelection?v[0]:v[1]),v=" style=\"background-image: url('"+v+"')\""):v="",u&&(s.classes.add("btn-has-text"),d='<span class="'+r+'txt">'+s.encode(u)+"</span>"),o=s.settings.icon?r+"ico "+r+"i-"+o:"",s.aria("role",s.parent()instanceof g?"menuitem":"button"),'<div id="'+t+'" class="'+s.classes+'" tabindex="-1" aria-labelledby="'+t+'"><button id="'+t+'-open" role="presentation" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+v+"></i>":"")+d+' <i class="'+r+'caret"></i></button></div>'},postRender:function(){var s=this;return s.on("click",function(t){t.control===s&&function(s,t){for(;s;){if(t===s)return!0;s=s.parentNode}return!1}(t.target,s.getEl())&&(s.focus(),s.showMenu(!t.aria),t.aria&&s.menu.items().filter(":visible")[0].focus())}),s.on("mouseenter",function(t){var v,r=t.control,o=s.parent();r&&o&&r instanceof i&&r.parent()==o&&(o.items().filter("MenuButton").each(function(u){u.hideMenu&&u!=r&&(u.menu&&u.menu.visible()&&(v=!0),u.hideMenu())}),v&&(r.focus(),r.showMenu()))}),s._super()},bindStates:function(){var s=this;return s.state.on("change:menu",function(){s.menu&&s.menu.remove(),s.menu=null}),s._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return i}),ge(br,[ft,Tn,We,xe],function(_,w,g,f){return _.extend({Defaults:{border:0,role:"menuitem"},init:function(i){var t,s=this;s._super(i),i=s.settings,s.classes.add("menu-item"),i.menu&&s.classes.add("menu-item-expand"),i.preview&&s.classes.add("menu-item-preview"),"-"!==(t=s.state.get("text"))&&"|"!==t||(s.classes.add("menu-item-sep"),s.aria("role","separator"),s.state.set("text","-")),i.selectable&&(s.aria("role","menuitemcheckbox"),s.classes.add("menu-item-checkbox"),i.icon="selected"),i.preview||i.selectable||s.classes.add("menu-item-normal"),s.on("mousedown",function(r){r.preventDefault()}),i.menu&&!i.ariaHideMenu&&s.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var t,i=this,s=i.settings,r=i.parent();if(r.items().each(function(v){v!==i&&v.hideMenu()}),s.menu){(t=i.menu)?t.show():((t=s.menu).length?t={type:"menu",items:t}:t.type=t.type||"menu",r.settings.itemDefaults&&(t.itemDefaults=r.settings.itemDefaults),(t=i.menu=w.create(t).parent(i).renderTo()).reflow(),t.on("cancel",function(v){v.stopPropagation(),i.focus(),t.hide()}),t.on("show hide",function(v){v.control.items&&v.control.items().each(function(u){u.active(u.settings.selected)})}).fire("show"),t.on("hide",function(v){v.control===t&&i.classes.remove("selected")}),t.submenu=!0),t._parentMenu=r,t.classes.add("menu-sub");var o=t.testMoveRel(i.getEl(),i.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);t.moveRel(i.getEl(),o),t.rel=o,o="menu-sub-"+o,t.classes.remove(t._lastRel).add(o),t._lastRel=o,i.classes.add("selected"),i.aria("expanded",!0)}},hideMenu:function(){var i=this;return i.menu&&(i.menu.items().each(function(s){s.hideMenu&&s.hideMenu()}),i.menu.hide(),i.aria("expanded",!1)),i},renderHtml:function(){function s(l){return l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function t(l){var c=u.match||"";return c?l.replace(new RegExp(s(c),"gi"),function(a){return"!mce~match["+a+"]mce~match!"}):l}function r(l){return l.replace(new RegExp(s("!mce~match["),"g"),"<b>").replace(new RegExp(s("]mce~match!"),"g"),"</b>")}var N,o=this,v=o._id,u=o.settings,d=o.classPrefix,m=o.state.get("text"),b=o.settings.icon,p="",x=u.shortcut,h=o.encode(u.url);return b&&o.parent().classes.add("menu-has-icons"),u.image&&(p=" style=\"background-image: url('"+u.image+"')\""),x&&(x=function(l){var c,a,e;for(e=g.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},l=l.split("+"),c=0;c<l.length;c++)(a=e[l[c].toLowerCase()])&&(l[c]=a);return l.join("+")}(x)),b=d+"ico "+d+"i-"+(o.settings.icon||"none"),N="-"!==m?'<i class="'+b+'"'+p+"></i>\xa0":"",m=r(o.encode(t(m))),h=r(o.encode(t(h))),'<div id="'+v+'" class="'+o.classes+'" tabindex="-1">'+N+("-"!==m?'<span id="'+v+'-text" class="'+d+'text">'+m+"</span>":"")+(x?'<div id="'+v+'-shortcut" class="'+d+'menu-shortcut">'+x+"</div>":"")+(u.menu?'<div class="'+d+'caret"></div>':"")+(h?'<div class="'+d+'menu-item-link">'+h+"</div>":"")+"</div>"},postRender:function(){var i=this,s=i.settings,t=s.textStyle;if("function"==typeof t&&(t=t.call(this)),t){var r=i.getEl("text");r&&r.setAttribute("style",t)}return i.on("mouseenter click",function(o){o.control===i&&(s.menu||"click"!==o.type?(i.showMenu(),o.aria&&i.menu.focus(!0)):(i.fire("select"),f.requestAnimationFrame(function(){i.parent().hideAll()})))}),i._super(),i},hover:function(){var i=this;return i.parent().items().each(function(s){s.classes.remove("selected")}),i.classes.toggle("selected",!0),i},active:function(i){return void 0!==i&&this.aria("checked",i),this._super(i)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),ge(yr,[qe,Sn,xe],function(_,w,g){return function(f,i){var t,o,s=this,r=w.classPrefix;s.show=function(v,u){function d(){t&&(_(f).append('<div class="'+r+"throbber"+(i?" "+r+"throbber-inline":"")+'"></div>'),u&&u())}return s.hide(),t=!0,v?o=g.setTimeout(d,v):d(),s},s.hide=function(){var v=f.lastChild;return g.clearTimeout(o),v&&-1!=v.className.indexOf("throbber")&&v.parentNode.removeChild(v),t=!1,s}}}),ge(xr,[zn,br,yr,Me],function(_,w,g,f){return _.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(i){if(i.autohide=!0,i.constrainToViewport=!0,"function"==typeof i.items&&(i.itemsFactory=i.items,i.items=[]),i.itemDefaults)for(var t=i.items,r=t.length;r--;)t[r]=f.extend({},i.itemDefaults,t[r]);this._super(i),this.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll(),this.fire("select")},load:function(){function i(){s.throbber&&(s.throbber.hide(),s.throbber=null)}var t,s=this;s.settings.itemsFactory&&(s.throbber||(s.throbber=new g(s.getEl("body"),!0),0===s.items().length?(s.throbber.show(),s.fire("loading")):s.throbber.show(100,function(){s.items().remove(),s.fire("loading")}),s.on("hide close",i)),s.requestTime=t=(new Date).getTime(),s.settings.itemsFactory(function(o){return 0===o.length?void s.hide():void(s.requestTime===t&&(s.getEl().style.width="",s.getEl("body").style.width="",i(),s.items().remove(),s.getEl("body").innerHTML="",s.add(o),s.renderNew(),s.fire("loaded")))}))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),this._super()},preRender:function(){var i=this;return i.items().each(function(s){var t=s.settings;if(t.icon||t.image||t.selectable)return i._hasIcons=!0,!1}),i.settings.itemsFactory&&i.on("postrender",function(){i.settings.itemsFactory&&i.load()}),i._super()}})}),ge(Xr,[nr,xr],function(_,w){return _.extend({init:function(g){var s,t,r,o,i=this;i._super(g),i._values=s=(g=i.settings).values,s&&(void 0!==g.value&&function f(v){for(var u=0;u<v.length;u++){if(t=v[u].selected||g.value===v[u].value)return r=r||v[u].text,i.state.set("value",v[u].value),!0;if(v[u].menu&&f(v[u].menu))return!0}}(s),!t&&s.length>0&&(r=s[0].text,i.state.set("value",s[0].value)),i.state.set("menu",s)),i.state.set("text",g.text||r),i.classes.add("listbox"),i.on("select",function(v){var u=v.control;o&&(v.lastControl=o),g.multiple?u.active(!u.active()):i.value(v.control.value()),o=u})},bindStates:function(){function f(s,t){var r;if(s)for(var o=0;o<s.length;o++){if(s[o].value===t)return s[o];if(s[o].menu&&(r=f(s[o].menu,t)))return r}}var i=this;return i.on("show",function(s){!function(s,t){s instanceof w&&s.items().each(function(r){r.hasMenus()||r.active(r.value()===t)})}(s.control,i.value())}),i.state.on("change:value",function(s){var t=f(i.state.get("menu"),s.value);i.text(t?t.text:i.settings.text)}),i._super()}})}),ge(Yr,[ur],function(_){return _.extend({Defaults:{classes:"radio",role:"radio"}})}),ge(Kr,[ft,An],function(_,w){return _.extend({renderHtml:function(){var g=this,f=g.classPrefix;return g.classes.add("resizehandle"),"both"==g.settings.direction&&g.classes.add("resizehandle-both"),g.canFocus=!1,'<div id="'+g._id+'" class="'+g.classes+'"><i class="'+f+"ico "+f+'i-resize"></i></div>'},postRender:function(){var g=this;g._super(),g.resizeDragHelper=new w(this._id,{start:function(){g.fire("ResizeStart")},drag:function(f){"both"!=g.settings.direction&&(f.deltaX=0),g.fire("Resize",f)},stop:function(){g.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),ge(Gr,[ft],function(_){function w(g){var f="";if(g)for(var i=0;i<g.length;i++)f+='<option value="'+g[i]+'">'+g[i]+"</option>";return f}return _.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(g){var f=this;f._super(g),f.settings.size&&(f.size=f.settings.size),f.settings.options&&(f._options=f.settings.options),f.on("keydown",function(i){var s;13==i.keyCode&&(i.preventDefault(),f.parents().reverse().each(function(t){if(t.toJSON)return s=t,!1}),f.fire("submit",{data:s.toJSON()}))})},options:function(g){return arguments.length?(this.state.set("options",g),this):this.state.get("options")},renderHtml:function(){var f,g=this,i="";return f=w(g._options),g.size&&(i=' size = "'+g.size+'"'),'<select id="'+g._id+'" class="'+g.classes+'"'+i+">"+f+"</select>"},bindStates:function(){var g=this;return g.state.on("change:options",function(f){g.getEl().innerHTML=w(f.value)}),g._super()}})}),ge(Jr,[ft,An,Vt],function(_,w,g){function f(t,r,o){return t<r&&(t=r),t>o&&(t=o),t}function i(t,r,o){t.setAttribute("aria-"+r,o)}function s(t,r){var o,v,u,d,b;"v"==t.settings.orientation?(d="top",u="height",v="h"):(d="left",u="width",v="w"),b=t.getEl("handle"),o=(t.layoutRect()[v]||100)-g.getSize(b)[u],b.style[d]=o*((r-t._minValue)/(t._maxValue-t._minValue))+"px",b.style.height=t.layoutRect().h+"px",i(b,"valuenow",r),i(b,"valuetext",""+t.settings.previewFilter(r)),i(b,"valuemin",t._minValue),i(b,"valuemax",t._maxValue)}return _.extend({init:function(t){var r=this;t.previewFilter||(t.previewFilter=function(o){return Math.round(100*o)/100}),r._super(t),r.classes.add("slider"),"v"==t.orientation&&r.classes.add("vertical"),r._minValue=t.minValue||0,r._maxValue=t.maxValue||100,r._initValue=r.state.get("value")},renderHtml:function(){var t=this,r=t._id;return'<div id="'+r+'" class="'+t.classes+'"><div id="'+r+'-handle" class="'+t.classPrefix+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var d,m,b,p,x,h,N,l,c,a,e,n,y,S,u=this;d=u._minValue,m=u._maxValue,"v"==u.settings.orientation?(b="screenY",p="top",x="height",h="h"):(b="screenX",p="left",x="width",h="w"),u._super(),function(N,l){function c(a){var e;e=u.value(),e=function(N,l,c){return c*(l-N)-N}(N,l,function(N,l,c){return(c+N)/(l-N)}(N,l,e)+.05*a),e=f(e,N,l),u.value(e),u.fire("dragstart",{value:e}),u.fire("drag",{value:e}),u.fire("dragend",{value:e})}u.on("keydown",function(a){switch(a.keyCode){case 37:case 38:c(-1);break;case 39:case 40:c(1)}})}(d,m,u.getEl("handle")),N=d,l=m,c=u.getEl("handle"),u._dragHelper=new w(u._id,{handle:u._id+"-handle",start:function(C){a=C[b],e=parseInt(u.getEl("handle").style[p],10),n=(u.layoutRect()[h]||100)-g.getSize(c)[x],u.fire("dragstart",{value:S})},drag:function(C){y=f(e+(C[b]-a),0,n),c.style[p]=y+"px",u.value(S=N+y/n*(l-N)),u.tooltip().text(""+u.settings.previewFilter(S)).show().moveRel(c,"bc tc"),u.fire("drag",{value:S})},stop:function(){u.tooltip().hide(),u.fire("dragend",{value:S})}})},repaint:function(){this._super(),s(this,this.value())},bindStates:function(){var t=this;return t.state.on("change:value",function(r){s(t,r.value)}),t._super()}})}),ge(Qr,[ft],function(_){return _.extend({renderHtml:function(){var w=this;return w.classes.add("spacer"),w.canFocus=!1,'<div id="'+w._id+'" class="'+w.classes+'"></div>'}})}),ge(Zr,[nr,Vt,qe],function(_,w,g){return _.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var r,f=this,i=f.getEl(),s=f.layoutRect();return f._super(),r=i.lastChild,g(i.firstChild).css({width:s.w-w.getSize(r).width,height:s.h-2}),g(r).css({height:s.h-2}),f},activeMenu:function(f){g(this.getEl().lastChild).toggleClass(this.classPrefix+"active",f)},renderHtml:function(){var t,f=this,i=f._id,s=f.classPrefix,r=f.state.get("icon"),o=f.state.get("text"),v="";return(t=f.settings.image)?(r="none","string"!=typeof t&&(t=window.getSelection?t[0]:t[1]),t=" style=\"background-image: url('"+t+"')\""):t="",r=f.settings.icon?s+"ico "+s+"i-"+r:"",o&&(f.classes.add("btn-has-text"),v='<span class="'+s+'txt">'+f.encode(o)+"</span>"),'<div id="'+i+'" class="'+f.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(r?'<i class="'+r+'"'+t+"></i>":"")+v+'</button><button type="button" class="'+s+'open" hidefocus="1" tabindex="-1">'+(f._menuBtnText?(r?"\xa0":"")+f._menuBtnText:"")+' <i class="'+s+'caret"></i></button></div>'},postRender:function(){var f=this,i=f.settings.onclick;return f.on("click",function(s){var t=s.target;if(s.control==this)for(;t;){if(s.aria&&"down"!=s.aria.key||"BUTTON"==t.nodeName&&-1==t.className.indexOf("open"))return s.stopImmediatePropagation(),void(i&&i.call(this,s));t=t.parentNode}}),delete f.settings.onclick,f._super()}})}),ge(ei,[hr],function(_){return _.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})}),ge(ti,[Bn,qe,Vt],function(_,w,g){return _.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(f){var i;this.activeTabId&&(i=this.getEl(this.activeTabId),w(i).removeClass(this.classPrefix+"active"),i.setAttribute("aria-selected","false")),this.activeTabId="t"+f,(i=this.getEl("t"+f)).setAttribute("aria-selected","true"),w(i).addClass(this.classPrefix+"active"),this.items()[f].show().fire("showtab"),this.reflow(),this.items().each(function(s,t){f!=t&&s.hide()})},renderHtml:function(){var f=this,i=f._layout,s="",t=f.classPrefix;return f.preRender(),i.preRender(f),f.items().each(function(r,o){var v=f._id+"-t"+o;r.aria("role","tabpanel"),r.aria("labelledby",v),s+='<div id="'+v+'" class="'+t+'tab" unselectable="on" role="tab" aria-controls="'+r._id+'" aria-selected="false" tabIndex="-1">'+f.encode(r.settings.title)+"</div>"}),'<div id="'+f._id+'" class="'+f.classes+'" hidefocus="1" tabindex="-1"><div id="'+f._id+'-head" class="'+t+'tabs" role="tablist">'+s+'</div><div id="'+f._id+'-body" class="'+f.bodyClasses+'">'+i.renderHtml(f)+"</div></div>"},postRender:function(){var f=this;f._super(),f.settings.activeTab=f.settings.activeTab||0,f.activateTab(f.settings.activeTab),this.on("click",function(i){var s=i.target.parentNode;if(s&&s.id==f._id+"-head")for(var t=s.childNodes.length;t--;)s.childNodes[t]==i.target&&f.activateTab(t)})},initLayoutRect:function(){var i,s,t,f=this;s=(s=g.getSize(f.getEl("head")).width)<0?0:s,t=0,f.items().each(function(o){s=Math.max(s,o.layoutRect().minW),t=Math.max(t,o.layoutRect().minH)}),f.items().each(function(o){o.settings.x=0,o.settings.y=0,o.settings.w=s,o.settings.h=t,o.layoutRect({x:0,y:0,w:s,h:t})});var r=g.getSize(f.getEl("head")).height;return f.settings.minWidth=s,f.settings.minHeight=t+r,(i=f._super()).deltaH+=r,i.innerH=i.h-i.deltaH,i}})}),ge(ni,[ft,Me,Vt],function(_,w,g){return _.extend({init:function(f){var i=this;i._super(f),i.classes.add("textbox"),f.multiline?i.classes.add("multiline"):(i.on("keydown",function(s){var t;13==s.keyCode&&(s.preventDefault(),i.parents().reverse().each(function(r){if(r.toJSON)return t=r,!1}),i.fire("submit",{data:t.toJSON()}))}),i.on("keyup",function(s){i.state.set("value",s.target.value)}))},repaint:function(){var i,s,t,r,v,f=this,o=0;i=f.getEl().style,s=f._layoutRect,v=f._lastRepaintRect||{};var u=document;return!f.settings.multiline&&u.all&&(!u.documentMode||u.documentMode<=8)&&(i.lineHeight=s.h-o+"px"),r=(t=f.borderBox).left+t.right+8,o=t.top+t.bottom+(f.settings.multiline?8:0),s.x!==v.x&&(i.left=s.x+"px",v.x=s.x),s.y!==v.y&&(i.top=s.y+"px",v.y=s.y),s.w!==v.w&&(i.width=s.w-r+"px",v.w=s.w),s.h!==v.h&&(i.height=s.h-o+"px",v.h=s.h),f._lastRepaintRect=v,f.fire("repaint",{},!1),f},renderHtml:function(){var s,t,f=this,i=f.settings;return s={id:f._id,hidefocus:"1"},w.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(r){s[r]=i[r]}),f.disabled()&&(s.disabled="disabled"),i.subtype&&(s.type=i.subtype),(t=g.create(i.multiline?"textarea":"input",s)).value=f.state.get("value"),t.className=f.classes,t.outerHTML},value:function(f){return arguments.length?(this.state.set("value",f),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var f=this;f.getEl().value=f.state.get("value"),f._super(),f.$el.on("change",function(i){f.state.set("value",i.target.value),f.fire("change",i)})},bindStates:function(){var f=this;return f.state.on("change:value",function(i){f.getEl().value!=i.value&&(f.getEl().value=i.value)}),f.state.on("change:disabled",function(i){f.getEl().disabled=i.value}),f._super()},remove:function(){this.$el.off(),this._super()}})}),ge("tinymce/Register",[],function(){var _=this||window;return"function"==typeof _.define&&(_.define.amd||_.define("ephox/tinymce",[],function(){return _.tinymce})),"object"==typeof module&&(module.exports=window.tinymce),{}}),function(_){var w,g,f,i,s;for(w=0;w<_.length;w++){g=Mt,i=(f=_[w]).split(/[.\/]/);for(var t=0;t<i.length-1;++t)g[i[t]]===Xt&&(g[i[t]]={}),g=g[i[t]];g[i[i.length-1]]=Nt[f]}if(Mt.AMDLC_TESTS){for(f in s=Mt.privateModules||{},Nt)s[f]=Nt[f];for(w=0;w<_.length;w++)delete s[_[w]];Mt.privateModules=s}}([Ie,j,xe,We,$e,ne,Me,qe,Q,q,te,oe,Be,fe,dt,Ce,Se,Je,Et,gt,Dt,Pe,ut,Tt,Ot,sn,cn,mt,$t,Fe,nt,ht,bt,Rt,Ut,En,Sn,Tn,Xn,On,An,Mn,Bn,$n,Yn,zn,Kn,De,Xe,wt,ft,It,jt,Gt,tn,hn,ir,or,ar,Qn,sr,lr,Er,Tr,Rr,Ar,Zn,Jn,er,Br,ur,tr,Pr,cr,Dr,dr,Mr,fr,Lr,pr,mr,Or,Hr,Fr,zr,hr,Wr,Vr,$r,qr,jr,gr,vr,nr,br,yr,xr,Xr,Yr,Kr,Gr,Jr,Qr,Zr,ei,ti,ni])}(window),function(){var Mt={},ge=function(Ie){var j=Mt[Ie];if(void 0===j)throw"module ["+Ie+"] was undefined";return void 0===j.instance&&function(Ie){for(var j=Mt[Ie],xe=j.deps,We=j.defn,$e=xe.length,ne=new Array($e),et=0;et<$e;++et)ne[et]=ge(xe[et]);var Me=We.apply(null,ne);if(void 0===Me)throw"module ["+Ie+"] returned undefined";j.instance=Me}(Ie),j.instance},xt=function(Ie,j,xe){if("string"!=typeof Ie)throw"module id must be a string";if(void 0===j)throw"no dependencies for "+Ie;if(void 0===xe)throw"no definition function for "+Ie;Mt[Ie]={deps:j,defn:xe,instance:void 0}},Nt=function(Ie,j){xt(Ie,[],function(){return j})};Nt("1",tinymce.Env),Nt("2",tinymce.EditorManager),Nt("3",tinymce.ThemeManager),Nt("8",tinymce.util.Tools),Nt("9",tinymce.ui.Factory),Nt("a",tinymce.DOM),xt("b",["8","9"],function(Ie,j){var We=function(ne,et,Me){var qe,Q=[];if(et)return Ie.each(et.split(/[ ,]/),function(q){var te=function(){var re=ne.selection;q.settings.stateSelector&&re.selectorChanged(q.settings.stateSelector,function(oe){q.active(oe)},!0),q.settings.disabledStateSelector&&re.selectorChanged(q.settings.disabledStateSelector,function(oe){q.disabled(oe)})};"|"==q?qe=null:j.has(q)?(Q.push(q={type:q,size:Me}),qe=null):(qe||Q.push(qe={type:"buttongroup",items:[]}),ne.buttons[q]&&("function"==typeof(q=ne.buttons[q])&&(q=q()),q.type=q.type||"button",q.size=Me,q=j.create(q),qe.items.push(q),ne.initialized?te():ne.on("init",te)))}),{type:"toolbar",layout:"flow",items:Q}};return{createToolbar:We,createToolbars:function(ne,et){var Me=[],qe=ne.settings,Q=function(me){if(me)return Me.push(We(ne,me,et)),!0};if(Ie.isArray(qe.toolbar)){if(0===qe.toolbar.length)return;Ie.each(qe.toolbar,function(me,te){qe["toolbar"+(te+1)]=me}),delete qe.toolbar}for(var q=1;q<10&&Q(qe["toolbar"+q]);q++);if(Me.length||!1===qe.toolbar||Q(qe.toolbar||"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"),Me.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:Me}}}}),xt("c",["8"],function(Ie){var j={file:{title:"File",items:"newdocument"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"|"},view:{title:"View",items:"visualaid |"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},table:{title:"Table"},tools:{title:"Tools"}},xe=function(ne,et){return"|"==et?{text:"|"}:ne[et]},We=function(ne,et,Me){var qe,Q,q,me,te;if(te=Ie.makeMap((et.removed_menuitems||"").split(/[ ,]/)),et.menu?(Q=et.menu[Me],me=!0):Q=j[Me],Q){qe={text:Q.title},q=[],Ie.each((Q.items||"").split(/[ ,]/),function(oe){xe(ne,oe)&&!te[oe]&&q.push(xe(ne,oe))}),me||Ie.each(ne,function(oe){oe.context==Me&&("before"==oe.separator&&q.push({text:"|"}),oe.prependToContext?q.unshift(oe):q.push(oe),"after"==oe.separator&&q.push({text:"|"}))});for(var re=0;re<q.length;re++)"|"==q[re].text&&(0!==re&&re!=q.length-1||q.splice(re,1));if(qe.menu=q,!qe.menu.length)return null}return qe};return{createMenuButtons:function(ne){var et,Me=[],qe=ne.settings,Q=[];if(qe.menu)for(et in qe.menu)Q.push(et);else for(et in j)Q.push(et);for(var q="string"==typeof qe.menubar?qe.menubar.split(/[ ,]/):Q,me=0;me<q.length;me++){var te=q[me];(te=We(ne.menuItems,ne.settings,te))&&Me.push(te)}return Me}}}),Nt("j",tinymce.util.Delay),Nt("k",tinymce.geom.Rect),xt("d",["a","8","j","b","9","k"],function(Ie,j,xe,We,$e,ne){var et=function(te){return{left:te.x,top:te.y,width:te.w,height:te.h,right:te.x+te.w,bottom:te.y+te.h}},qe=function(te,re){te.moveTo(re.left,re.top)},q=function(te,re,oe,Be,fe,Re){return Re=et({x:re,y:oe,w:Re.w,h:Re.h}),te&&(Re=te({elementRect:et(Be),contentAreaRect:et(fe),panelRect:Re})),Re};return{addContextualToolbars:function(te){var re,oe=te.settings,Be=function(){return te.contextToolbars||[]},Re=function(Se,Je){var Et,gt,Dt,Pe,ct,ut,Tt,Qe=oe.inline_toolbar_position_handler;if(!te.removed){if(!Se||!Se.toolbar.panel)return void function(te){j.each(te.contextToolbars,function(re){re.panel&&re.panel.hide()})}(te);Tt=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],ct=Se.toolbar.panel,Je&&ct.show(),Dt=function(Se){var Je,Et,gt;return Je=Ie.getPos(te.getContentAreaContainer()),Et=te.dom.getRect(Se),"BODY"===(gt=te.dom.getRoot()).nodeName&&(Et.x-=gt.ownerDocument.documentElement.scrollLeft||gt.scrollLeft,Et.y-=gt.ownerDocument.documentElement.scrollTop||gt.scrollTop),Et.x+=Je.x,Et.y+=Je.y,Et}(Se.element),gt=Ie.getRect(ct.getEl()),Pe=Ie.getRect(te.getContentAreaContainer()||te.getBody()),"inline"!==Ie.getStyle(Se.element,"display",!0)&&(Dt.w=Se.element.clientWidth,Dt.h=Se.element.clientHeight),te.inline||(Pe.w=te.getDoc().documentElement.offsetWidth),te.selection.controlSelection.isResizable(Se.element)&&Dt.w<25&&(Dt=ne.inflate(Dt,0,8)),Et=ne.findBestRelativePosition(gt,Dt,Pe,Tt),Dt=ne.clamp(Dt,Pe),Et?(ut=ne.relativePosition(gt,Dt,Et),qe(ct,q(Qe,ut.x,ut.y,Dt,Pe,gt))):(Pe.h+=gt.h,(Dt=ne.intersect(Pe,Dt))?(Et=ne.findBestRelativePosition(gt,Dt,Pe,["bc-tc","bl-tl","br-tr"]))?(ut=ne.relativePosition(gt,Dt,Et),qe(ct,q(Qe,ut.x,ut.y,Dt,Pe,gt))):qe(ct,q(Qe,Dt.x,Dt.y,Dt,Pe,gt)):ct.hide()),function(te,re,oe){re=re?re.substr(0,2):"",j.each({t:"down",b:"up"},function(Be,fe){te.classes.toggle("arrow-"+Be,oe(fe,re.substr(0,1)))}),j.each({l:"left",r:"right"},function(Be,fe){te.classes.toggle("arrow-"+Be,oe(fe,re.substr(1,1)))})}(ct,Et,function(Ct,He){return Ct===He})}},at=function(Se){return function(){xe.requestAnimationFrame(function(){te.selection&&Re(Ce(te.selection.getNode()),Se)})}},Le=function(){j.each(Be(),function(Se){Se.panel&&Se.panel.hide()})},Ce=function(Se){var Je,Et,gt,Dt=Be();for(Je=(gt=te.$(Se).parents().add(Se)).length-1;Je>=0;Je--)for(Et=Dt.length-1;Et>=0;Et--)if(Dt[Et].predicate(gt[Je]))return{toolbar:Dt[Et],element:gt[Je]};return null};te.on("click keyup setContent ObjectResized",function(Se){("setcontent"!==Se.type||Se.selection)&&xe.setEditorTimeout(te,function(){var Je;(Je=Ce(te.selection.getNode()))?(Le(),function(Se){var Je;Se.toolbar.panel?(Se.toolbar.panel.show(),Re(Se)):(re||(re=te.selection.getScrollContainer()||te.getWin(),Ie.bind(re,"scroll",at(!0)),te.on("remove",function(){Ie.unbind(re,"scroll")})),Je=$e.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:We.createToolbar(te,Se.toolbar.items),oncancel:function(){te.focus()}}),Se.toolbar.panel=Je,Je.renderTo(document.body).reflow(),Re(Se))}(Je)):Le()})}),te.on("blur hide contextmenu",Le),te.on("ObjectResizeStart",function(){var Se=Ce(te.selection.getNode());Se&&Se.toolbar.panel&&Se.toolbar.panel.hide()}),te.on("ResizeEditor ResizeWindow",at(!0)),te.on("nodeChange",at(!1)),te.on("remove",function(){j.each(Be(),function(Se){Se.panel&&Se.panel.remove()}),te.contextToolbars={}}),te.shortcuts.add("ctrl+shift+e > ctrl+shift+p","",function(){var Se=Ce(te.selection.getNode());Se&&Se.toolbar.panel&&Se.toolbar.panel.items()[0].focus()})}}}),xt("e",[],function(){var Ie=function(xe,We){return function(){var $e=xe.find(We)[0];$e&&$e.focus(!0)}};return{addKeys:function(xe,We){xe.shortcuts.add("Alt+F9","",Ie(We,"menubar")),xe.shortcuts.add("Alt+F10,F10","",Ie(We,"toolbar")),xe.shortcuts.add("Alt+F11","",Ie(We,"elementpath")),We.on("cancel",function(){xe.focus()})}}}),xt("f",["8","9","1"],function(Ie,j,xe){var $e=function(te,re,oe){var Be=te.settings[oe];Be&&Be(function(te){return{element:function(){return te}}}(re.getEl("body")))},qe=function(te,re,oe){return function(Be){var fe=Be.control,Re=fe.parents().filter("panel")[0],at=Re.find("#"+re)[0],pt=function(te,re){return Ie.grep(te,function(oe){return oe.name===re})[0]}(oe,re);(function(te,re,oe){Ie.each(oe,function(Be){var fe=re.items().filter("#"+Be.name)[0];fe&&fe.visible()&&Be.name!==te&&($e(Be,fe,"onhide"),fe.visible(!1))})})(re,Re,oe),function(te){te.items().each(function(re){re.active(!1)})}(fe.parent()),at&&at.visible()?($e(pt,at,"onhide"),at.hide(),fe.active(!1)):(at?(at.show(),$e(pt,at,"onshow")):(at=j.create({type:"container",name:re,layout:"stack",classes:"sidebar-panel",html:""}),Re.prepend(at),$e(pt,at,"onrender"),$e(pt,at,"onshow")),fe.active(!0)),te.fire("ResizeEditor")}};return{hasSidebar:function(te){return!(xe.ie&&!(xe.ie>=11)||!te.sidebars)&&te.sidebars.length>0},createSidebar:function(te){return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:Ie.map(te.sidebars,function(oe){var Be=oe.settings;return{type:"button",icon:Be.icon,image:Be.image,tooltip:Be.tooltip,onclick:qe(te,oe.name,te.sidebars)}})}]}}}}),xt("g",[],function(){return{fireSkinLoaded:function(j){var xe=function(){j._skinLoaded=!0,j.fire("SkinLoaded")};return function(){j.initialized?xe():j.on("init",xe)}}}}),xt("6",["a"],function(Ie){var j=function($e){return{width:$e.clientWidth,height:$e.clientHeight}},xe=function($e,ne,et){var Me,qe,Q,q,me=$e.settings;Me=$e.getContainer(),qe=$e.getContentAreaContainer().firstChild,Q=j(Me),q=j(qe),null!==ne&&(ne=Math.max(me.min_width||100,ne),ne=Math.min(me.max_width||65535,ne),Ie.setStyle(Me,"width",ne+(Q.width-q.width)),Ie.setStyle(qe,"width",ne)),et=Math.max(me.min_height||100,et),et=Math.min(me.max_height||65535,et),Ie.setStyle(qe,"height",et),$e.fire("ResizeEditor")};return{resizeTo:xe,resizeBy:function($e,ne,et){var Me=$e.getContentAreaContainer();xe($e,Me.clientWidth+ne,Me.clientHeight+et)}}}),xt("4",["8","9","a","b","c","d","e","f","g","6"],function(Ie,j,xe,We,$e,ne,et,Me,qe,Q){var me=function(oe){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:oe,html:""}},te=function(oe){return{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[me("0"),Me.createSidebar(oe)]}};return{render:function(oe,Be,fe){var Re,at,pt,dt=oe.settings;return fe.skinUiCss&&xe.styleSheetLoader.load(fe.skinUiCss,qe.fireSkinLoaded(oe)),Re=Be.panel=j.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[!1===dt.menubar?null:{type:"menubar",border:"0 0 1 0",items:$e.createMenuButtons(oe)},We.createToolbars(oe,dt.toolbar_items_size),Me.hasSidebar(oe)?te(oe):me("1 0 0 0")]}),!1!==dt.resize&&(at={type:"resizehandle",direction:dt.resize,onResizeStart:function(){var Le=oe.getContentAreaContainer().firstChild;pt={width:Le.clientWidth,height:Le.clientHeight}},onResize:function(Le){Q.resizeTo(oe,"both"===dt.resize?pt.width+Le.deltaX:null,pt.height+Le.deltaY)}}),!1!==dt.statusbar&&Re.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:oe},at]}),oe.fire("BeforeRenderUI"),oe.on("SwitchMode",function(oe){return function(Be){oe.find("*").disabled("readonly"===Be.mode)}}(Re)),Re.renderBefore(fe.targetNode).reflow(),dt.readonly&&oe.setMode("readonly"),dt.width&&xe.setStyle(Re.getEl(),"width",dt.width),oe.on("remove",function(){Re.remove(),Re=null}),et.addKeys(oe,Re),ne.addContextualToolbars(oe),{iframeContainer:Re.find("#iframe")[0].getEl(),editorContainer:Re.getEl()}}}}),Nt("h",tinymce.ui.FloatPanel),xt("5",["8","9","a","h","b","c","d","e","g"],function(Ie,j,xe,We,$e,ne,et,Me,qe){return{render:function(q,me,te){var re,oe,Be=q.settings;Be.fixed_toolbar_container&&(oe=xe.select(Be.fixed_toolbar_container)[0]);var fe=function(){if(re&&re.moveRel&&re.visible()&&!re._fixed){var dt=q.selection.getScrollContainer(),Le=q.getBody(),Ce=0,Se=0;if(dt){var Je=xe.getPos(Le),Et=xe.getPos(dt);Ce=Math.max(0,Et.x-Je.x),Se=Math.max(0,Et.y-Je.y)}re.fixed(!1).moveRel(Le,q.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(Ce,Se)}},Re=function(){re&&(re.show(),fe(),xe.addClass(q.getBody(),"mce-edit-focus"))},at=function(){re&&(re.hide(),We.hideAll(),xe.removeClass(q.getBody(),"mce-edit-focus"))},pt=function(){return re?void(re.visible()||Re()):(re=me.panel=j.create({type:oe?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!!oe,border:1,items:[!1===Be.menubar?null:{type:"menubar",border:"0 0 1 0",items:ne.createMenuButtons(q)},$e.createToolbars(q,Be.toolbar_items_size)]}),q.fire("BeforeRenderUI"),re.renderTo(oe||document.body).reflow(),Me.addKeys(q,re),Re(),et.addContextualToolbars(q),q.on("nodeChange",fe),q.on("activate",Re),q.on("deactivate",at),void q.nodeChanged())};return Be.content_editable=!0,q.on("focus",function(){te.skinUiCss?xe.styleSheetLoader.load(te.skinUiCss,pt,pt):pt()}),q.on("blur hide",at),q.on("remove",function(){re&&(re.remove(),re=null)}),te.skinUiCss&&xe.styleSheetLoader.load(te.skinUiCss,qe.fireSkinLoaded(q)),{}}}}),Nt("i",tinymce.ui.Throbber),xt("7",["i"],function(Ie){return{setup:function(xe,We){var $e;xe.on("ProgressState",function(ne){$e=$e||new Ie(We.panel.getEl("body")),ne.state?$e.show(ne.time):$e.hide()})}}}),xt("0",["1","2","3","4","5","6","7"],function(Ie,j,xe,We,$e,ne,et){return xe.add("modern",function(qe){return{renderUI:function(Q){return function(qe,Q,q){var me=qe.settings,te=!1!==me.skin&&(me.skin||"lightgray");if(te){var re=me.skin_url;re=re?qe.documentBaseURI.toAbsolute(re):j.baseURL+"/skins/"+te,q.skinUiCss=Ie.documentMode<=7?re+"/skin.ie7.min.css":re+"/skin.min.css",qe.contentCSS.push(re+"/content"+(qe.inline?".inline":"")+".min.css")}return et.setup(qe,Q),me.inline?$e.render(qe,Q,q):We.render(qe,Q,q)}(qe,this,Q)},resizeTo:function(Q,q){return ne.resizeTo(qe,Q,q)},resizeBy:function(Q,q){return ne.resizeBy(qe,Q,q)}}}),function(){}}),ge("0")()}(),tinymce.PluginManager.add("link",function(Mt){function Xt(q){return q&&"A"===q.nodeName&&q.href}function Dn(q){return tinymce.util.Tools.grep(q,Xt).length>0}function ge(q){return Mt.dom.getParent(q,"a[href]")}function Fn(){return ge(Mt.selection.getStart())}function xe(q){if(q){var me=function(q){return q.getAttribute("data-mce-href")||q.getAttribute("href")}(q);if(/^#/.test(me)){var te=Mt.$(me);te.length&&Mt.selection.scrollIntoView(te[0],!0)}else!function(q){if(!tinymce.Env.ie||tinymce.Env.ie>10){var me=document.createElement("a");me.target="_blank",me.href=q,me.rel="noreferrer noopener";var te=document.createEvent("MouseEvents");te.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),function(q,me){document.body.appendChild(q),q.dispatchEvent(me),document.body.removeChild(q)}(me,te)}else{var re=window.open("","_blank");if(re){re.opener=null;var oe=re.document;oe.open(),oe.write('<meta http-equiv="refresh" content="0; url='+tinymce.DOM.encode(q)+'">'),oe.close()}}}(q.href)}}function We(){xe(Fn())}function ne(q){return function(){var me=Mt.settings.link_list;"string"==typeof me?tinymce.util.XHR.send({url:me,success:function(te){q(tinymce.util.JSON.parse(te))}}):"function"==typeof me?me(q):q(me)}}function et(q,me,te){return function re(oe,Be){return Be=Be||[],tinymce.each(oe,function(fe){var Re={text:fe.text||fe.title};fe.menu?Re.menu=re(fe.menu):(Re.value=fe.value,me&&me(Re)),Be.push(Re)}),Be}(q,te||[])}function Me(q){function me(ve){var Qe=dt.find("#text");(!Qe.value()||ve.lastControl&&Qe.value()==ve.lastControl.text())&&Qe.value(ve.control.text()),dt.find("#href").value(ve.control.value())}function re(){!pt&&0===ct.text.length&&Le&&this.parent().parent().find("#text")[0].value(this.value())}var Re,at,pt,dt,Le,Ce,Se,Je,Et,gt,Dt,Pe,Qe,ct={},ut=Mt.selection,Tt=Mt.dom;Re=ut.getNode(),at=Tt.getParent(Re,"a[href]"),Qe=ut.getContent(),Le=!(/</.test(Qe)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(Qe)||-1==Qe.indexOf("href="))),ct.text=pt=at?at.innerText||at.textContent:ut.getContent({format:"text"}),ct.href=at?Tt.getAttrib(at,"href"):"",at?ct.target=Tt.getAttrib(at,"target"):Mt.settings.default_link_target&&(ct.target=Mt.settings.default_link_target),(Pe=Tt.getAttrib(at,"rel"))&&(ct.rel=Pe),(Pe=Tt.getAttrib(at,"class"))&&(ct.class=Pe),(Pe=Tt.getAttrib(at,"title"))&&(ct.title=Pe),Le&&(Ce={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){ct.text=this.value()}}),q&&(Se={type:"listbox",label:"Link list",values:et(q,function(ve){ve.value=Mt.convertURL(ve.value||ve.url,"href")},[{text:"None",value:""}]),onselect:me,value:Mt.convertURL(ct.href,"href"),onPostRender:function(){Se=this}}),!1!==Mt.settings.target_list&&(Mt.settings.target_list||(Mt.settings.target_list=[{text:"None",value:""},{text:"New window",value:"_blank"}]),Et={name:"target",type:"listbox",label:"Target",values:et(Mt.settings.target_list)}),Mt.settings.rel_list&&(Je={name:"rel",type:"listbox",label:"Rel",values:et(Mt.settings.rel_list)}),Mt.settings.link_class_list&&(gt={name:"class",type:"listbox",label:"Class",values:et(Mt.settings.link_class_list,function(ve){ve.value&&(ve.textStyle=function(){return Mt.formatter.getCssText({inline:"a",classes:[ve.value]})})})}),!1!==Mt.settings.link_title&&(Dt={name:"title",type:"textbox",label:"Title",value:ct.title}),dt=Mt.windowManager.open({title:"Insert link",data:ct,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:function(ve){var Qe=ve.meta||{};Se&&Se.value(Mt.convertURL(this.value(),"href")),tinymce.each(ve.meta,function(Ct,He){var _t=dt.find("#"+He);"text"===He?0===pt.length&&(_t.value(Ct),ct.text=Ct):_t.value(Ct)}),Qe.attach&&(qe={href:this.value(),attach:Qe.attach}),Qe.text||re.call(this)},onkeyup:re,onbeforecall:function(ve){ve.meta=dt.toJSON()}},Ce,Dt,function(ve){var Qe=[];if(tinymce.each(Mt.dom.select("a:not([href])"),function(Ct){var He=Ct.name||Ct.id;He&&Qe.push({text:He,value:"#"+He,selected:-1!=ve.indexOf("#"+He)})}),Qe.length)return Qe.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:Qe,onselect:me}}(ct.href),Se,Je,Et,gt],onSubmit:function(ve){function Qe(Ot,sn){var rn=Mt.selection.getRng();tinymce.util.Delay.setEditorTimeout(Mt,function(){Mt.windowManager.confirm(Ot,function(Qt){Mt.selection.setRng(rn),sn(Qt)})})}function He(){var Ot={href:Lt,target:ct.target?ct.target:null,rel:ct.rel?ct.rel:null,class:ct.class?ct.class:null,title:ct.title?ct.title:null};Mt.settings.allow_unsafe_link_target||(Ot.rel=function(Ot,sn){function Qt(cn){var wn=new RegExp("("+Cn.replace(" ","|")+")","g");return cn&&(cn=tinymce.trim(cn.replace(wn,""))),cn||null}var cn,Cn="noopener noreferrer";return sn?(cn=Qt(cn=Ot))?[cn,Cn].join(" "):Cn:Qt(Ot)}(Ot.rel,"_blank"==Ot.target)),Lt===qe.href&&(qe.attach(),qe={}),at?(Mt.focus(),Le&&ct.text!=pt&&("innerText"in at?at.innerText=ct.text:at.textContent=ct.text),Tt.setAttribs(at,Ot),ut.select(at),Mt.undoManager.add()):Le?Mt.insertContent(Tt.createHTML("a",Ot,Tt.encode(ct.text))):Mt.execCommand("mceInsertLink",!1,Ot)}function _t(){Mt.undoManager.transact(He)}var Lt;return ct=tinymce.extend(ct,ve.data),(Lt=ct.href)?Lt.indexOf("@")>0&&-1==Lt.indexOf("//")&&-1==Lt.indexOf("mailto:")?void Qe("The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(Ot){Ot&&(Lt="mailto:"+Lt),_t()}):Mt.settings.link_assume_external_targets&&!/^\w+:/i.test(Lt)||!Mt.settings.link_assume_external_targets&&/^\s*www[\.|\d\.]/i.test(Lt)?void Qe("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(Ot){Ot&&(Lt="http://"+Lt),_t()}):void _t():void Mt.execCommand("unlink")}})}var qe={};Mt.addButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onclick:ne(Me),stateSelector:"a[href]"}),Mt.addButton("unlink",{icon:"unlink",tooltip:"Remove link",cmd:"unlink",stateSelector:"a[href]"}),Mt.addContextToolbar&&(Mt.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:We}),Mt.addContextToolbar(function(q){var me,te,re;return!!(Mt.settings.link_context_toolbar&&!function(){var q=Mt.plugins.contextmenu;return!!q&&q.isContextMenuVisible()}()&&Xt(q)&&(me=Mt.selection,te=me.getRng(),re=te.startContainer,3==re.nodeType&&me.isCollapsed()&&te.startOffset>0&&te.startOffset<re.data.length))},"openlink | link unlink")),Mt.addShortcut("Meta+K","",ne(Me)),Mt.addCommand("mceLink",ne(Me)),Mt.on("click",function(q){var me=ge(q.target);me&&tinymce.util.VK.metaKeyPressed(q)&&(q.preventDefault(),xe(me))}),Mt.on("keydown",function(q){var me=Fn();me&&13===q.keyCode&&function(q){return!0===q.altKey&&!1===q.shiftKey&&!1===q.ctrlKey&&!1===q.metaKey}(q)&&(q.preventDefault(),xe(me))}),this.showDialog=Me,Mt.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:We,onPostRender:function(){var q=this,me=function(te){Dn(te.parents)?q.show():q.hide()};Dn(Mt.dom.getParents(Mt.selection.getStart()))||q.hide(),Mt.on("nodechange",me),q.on("remove",function(){Mt.off("nodechange",me)})},prependToContext:!0}),Mt.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:ne(Me),stateSelector:"a[href]",context:"insert",prependToContext:!0})}),function(Mt,Xt){"use strict";function ge(Nt,Ie,j){if("string"!=typeof Nt)throw"invalid module definition, module id must be defined and be a string";if(Ie===Xt)throw"invalid module definition, dependencies must be specified";if(j===Xt)throw"invalid module definition, definition function must be specified";!function(Nt,Ie){for(var j,xe=[],We=0;We<Nt.length;++We){if(!(j=xt[Nt[We]]||Fn(Nt[We])))throw"module definition dependecy not found: "+Nt[We];xe.push(j)}Ie.apply(null,xe)}(Ie,function(){xt[Nt]=j.apply(null,arguments)})}function Fn(Nt){for(var Ie=Mt,j=Nt.split(/[.\/]/),xe=0;xe<j.length;++xe){if(!Ie[j[xe]])return;Ie=Ie[j[xe]]}return Ie}var xt={};ge("tinymce/pasteplugin/Utils",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema"],function(Nt,Ie,j){function xe(Me,qe){return Nt.each(qe,function(Q){Me=Q.constructor==RegExp?Me.replace(Q,""):Me.replace(Q[0],Q[1])}),Me}return{filter:xe,innerText:function(Me){var Q=new j,q=new Ie({},Q),me="",te=Q.getShortEndedElements(),re=Nt.makeMap("script noscript style textarea video audio iframe object"," "),oe=Q.getBlockElements();return Me=xe(Me,[/<!\[[^\]]+\]>/g]),function qe(Be){var fe=Be.name,Re=Be;if("br"!==fe)if(te[fe]&&(me+=" "),re[fe])me+=" ";else{if(3==Be.type&&(me+=Be.value),!Be.shortEnded&&(Be=Be.firstChild))do{qe(Be)}while(Be=Be.next);oe[fe]&&Re.next&&(me+="\n","p"==fe&&(me+="\n"))}else me+="\n"}(q.parse(Me)),me},trimHtml:function(Me){return xe(function(Me){var qe="\x3c!--StartFragment--\x3e",Q="\x3c!--EndFragment--\x3e",q=Me.indexOf(qe);if(-1!==q){var me=Me.substr(q+qe.length),te=me.indexOf(Q);if(-1!==te&&/^<\/(p|h[1-6]|li)>/i.test(me.substr(te+Q.length,5)))return me.substr(0,te)}return Me}(Me),[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(Q,q,me){return q||me?"\xa0":" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},createIdGenerator:function(Me){var qe=0;return function(){return Me+qe++}}}}),ge("tinymce/pasteplugin/SmartPaste",["tinymce/util/Tools"],function(Nt){var Ie=function(Q){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(Q)},j=function(Q){return Ie(Q)&&/.(gif|jpe?g|png)$/.test(Q)},$e=function(Q,q,me){return!(!1!==Q.selection.isCollapsed()||!Ie(q))&&function(Q,q,me){return Q.undoManager.extra(function(){me(Q,q)},function(){Q.execCommand("mceInsertLink",!1,q)}),!0}(Q,q,me)},ne=function(Q,q,me){return!!j(q)&&function(Q,q,me){return Q.undoManager.extra(function(){me(Q,q)},function(){Q.insertContent('<img src="'+q+'">')}),!0}(Q,q,me)},et=function(Q,q){return Q.insertContent(q,{merge:!1!==Q.settings.paste_merge_formats,paste:!0}),!0};return{isImageUrl:j,isAbsoluteUrl:Ie,insertContent:function(Q,q){!1===Q.settings.smart_paste?et(Q,q):function(Q,q){Nt.each([$e,ne,et],function(me){return!0!==me(Q,q,et)})}(Q,q)}}}),ge("tinymce/pasteplugin/Clipboard",["tinymce/Env","tinymce/dom/RangeUtils","tinymce/util/VK","tinymce/pasteplugin/Utils","tinymce/pasteplugin/SmartPaste","tinymce/util/Delay"],function(Nt,Ie,j,xe,We,$e){return function(ne){function et(ve){var Qe,Ct=ne.dom;if(Qe=ne.fire("BeforePastePreProcess",{content:ve}),ve=(Qe=ne.fire("PastePreProcess",Qe)).content,!Qe.isDefaultPrevented()){if(ne.hasEventListeners("PastePostProcess")&&!Qe.isDefaultPrevented()){var He=Ct.add(ne.getBody(),"div",{style:"display:none"},ve);Qe=ne.fire("PastePostProcess",{node:He}),Ct.remove(He),ve=Qe.node.innerHTML}Qe.isDefaultPrevented()||We.insertContent(ne,ve)}}function Me(ve){ve=ne.dom.encode(ve).replace(/\r\n/g,"\n");var Qe,Ct=ne.dom.getParent(ne.selection.getStart(),ne.dom.isBlock),He=ne.settings.forced_root_block;He&&(Qe=(Qe=ne.dom.createHTML(He,ne.settings.forced_root_block_attrs)).substr(0,Qe.length-3)+">"),Ct&&/^(PRE|DIV)$/.test(Ct.nodeName)||!He?ve=xe.filter(ve,[[/\n/g,"<br>"]]):-1!=(ve=xe.filter(ve,[[/\n\n/g,"</p>"+Qe],[/^(.*<\/p>)(<p>)$/,Qe+"$1"],[/\n/g,"<br />"]])).indexOf("<p>")&&(ve=Qe+ve),et(ve)}function qe(){var Qe,Ct=ne.dom,He=ne.getBody(),Lt=ne.dom.getViewPort(ne.getWin()).y,Ot=20;if(Je=ne.selection.getRng(),ne.inline&&(Qe=ne.selection.getScrollContainer())&&Qe.scrollTop>0&&(Lt=Qe.scrollTop),Je.getClientRects){var sn=function(Qt){var Cn,cn,wn,lt=Qt.startContainer;if((Cn=Qt.getClientRects()).length)return Cn[0];if(Qt.collapsed&&1==lt.nodeType){for(wn=lt.childNodes[Je.startOffset];wn&&3==wn.nodeType&&!wn.data.length;)wn=wn.nextSibling;if(wn)return"BR"==wn.tagName&&(cn=Ct.doc.createTextNode("\ufeff"),wn.parentNode.insertBefore(cn,wn),(Qt=Ct.createRng()).setStartBefore(cn),Qt.setEndAfter(cn),Cn=Qt.getClientRects(),Ct.remove(cn)),Cn.length?Cn[0]:void 0}}(Je);if(sn)Ot=Lt+(sn.top-Ct.getPos(He).y);else{Ot=Lt;var rn=Je.startContainer;rn&&(3==rn.nodeType&&rn.parentNode!=He&&(rn=rn.parentNode),1==rn.nodeType&&(Ot=Ct.getPos(rn,Qe||He).y))}}Se=Ct.add(ne.getBody(),"div",{id:"mcepastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: absolute; top: "+Ot+"px;width: 10px; height: 10px; overflow: hidden; opacity: 0"},ct),(Nt.ie||Nt.gecko)&&Ct.setStyle(Se,"left","rtl"==Ct.getStyle(He,"direction",!0)?65535:-65535),Ct.bind(Se,"beforedeactivate focusin focusout",function(Qt){Qt.stopPropagation()}),Se.focus(),ne.selection.select(Se,!0)}function Q(){if(Se){for(var ve;ve=ne.dom.get("mcepastebin");)ne.dom.remove(ve),ne.dom.unbind(ve);Je&&ne.selection.setRng(Je)}Se=Je=null}function q(){var ve,Qe,Ct,_t="";for(ve=ne.dom.select("div[id=mcepastebin]"),Qe=0;Qe<ve.length;Qe++)(Ct=ve[Qe]).firstChild&&"mcepastebin"==Ct.firstChild.id&&(Ct=Ct.firstChild),_t!=ct&&(_t+=Ct.innerHTML);return _t}function me(ve){var Qe={};if(ve){if(ve.getData){var Ct=ve.getData("Text");Ct&&Ct.length>0&&-1==Ct.indexOf(ut)&&(Qe["text/plain"]=Ct)}if(ve.types)for(var He=0;He<ve.types.length;He++){var _t=ve.types[He];Qe[_t]=ve.getData(_t)}}return Qe}function re(ve){return dt(ve,"text/html")||dt(ve,"text/plain")}function fe(ve,Qe,Ct){ve&&(ne.selection.setRng(ve),ve=null);var He=Qe.result,_t=function(ve){var Qe;return-1!==(Qe=ve.indexOf(","))?ve.substr(Qe+1):null}(He),Lt=new Image;if(Lt.src=He,function(ve,Qe){return!ve.images_dataimg_filter||ve.images_dataimg_filter(Qe)}(ne.settings,Lt)){var Ot,sn,rn=ne.editorUpload.blobCache;(sn=rn.findFirst(function(Qt){return Qt.base64()===_t}))?Ot=sn:(Ot=rn.create(Tt(),Ct,_t),rn.add(Ot)),et('<img src="'+Ot.blobUri()+'">')}else et('<img src="'+He+'">')}function Re(ve,Qe){function Ct(_t){var Lt,Ot,sn,rn=!1;if(_t)for(Lt=0;Lt<_t.length;Lt++)if(/^image\/(jpeg|png|gif|bmp)$/.test((Ot=_t[Lt]).type)){var Qt=Ot.getAsFile?Ot.getAsFile():Ot;(sn=new FileReader).onload=fe.bind(null,Qe,sn,Qt),sn.readAsDataURL(Qt),ve.preventDefault(),rn=!0}return rn}var He=ve.clipboardData||ve.dataTransfer;if(ne.settings.paste_data_images&&He)return Ct(He.items)||Ct(He.files)}function dt(ve,Qe){return Qe in ve&&ve[Qe].length>0}function Le(ve){return j.metaKeyPressed(ve)&&86==ve.keyCode||ve.shiftKey&&45==ve.keyCode}var Se,Je,Et,gt=this,Dt=0,Pe=!1,ct="%MCEPASTEBIN%",ut="data:text/mce-internal,",Tt=xe.createIdGenerator("mceclip");gt.pasteHtml=et,gt.pasteText=Me,gt.pasteImageData=Re,ne.on("preInit",function(){(function(){function ve(He,_t,Lt){var Ot;return dt(He,"text/html")?Ot=He["text/html"]:(Ot=q())==ct&&(Lt=!0),Ot=xe.trimHtml(Ot),Se&&Se.firstChild&&"mcepastebin"===Se.firstChild.id&&(Lt=!0),Q(),Ot.length||(Lt=!0),Lt&&(Ot=dt(He,"text/plain")&&-1==Ot.indexOf("</p>")?He["text/plain"]:xe.innerText(Ot)),Ot==ct?void(_t||ne.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.")):void(Lt?Me(Ot):et(Ot))}ne.on("keydown",function(He){function _t(Lt){Le(Lt)&&!Lt.isDefaultPrevented()&&Q()}if(Le(He)&&!He.isDefaultPrevented()){if((Et=He.shiftKey&&86==He.keyCode)&&Nt.webkit&&-1!=navigator.userAgent.indexOf("Version/"))return;if(He.stopImmediatePropagation(),Dt=(new Date).getTime(),Nt.ie&&Et)return He.preventDefault(),void ne.fire("paste",{ieFake:!0});Q(),qe(),ne.once("keyup",_t),ne.once("paste",function(){ne.off("keyup",_t)})}}),ne.on("paste",function(He){var _t=(new Date).getTime(),Lt=function(ve){return me(ve.clipboardData||ne.getDoc().dataTransfer)}(He),Ot=(new Date).getTime()-_t,sn=(new Date).getTime()-Dt-Ot<1e3,rn="text"==gt.pasteFormat||Et;return Et=!1,He.isDefaultPrevented()||function(ve){var Qe=ve.clipboardData;return-1!=navigator.userAgent.indexOf("Android")&&Qe&&Qe.items&&0===Qe.items.length}(He)||!re(Lt)&&Re(He,Je||ne.selection.getRng())?void Q():(sn||He.preventDefault(),!Nt.ie||sn&&!He.ieFake||(qe(),ne.dom.bind(Se,"paste",function(Qt){Qt.stopPropagation()}),ne.getDoc().execCommand("Paste",!1,null),Lt["text/html"]=q()),void(dt(Lt,"text/html")?(He.preventDefault(),ve(Lt,sn,rn)):$e.setEditorTimeout(ne,function(){ve(Lt,sn,rn)},0)))}),ne.on("dragstart dragend",function(He){Pe="dragstart"==He.type}),ne.on("drop",function(He){var _t,Lt;if(Lt=function(ve){return Ie.getCaretRangeFromPoint(ve.clientX,ve.clientY,ne.getDoc())}(He),!He.isDefaultPrevented()&&!Pe&&(re(_t=me(He.dataTransfer))&&!function(He){var _t=He["text/plain"];return!!_t&&0===_t.indexOf("file://")}(_t)||!Re(He,Lt))&&Lt&&!1!==ne.settings.paste_filter_drop){var Ot=_t["mce-internal"]||_t["text/html"]||_t["text/plain"];Ot&&(He.preventDefault(),$e.setEditorTimeout(ne,function(){ne.undoManager.transact(function(){_t["mce-internal"]&&ne.execCommand("Delete"),ne.selection.setRng(Lt),Ot=xe.trimHtml(Ot),_t["text/html"]?et(Ot):Me(Ot)})}))}}),ne.on("dragover dragend",function(He){ne.settings.paste_data_images&&He.preventDefault()})})(),ne.parser.addNodeFilter("img",function(ve,Qe,Ct){function _t(Qt){Qt.attr("data-mce-object")||rn===Nt.transparentSrc||Qt.remove()}function Lt(Qt){return 0===Qt.indexOf("webkit-fake-url")}function Ot(Qt){return 0===Qt.indexOf("data:")}if(!ne.settings.paste_data_images&&(Qt=Ct).data&&!0===Qt.data.paste)for(var sn=ve.length;sn--;){var rn=ve[sn].attributes.map.src;rn&&(Lt(rn)||!ne.settings.allow_html_data_urls&&Ot(rn))&&_t(ve[sn])}var Qt})})}}),ge("tinymce/pasteplugin/WordFilter",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema","tinymce/html/Serializer","tinymce/html/Node","tinymce/pasteplugin/Utils"],function(Nt,Ie,j,xe,We,$e){function ne(Q){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(Q)||/class="OutlineElement/.test(Q)||/id="?docs\-internal\-guid\-/.test(Q)}function et(Q){var q,me;return me=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],Q=Q.replace(/^[\u00a0 ]+/,""),Nt.each(me,function(te){if(te.test(Q))return q=!0,!1}),q}function Me(Q){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(Q)}function qe(Q){var q=Q.settings;Q.on("BeforePastePreProcess",function(me){function re(Le,Ce){var Se,Je={},Et=Q.dom.parseStyle(Ce);return Nt.each(Et,function(gt,Dt){switch(Dt){case"mso-list":(Se=/\w+ \w+([0-9]+)/i.exec(Ce))&&(Le._listLevel=parseInt(Se[1],10)),/Ignore/i.test(gt)&&Le.firstChild&&(Le._listIgnore=!0,Le.firstChild._listIgnore=!0);break;case"horiz-align":Dt="text-align";break;case"vert-align":Dt="vertical-align";break;case"font-color":case"mso-foreground":Dt="color";break;case"mso-background":case"mso-highlight":Dt="background";break;case"font-weight":case"font-style":return void("normal"!=gt&&(Je[Dt]=gt));case"mso-element":if(/^(comment|comment-list)$/i.test(gt))return void Le.remove()}return 0===Dt.indexOf("mso-comment")?void Le.remove():void(0!==Dt.indexOf("mso-")&&("all"==oe||Be&&Be[Dt])&&(Je[Dt]=gt))}),/(bold)/i.test(Je["font-weight"])&&(delete Je["font-weight"],Le.wrap(new We("b",1))),/(italic)/i.test(Je["font-style"])&&(delete Je["font-style"],Le.wrap(new We("i",1))),(Je=Q.dom.serializeStyle(Je,Le.name))||null}var oe,Be,fe=me.content;if(fe=(fe=fe.replace(/<b[^>]+id="?docs-internal-[^>]*>/gi,"")).replace(/<br class="?Apple-interchange-newline"?>/gi,""),(oe=q.paste_retain_style_properties)&&(Be=Nt.makeMap(oe.split(/[, ]/))),!1!==q.paste_enable_default_filters&&ne(me.content)){me.wordContent=!0,fe=$e.filter(fe,[/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"\xa0"],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(Le,Ce){return Ce.length>0?Ce.replace(/./," ").slice(Math.floor(Ce.length/2)).split("").join("\xa0"):""}]]);var Re=q.paste_word_valid_elements;Re||(Re="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody");var at=new j({valid_elements:Re,valid_children:"-li[p]"});Nt.each(at.elements,function(Le){Le.attributes.class||(Le.attributes.class={},Le.attributesOrder.push("class")),Le.attributes.style||(Le.attributes.style={},Le.attributesOrder.push("style"))});var pt=new Ie({},at);pt.addAttributeFilter("style",function(Le){for(var Ce,Se=Le.length;Se--;)(Ce=Le[Se]).attr("style",re(Ce,Ce.attr("style"))),"span"==Ce.name&&Ce.parent&&!Ce.attributes.length&&Ce.unwrap()}),pt.addAttributeFilter("class",function(Le){for(var Ce,Se,Je=Le.length;Je--;)Se=(Ce=Le[Je]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(Se)&&Ce.remove(),Ce.attr("class",null)}),pt.addNodeFilter("del",function(Le){for(var Ce=Le.length;Ce--;)Le[Ce].remove()}),pt.addNodeFilter("a",function(Le){for(var Ce,Se,Je,Et=Le.length;Et--;)if(Se=(Ce=Le[Et]).attr("href"),Je=Ce.attr("name"),Se&&-1!=Se.indexOf("#_msocom_"))Ce.remove();else if(Se&&0===Se.indexOf("file://")&&(Se=Se.split("#")[1])&&(Se="#"+Se),Se||Je){if(Je&&!/^_?(?:toc|edn|ftn)/i.test(Je)){Ce.unwrap();continue}Ce.attr({href:Se,name:Je})}else Ce.unwrap()});var dt=pt.parse(fe);!1!==q.paste_convert_word_fake_lists&&function(Le){function Ce(He){var _t="";if(3===He.type)return He.value;if(He=He.firstChild)do{_t+=Ce(He)}while(He=He.next);return _t}function Se(He,_t){if(3===He.type&&_t.test(He.value))return He.value=He.value.replace(_t,""),!1;if(He=He.firstChild)do{if(!Se(He,_t))return!1}while(He=He.next);return!0}function Je(He){if(He._listIgnore)He.remove();else if(He=He.firstChild)do{Je(He)}while(He=He.next)}function Et(He,_t,Lt){var Ot=He._listLevel||Pe;Ot!=Pe&&(Ot<Pe?gt&&(gt=gt.parent.parent):(Dt=gt,gt=null)),gt&&gt.name==_t?gt.append(He):(Dt=Dt||gt,gt=new We(_t,1),Lt>1&&gt.attr("start",""+Lt),He.wrap(gt)),He.name="li",Ot>Pe&&Dt&&Dt.lastChild.append(gt),Pe=Ot,Je(He),Se(He,/^\u00a0+/),Se(He,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),Se(He,/^\u00a0+/)}for(var gt,Dt,Pe=1,ct=[],ut=Le.firstChild;null!=ut;)if(ct.push(ut),null!==(ut=ut.walk()))for(;void 0!==ut&&ut.parent!==Le;)ut=ut.walk();for(var Tt=0;Tt<ct.length;Tt++)if("p"==(Le=ct[Tt]).name&&Le.firstChild){var ve=Ce(Le);if(Me(ve)){Et(Le,"ul");continue}if(et(ve)){var Qe=/([0-9]+)\./.exec(ve),Ct=1;Qe&&(Ct=parseInt(Qe[1],10)),Et(Le,"ol",Ct);continue}if(Le._listLevel){Et(Le,"ul",1);continue}gt=null}else Dt=gt,gt=null}(dt),me.content=new xe({validate:q.validate},at).serialize(dt)}})}return qe.isWordContent=ne,qe}),ge("tinymce/pasteplugin/Quirks",["tinymce/Env","tinymce/util/Tools","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Utils"],function(Nt,Ie,j,xe){return function(We){function $e(Q){We.on("BeforePastePreProcess",function(q){q.content=Q(q.content)})}var Q;Nt.webkit&&$e(function(Q){if(j.isWordContent(Q))return Q;var q=We.settings.paste_webkit_styles;if(!1===We.settings.paste_remove_styles_if_webkit||"all"==q)return Q;if(q&&(q=q.split(/[, ]/)),q){var me=We.dom,te=We.selection.getNode();Q=Q.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(re,oe,Be,fe){var Re=me.parseStyle(Be,"span"),at={};if("none"===q)return oe+fe;for(var pt=0;pt<q.length;pt++){var dt=Re[q[pt]],Le=me.getStyle(te,q[pt],!0);/color/.test(q[pt])&&(dt=me.toHex(dt),Le=me.toHex(Le)),Le!=dt&&(at[q[pt]]=dt)}return(at=me.serializeStyle(at,"span"))?oe+' style="'+at+'"'+fe:oe+fe})}else Q=Q.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return Q.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(re,oe,Be,fe){return oe+' style="'+Be+'"'+fe})}),Nt.ie&&($e(function(Q){if(!j.isWordContent(Q))return Q;var q=[];Ie.each(We.schema.getBlockElements(),function(te,re){q.push(re)});var me=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+q.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return Q=xe.filter(Q,[[me,"$1"]]),xe.filter(Q,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}),Q=function(Q){We.$("a",Q).find("font,u").each(function(q,me){We.dom.remove(me,!0)})},We.on("PastePostProcess",function(q){Q(q.node)}))}}),ge("tinymce/pasteplugin/Plugin",["tinymce/PluginManager","tinymce/pasteplugin/Clipboard","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Quirks"],function(Nt,Ie,j,xe){var We;Nt.add("paste",function($e){function et(){if("text"==qe.pasteFormat)qe.pasteFormat="html",$e.fire("PastePlainTextToggle",{state:!1});else if(qe.pasteFormat="text",$e.fire("PastePlainTextToggle",{state:!0}),!We&&!1!==$e.settings.paste_plaintext_inform){var me=$e.translate("Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.");$e.notificationManager.open({text:me,type:"info"}),We=!0}$e.focus()}function Me(){var me=this;me.active("text"===qe.pasteFormat),$e.on("PastePlainTextToggle",function(te){me.active(te.state)})}var qe,Q=this,q=$e.settings;return/(^|[ ,])powerpaste([, ]|$)/.test(q.plugins)&&Nt.get("powerpaste")?void("undefined"!=typeof console&&console.log&&console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option.")):(Q.clipboard=qe=new Ie($e),Q.quirks=new xe($e),Q.wordFilter=new j($e),$e.settings.paste_as_text&&(Q.clipboard.pasteFormat="text"),q.paste_preprocess&&$e.on("PastePreProcess",function(me){q.paste_preprocess.call(Q,Q,me)}),q.paste_postprocess&&$e.on("PastePostProcess",function(me){q.paste_postprocess.call(Q,Q,me)}),$e.addCommand("mceInsertClipboardContent",function(me,te){te.content&&Q.clipboard.pasteHtml(te.content),te.text&&Q.clipboard.pasteText(te.text)}),$e.settings.paste_block_drop&&$e.on("dragend dragover draggesture dragdrop drop drag",function(me){me.preventDefault(),me.stopPropagation()}),$e.settings.paste_data_images||$e.on("drop",function(me){var te=me.dataTransfer;te&&te.files&&te.files.length>0&&me.preventDefault()}),$e.addCommand("mceTogglePlainTextPaste",et),$e.addButton("pastetext",{icon:"pastetext",tooltip:"Paste as text",onclick:et,onPostRender:Me}),void $e.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:qe.pasteFormat,onclick:et,onPostRender:Me}))})}),function(Nt){var Ie,j,xe,We,$e;for(Ie=0;Ie<Nt.length;Ie++){j=Mt,We=(xe=Nt[Ie]).split(/[.\/]/);for(var ne=0;ne<We.length-1;++ne)j[We[ne]]===Xt&&(j[We[ne]]={}),j=j[We[ne]];j[We[We.length-1]]=xt[xe]}if(Mt.AMDLC_TESTS){for(xe in $e=Mt.privateModules||{},xt)$e[xe]=xt[xe];for(Ie=0;Ie<Nt.length;Ie++)delete $e[Nt[Ie]];Mt.privateModules=$e}}(["tinymce/pasteplugin/Utils"])}(window),function(Mt,Xt){"use strict";function ge(xt,Nt,Ie){if("string"!=typeof xt)throw"invalid module definition, module id must be defined and be a string";if(Nt===Xt)throw"invalid module definition, dependencies must be specified";if(Ie===Xt)throw"invalid module definition, definition function must be specified";!function(xt,Nt){for(var Ie,j=[],xe=0;xe<xt.length;++xe){if(!(Ie=Ln[xt[xe]]||Fn(xt[xe])))throw"module definition dependecy not found: "+xt[xe];j.push(Ie)}Nt.apply(null,j)}(Nt,function(){Ln[xt]=Ie.apply(null,arguments)})}function Fn(xt){for(var Nt=Mt,Ie=xt.split(/[.\/]/),j=0;j<Ie.length;++j){if(!Nt[Ie[j]])return;Nt=Nt[Ie[j]]}return Nt}var Ln={};ge("tinymce/tableplugin/Utils",["tinymce/Env"],function(xt){var Ie=function(xe){return function(We,$e){We&&(1===($e=parseInt($e,10))||0===$e?We.removeAttribute(xe,1):We.setAttribute(xe,$e,1))}},j=function(xe){return function(We){return parseInt(We.getAttribute(xe)||1,10)}};return{setColSpan:Ie("colSpan"),setRowSpan:Ie("rowspan"),getColSpan:j("colSpan"),getRowSpan:j("rowSpan"),setSpanVal:function(xe,We,$e){Ie(We)(xe,$e)},getSpanVal:function(xe,We){return j(We)(xe)},paddCell:function(xe){(!xt.ie||xt.ie>9)&&(xe.hasChildNodes()||(xe.innerHTML='<br data-mce-bogus="1" />'))}}}),ge("tinymce/tableplugin/SplitCols",["tinymce/util/Tools","tinymce/tableplugin/Utils"],function(xt,Nt){var Ie=function(q,me,te){return q[te]?q[te][me]:null},j=function(q,me,te){var re=Ie(q,me,te);return re?re.elm:null},xe=function(q,me,te,re){var oe,fe=0,Re=j(q,me,te);for(oe=te;(re>0?oe<q.length:oe>=0)&&Re===Ie(q,me,oe).elm;oe+=re)fe++;return fe},We=function(q,me,te){for(var re,oe=q[te],Be=me;Be<oe.length;Be++)if((re=oe[Be]).real)return re.elm;return null},ne=function(q,me){var re=q.elm.ownerDocument.createElement("td");return Nt.setColSpan(re,Nt.getColSpan(q.elm)),Nt.setRowSpan(re,me),Nt.paddCell(re),re},et=function(q,me,te,re){var oe=We(q,te+1,re);oe?oe.parentNode.insertBefore(me,oe):(oe=We(q,0,re)).parentNode.appendChild(me)};return{splitAt:function(q,me,te,re){var oe=function(q,me){for(var te,re=[],oe=q[me],Be=0;Be<oe.length;Be++)re.push({elm:(te=oe[Be]).elm,above:xe(q,Be,me,-1)-1,below:xe(q,Be,me,1)-1}),Be+=Nt.getColSpan(te.elm)-1;return re}(q,te),Be=j(q,me,te).parentNode,fe=[];return xt.each(oe,function(Re,at){var pt=re?function(q,me,te,re){if(0!==me.above){Nt.setRowSpan(me.elm,me.above);var oe=ne(me,me.below+1);return et(q,oe,te,re),oe}return null}(q,Re,at,te):function(q,me,te,re){if(0!==me.below){Nt.setRowSpan(me.elm,me.above+1);var oe=ne(me,me.below);return et(q,oe,te,re+1),oe}return null}(q,Re,at,te);null!==pt&&fe.push(fe)}),{cells:fe,row:Be}}}}),ge("tinymce/tableplugin/TableGrid",["tinymce/util/Tools","tinymce/Env","tinymce/tableplugin/Utils","tinymce/tableplugin/SplitCols"],function(xt,Nt,Ie,j){var xe=xt.each,We=Ie.getSpanVal,$e=Ie.setSpanVal;return function(ne,et,Me){function qe(){ne.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected")}function Q(Fe){return Fe===ne.getBody()}function q(Fe,nt){return Fe?(nt=xt.map(nt.split(","),function(ht){return ht.toLowerCase()}),xt.grep(Fe.childNodes,function(ht){return-1!==xt.inArray(nt,ht.nodeName.toLowerCase())})):[]}function me(){var Fe=0;Ye=[],kt=0,xe(["thead","tbody","tfoot"],function(nt){var ht=q(et,nt)[0],Bt=q(ht,"tr");xe(Bt,function(bt,st){st+=Fe,xe(q(bt,"td,th"),function(Rt,Ut){var Vt,Jt,ln,En;if(Ye[st])for(;Ye[st][Ut];)Ut++;for(ln=We(Rt,"rowspan"),En=We(Rt,"colspan"),Jt=st;Jt<st+ln;Jt++)for(Ye[Jt]||(Ye[Jt]=[]),Vt=Ut;Vt<Ut+En;Vt++)Ye[Jt][Vt]={part:nt,real:Jt==st&&Vt==Ut,elm:Rt,rowspan:ln,colspan:En};kt=Math.max(kt,Ut+1)})}),Fe+=Bt.length})}function te(Fe){return ne.fire("newrow",{node:Fe}),Fe}function re(Fe){return ne.fire("newcell",{node:Fe}),Fe}function oe(Fe,nt){return(Fe=Fe.cloneNode(nt)).removeAttribute("id"),Fe}function Be(Fe,nt){var ht;if(ht=Ye[nt])return ht[Fe]}function fe(Fe,nt){return Fe[nt]?Fe[nt]:null}function Re(Fe,nt){for(var ht=[],Bt=0;Bt<Fe.length;Bt++)ht.push(Be(nt,Bt));return ht}function at(Fe){return Fe&&(!!$t.getAttrib(Fe.elm,"data-mce-selected")||Fe==Me)}function pt(){var Fe=[];return xe(et.rows,function(nt){xe(nt.cells,function(ht){if($t.getAttrib(ht,"data-mce-selected")||Me&&ht==Me.elm)return Fe.push(nt),!1})}),Fe}function Ce(Fe){var nt,ht={};return!1!==ne.settings.table_clone_elements&&(ht=xt.makeMap((ne.settings.table_clone_elements||"strong em b i span font h1 h2 h3 h4 h5 h6 p div").toUpperCase(),/[ ,]/)),xt.walk(Fe,function(Bt){var bt;if(3==Bt.nodeType)return xe($t.getParents(Bt.parentNode,null,Fe).reverse(),function(st){ht[st.nodeName]&&(st=oe(st,!1),nt?bt&&bt.appendChild(st):nt=bt=st,bt=st)}),bt&&(bt.innerHTML=Nt.ie&&Nt.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'),!1},"childNodes"),re(Fe=oe(Fe,!1)),$e(Fe,"rowSpan",1),$e(Fe,"colSpan",1),nt?Fe.appendChild(nt):Ie.paddCell(Fe),Fe}function Se(){var Fe,nt=$t.createRng();return xe($t.select("tr",et),function(ht){0===ht.cells.length&&$t.remove(ht)}),0===$t.select("tr",et).length?(nt.setStartBefore(et),nt.setEndBefore(et),an.setRng(nt),void $t.remove(et)):(xe($t.select("thead,tbody,tfoot",et),function(ht){0===ht.rows.length&&$t.remove(ht)}),me(),void(Ft&&(Fe=Ye[Math.min(Ye.length-1,Ft.y)],Fe&&(an.select(Fe[Math.min(Fe.length-1,Ft.x)].elm,!0),an.collapse(!0)))))}function Je(Fe,nt,ht,Bt){var bt,st,Rt,Ut,Vt;for(bt=Ye[nt][Fe].elm.parentNode,Rt=1;Rt<=ht;Rt++)if(bt=$t.getNext(bt,"tr")){for(st=Fe;st>=0;st--)if((Vt=Ye[nt+Rt][st].elm).parentNode==bt){for(Ut=1;Ut<=Bt;Ut++)$t.insertAfter(Ce(Vt),Vt);break}if(-1==st)for(Ut=1;Ut<=Bt;Ut++)bt.insertBefore(Ce(bt.cells[0]),bt.cells[0])}}function Et(){xe(Ye,function(Fe,nt){xe(Fe,function(ht,Bt){var bt,st,Rt;if(at(ht)&&(bt=We(ht=ht.elm,"colspan"),st=We(ht,"rowspan"),bt>1||st>1)){for($e(ht,"rowSpan",1),$e(ht,"colSpan",1),Rt=0;Rt<bt-1;Rt++)$t.insertAfter(Ce(ht),ht);Je(Bt,nt,st-1,bt)}})})}function gt(Fe,nt,ht){for(var Bt=[],bt=0;bt<Fe.length;bt++)(bt<nt||bt>ht)&&Bt.push(Fe[bt]);return Bt}function Dt(Fe){return xt.grep(Fe,function(nt){return!1===nt.real})}function Pe(Fe){for(var nt=[],ht=0;ht<Fe.length;ht++){var Bt=Fe[ht].elm;nt[nt.length-1]!==Bt&&nt.push(Bt)}return nt}function ve(Fe){var nt,ht,Bt,bt,st,Rt,Ut,Vt,Jt,ln;if(xe(Ye,function(En,Sn){if(xe(En,function(Tn){if(at(Tn)&&(Rt=te(oe(st=(Tn=Tn.elm).parentNode,!1)),nt=Sn,Fe))return!1}),Fe)return nt===Xt}),nt!==Xt){for(bt=0,ln=0;bt<Ye[0].length;bt+=ln)if(Ye[nt][bt]&&(ln=We(ht=Ye[nt][bt].elm,"colspan"),ht!=Bt)){if(Fe){if(nt>0&&Ye[nt-1][bt]&&(Jt=We(Vt=Ye[nt-1][bt].elm,"rowSpan"))>1){$e(Vt,"rowSpan",Jt+1);continue}}else if((Jt=We(ht,"rowspan"))>1){$e(ht,"rowSpan",Jt+1);continue}Ut=Ce(ht),$e(Ut,"colSpan",ht.colSpan),Rt.appendChild(Ut),Bt=ht}Rt.hasChildNodes()&&(Fe?st.parentNode.insertBefore(Rt,st):$t.insertAfter(Rt,st))}}function Ct(Fe){var nt,ht;xe(Ye,function(Bt){if(xe(Bt,function(bt,st){if(at(bt)&&(nt=st,Fe))return!1}),Fe)return nt===Xt}),xe(Ye,function(Bt,bt){var st,Rt,Ut;Bt[nt]&&(st=Bt[nt].elm)!=ht&&(Ut=We(st,"colspan"),Rt=We(st,"rowspan"),1==Ut?Fe?(st.parentNode.insertBefore(Ce(st),st),Je(nt,bt,Rt-1,Ut)):($t.insertAfter(Ce(st),st),Je(nt,bt,Rt-1,Ut)):$e(st,"colSpan",st.colSpan+1),ht=st)})}function Lt(Fe){var nt=[];return xe(Fe,function(ht){xe(ht,function(Bt){nt.push(Bt)})}),nt}function cn(Fe){var nt;return xe(Ye,function(ht,Bt){return xe(ht,function(bt,st){if(bt.elm==Fe)return nt={x:st,y:Bt},!1}),!nt}),nt}var Ye,kt,Ft,Yt,Fe,nt,an=ne.selection,$t=an.dom;et=et||$t.getParent(an.getStart(!0),"table"),me(),(Me=Me||$t.getParent(an.getStart(!0),"th,td"))&&(Ft=cn(Me),Fe=nt=0,xe(Ye,function(ht,Bt){xe(ht,function(bt,st){var Rt,Ut;at(bt)&&(st>Fe&&(Fe=st),Bt>nt&&(nt=Bt),(bt=Ye[Bt][st]).real&&((Rt=bt.colspan-1)&&st+Rt>Fe&&(Fe=st+Rt),(Ut=bt.rowspan-1)&&Bt+Ut>nt&&(nt=Bt+Ut)))})}),Yt={x:Fe,y:nt},Me=Be(Ft.x,Ft.y)),xt.extend(this,{deleteTable:function(){var Fe=$t.createRng();Q(et)||(Fe.setStartAfter(et),Fe.setEndAfter(et),an.setRng(Fe),$t.remove(et))},split:Et,merge:function(Fe,nt,ht){var Bt,bt,st,Rt,Ut,Vt,Jt,ln,En,Sn,Tn,Xn,On;if(Fe?(Rt=(bt=(Bt=cn(Fe)).x)+(nt-1),Ut=(st=Bt.y)+(ht-1)):(Ft=Yt=null,xe(Ye,function(Bn,$n){xe(Bn,function(Yn,zn){at(Yn)&&(Ft||(Ft={x:zn,y:$n}),Yt={x:zn,y:$n})})}),Ft&&(bt=Ft.x,st=Ft.y,Rt=Yt.x,Ut=Yt.y)),ln=Be(bt,st),En=Be(Rt,Ut),ln&&En&&ln.part==En.part){Et(),me(),Xn=function(Fe,nt,ht,Bt,bt){var st=0;if(bt-ht<1)return 0;for(var Rt=ht+1;Rt<=bt;Rt++){var Ut=gt(fe(Fe,Rt),nt,Bt),Vt=Dt(Ut);Ut.length===Vt.length&&(xt.each(Pe(Vt),function(Jt){Ie.setRowSpan(Jt,Ie.getRowSpan(Jt)-1)}),st++)}return st}(Ye,bt,st,Rt,Ut),On=function(Fe,nt,ht,Bt,bt){var st=0;if(Bt-nt<1)return 0;for(var Rt=nt+1;Rt<=Bt;Rt++){var Ut=gt(Re(Fe,Rt),ht,bt),Vt=Dt(Ut);Ut.length===Vt.length&&(xt.each(Pe(Vt),function(Jt){Ie.setColSpan(Jt,Ie.getColSpan(Jt)-1)}),st++)}return st}(Ye,bt,st,Rt,Ut),ln=Be(bt,st).elm;var An=Rt-bt-On+1,Mn=Ut-st-Xn+1;for(An===kt&&Mn===Ye.length&&(An=1,Mn=1),An===kt&&Mn>1&&(Mn=1),$e(ln,"colSpan",An),$e(ln,"rowSpan",Mn),Jt=st;Jt<=Ut;Jt++)for(Vt=bt;Vt<=Rt;Vt++)Ye[Jt]&&Ye[Jt][Vt]&&(Fe=Ye[Jt][Vt].elm)!=ln&&(Sn=xt.grep(Fe.childNodes),xe(Sn,function(Bn){ln.appendChild(Bn)}),Sn.length&&(Sn=xt.grep(ln.childNodes),Tn=0,xe(Sn,function(Bn){"BR"==Bn.nodeName&&Tn++<Sn.length-1&&ln.removeChild(Bn)})),$t.remove(Fe));Se()}},insertRow:ve,insertRows:function(Fe,nt){nt=nt||pt().length||1;for(var ht=0;ht<nt;ht++)ve(Fe)},insertCol:Ct,insertCols:function(Fe,nt){nt=nt||function(){var Fe=0;return xe(Ye,function(nt){if(xe(nt,function(ht){at(ht)&&Fe++}),Fe)return!1}),Fe}()||1;for(var ht=0;ht<nt;ht++)Ct(Fe)},splitCols:function(Fe){if(Ft){var nt=j.splitAt(Ye,Ft.x,Ft.y,Fe);xt.each(nt.cells,re)}},deleteCols:function(){var Fe=[];Q(et)&&(1==Ye[0].length||function(Fe){return xt.grep(Lt(Fe),at)}(Ye).length==Lt(Ye).length)||(xe(Ye,function(nt){xe(nt,function(ht,Bt){at(ht)&&-1===xt.inArray(Fe,Bt)&&(xe(Ye,function(bt){var st,Rt=bt[Bt].elm;(st=We(Rt,"colSpan"))>1?$e(Rt,"colSpan",st-1):$t.remove(Rt)}),Fe.push(Bt))})}),Se())},deleteRows:function(){var nt;nt=pt(),Q(et)&&nt.length==et.rows.length||(xe(nt.reverse(),function(ht){!function(ht){var Bt,bt;xe(ht.cells,function(st){var Rt=We(st,"rowSpan");Rt>1&&($e(st,"rowSpan",Rt-1),Je((Bt=cn(st)).x,Bt.y,1,1))}),Bt=cn(ht.cells[0]),xe(Ye[Bt.y],function(st){var Rt;(st=st.elm)!=bt&&((Rt=We(st,"rowSpan"))<=1?$t.remove(st):$e(st,"rowSpan",Rt-1),bt=st)})}(ht)}),Se())},cutRows:function(){var Fe=pt();if(!Q(et)||Fe.length!=et.rows.length)return $t.remove(Fe),Se(),Fe},copyRows:function(){var Fe=pt();return xe(Fe,function(nt,ht){Fe[ht]=oe(nt,!0)}),Fe},pasteRows:function(Fe,nt){var ht,Bt,bt;Fe&&(ht=j.splitAt(Ye,Ft.x,Ft.y,nt),Bt=ht.row,xt.each(ht.cells,re),bt=xt.map(Fe,function(st){return st.cloneNode(!0)}),nt||bt.reverse(),xe(bt,function(st){var Rt,Ut,Vt=st.cells.length;for(te(st),Rt=0;Rt<Vt;Rt++)re(Ut=st.cells[Rt]),$e(Ut,"colSpan",1),$e(Ut,"rowSpan",1);for(Rt=Vt;Rt<kt;Rt++)st.appendChild(re(Ce(st.cells[Vt-1])));for(Rt=kt;Rt<Vt;Rt++)$t.remove(st.cells[Rt]);nt?Bt.parentNode.insertBefore(st,Bt):$t.insertAfter(st,Bt)}),qe())},getPos:cn,setStartCell:function(Fe){Ft=cn(Fe)},setEndCell:function(Fe){var nt,ht,Bt,bt,st,Rt,Ut,Vt,Jt,ln;if(Yt=cn(Fe),Ft&&Yt){for(nt=Math.min(Ft.x,Yt.x),ht=Math.min(Ft.y,Yt.y),st=Bt=Math.max(Ft.x,Yt.x),Rt=bt=Math.max(Ft.y,Yt.y),ln=ht;ln<=bt;ln++)for(Jt=nt;Jt<=Bt;Jt++)(Fe=Ye[ln][Jt]).real&&((Ut=Fe.colspan-1)&&Jt+Ut>st&&(st=Jt+Ut),(Vt=Fe.rowspan-1)&&ln+Vt>Rt&&(Rt=ln+Vt));for(qe(),ln=ht;ln<=Rt;ln++)for(Jt=nt;Jt<=st;Jt++)Ye[ln][Jt]&&$t.setAttrib(Ye[ln][Jt].elm,"data-mce-selected","1")}},moveRelIdx:function(Fe,nt){var ht,Bt,bt;Bt=(ht=cn(Fe)).y*kt+ht.x;do{if(!(bt=Be((Bt+=nt)%kt,Math.floor(Bt/kt))))break;if(bt.elm!=Fe)return an.select(bt.elm,!0),$t.isEmpty(bt.elm)&&an.collapse(!0),!0}while(bt.elm==Fe);return!1},refresh:me})}}),ge("tinymce/tableplugin/Quirks",["tinymce/util/VK","tinymce/util/Delay","tinymce/Env","tinymce/util/Tools","tinymce/tableplugin/Utils"],function(xt,Nt,Ie,j,xe){var We=j.each,$e=xe.getSpanVal;return function(ne){function Me(){ne.on("KeyDown",function(re){var oe,Be,fe=ne.dom;37!=re.keyCode&&38!=re.keyCode||(oe=ne.selection.getRng(),(Be=fe.getParent(oe.startContainer,"table"))&&ne.getBody().firstChild==Be&&function(re,oe){var Be,fe=oe.ownerDocument,Re=fe.createRange();return Re.setStartBefore(oe),Re.setEnd(re.endContainer,re.endOffset),(Be=fe.createElement("body")).appendChild(Re.cloneContents()),0===Be.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,"-").replace(/<[^>]+>/g,"").length}(oe,Be)&&((oe=fe.createRng()).setStartBefore(Be),oe.setEndBefore(Be),ne.selection.setRng(oe),re.preventDefault()))})}function qe(){ne.on("KeyDown SetContent VisualAid",function(){var te;for(te=ne.getBody().lastChild;te;te=te.previousSibling)if(3==te.nodeType){if(te.nodeValue.length>0)break}else if(1==te.nodeType&&("BR"==te.tagName||!te.getAttribute("data-mce-bogus")))break;te&&"TABLE"==te.nodeName&&(ne.settings.forced_root_block?ne.dom.add(ne.getBody(),ne.settings.forced_root_block,ne.settings.forced_root_block_attrs,Ie.ie&&Ie.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'):ne.dom.add(ne.getBody(),"br",{"data-mce-bogus":"1"}))}),ne.on("PreProcess",function(te){var re=te.node.lastChild;re&&("BR"==re.nodeName||1==re.childNodes.length&&("BR"==re.firstChild.nodeName||"\xa0"==re.firstChild.nodeValue))&&re.previousSibling&&"TABLE"==re.previousSibling.nodeName&&ne.dom.remove(re)})}var re,Be,fe,Re,pt,dt;(function(){function te(oe){ne.selection.select(oe,!0),ne.selection.collapse(!0)}function re(oe){ne.$(oe).empty(),xe.paddCell(oe)}ne.on("keydown",function(oe){var Be,fe,Re,at;if((oe.keyCode==xt.DELETE||oe.keyCode==xt.BACKSPACE)&&!oe.isDefaultPrevented()&&(Be=ne.dom.getParent(ne.selection.getStart(),"table"))){if(fe=ne.dom.select("td,th",Be),0===(Re=j.grep(fe,function(pt){return!!ne.dom.getAttrib(pt,"data-mce-selected")})).length)return at=ne.dom.getParent(ne.selection.getStart(),"td,th"),void(ne.selection.isCollapsed()&&at&&ne.dom.isEmpty(at)&&(oe.preventDefault(),re(at),te(at)));oe.preventDefault(),ne.undoManager.transact(function(){fe.length==Re.length?ne.execCommand("mceTableDelete"):(j.each(Re,re),te(Re[0]))})}})})(),re=function(Le,Ce){var Se=ne.selection.getRng(),Je=Le.ownerDocument.createTextNode("\xa0");Se.startOffset?Le.insertBefore(Je,Le.firstChild):Le.appendChild(Je),Ce&&(ne.selection.select(Je,!0),ne.selection.collapse(!0))},Be=function(Le){return Le.firstChild===Le.lastChild&&Le.firstChild},fe=function(Le){return Le&&3===Le.nodeType},Re=function(Le){var Ce=Be(Le);return fe(Ce)&&1===Ce.data.length?Ce.data:null},pt=function(Le){return ne.dom.isEmpty(Le)||dt(Re(Le))},dt=function(Le){return"\xa0"===Le},ne.on("keydown",function(Le){if(function(Le){return(Le.keyCode==xt.DELETE||Le.keyCode==xt.BACKSPACE)&&!Le.isDefaultPrevented()}(Le)){var Ce=ne.dom.getParent(ne.selection.getStart(),"caption");(function(Le){return Le&&"CAPTION"==Le.nodeName&&"TABLE"==Le.parentNode.nodeName})(Ce)&&(Ie.ie&&(ne.selection.isCollapsed()?function(Le){var Ce=Be(Le),Se=Re(Le);return Ce&&!fe(Ce)||Se&&!dt(Se)}(Ce)&&re(Ce):(ne.undoManager.transact(function(){ne.execCommand("Delete"),pt(Ce)&&re(Ce,!0)}),Le.preventDefault())),pt(Ce)&&Le.preventDefault())}}),Ie.webkit&&(function(){function te(re){function oe(ut,Tt){var ve=ut?"previousSibling":"nextSibling",Qe=ne.dom.getParent(Tt,"tr"),Ct=Qe[ve];if(Ct)return Et(0,Tt,Ct,ut),re.preventDefault(),!0;var He=ne.dom.getParent(Qe,"table"),_t=Qe.parentNode,Lt=_t.nodeName.toLowerCase();if("tbody"===Lt||Lt===(ut?"tfoot":"thead")){var Ot=function(ut,Tt,ve,Qe){var Ct=ne.dom.select(">tbody",Tt),He=Ct.indexOf(ve);return ut&&0===He||!ut&&He===Ct.length-1?function(ut,Tt){var Qe=ne.dom.select(">"+(ut?"thead":"tfoot"),Tt);return 0!==Qe.length?Qe[0]:null}(ut,Tt):-1===He?Ct["thead"===ve.tagName.toLowerCase()?0:Ct.length-1]:Ct[He+(ut?-1:1)]}(ut,He,_t);if(null!==Ot)return function(ut,Tt,ve){var Qe=pt(Tt,ut);return Qe&&Et(0,ve,Qe,ut),re.preventDefault(),!0}(ut,Ot,Tt)}return function(ut,Tt,ve,Qe){var Ct=Qe[ve];if(Ct)return dt(Ct),!0;var He=ne.dom.getParent(Qe,"td,th");return He?oe(ut,He):(dt(pt(Tt,!ut)),re.preventDefault(),!1)}(ut,Qe,ve,He)}function pt(ut,Tt){var ve=ut&&ut[Tt?"lastChild":"firstChild"];return ve&&"BR"===ve.nodeName?ne.dom.getParent(ve,"td,th"):ve}function dt(ut){ne.selection.setCursorLocation(ut,0)}function Et(ut,Tt,ve,Qe){var Ct=function(ut){for(var Tt=0,ve=ut;ve.previousSibling;)Tt+=$e(ve=ve.previousSibling,"colspan");return Tt}(ne.dom.getParent(Tt,"td,th")),He=function(ut,Tt){var ve=0,Qe=0;return We(ut.children,function(Ct,He){if(ve+=$e(Ct,"colspan"),Qe=He,ve>Tt)return!1}),Qe}(ve,Ct),_t=ve.childNodes[He];dt(pt(_t,Qe)||_t)}var ut,Tt,Pe=re.keyCode;if((Pe==xt.UP||Pe==xt.DOWN)&&(Tt=(ut=ne).selection.getNode(),null!==ut.dom.getParent(Tt,"tr"))){var ct=ne.selection.getNode();Nt.setEditorTimeout(ne,function(){(function(ut){var Tt=ne.selection.getNode(),ve=ne.dom.getParent(Tt,"td,th"),Qe=ne.dom.getParent(ut,"td,th");return ve&&ve!==Qe&&function(ut,Tt){return ne.dom.getParent(ut,"TABLE")===ne.dom.getParent(Tt,"TABLE")}(ve,Qe)})(ct)&&oe(!re.shiftKey&&Pe===xt.UP,ct)},0)}}ne.on("KeyDown",function(re){te(re)})}(),function(){function re(){var oe=ne.selection.getRng(),Be=ne.selection.getNode(),fe=ne.dom.getParent(oe.startContainer,"TD,TH");if(function(oe,Be,fe,Re){var at,Ce=oe.dom.getParent(Be.startContainer,"TABLE");return Ce&&(at=Ce.parentNode),3==Be.startContainer.nodeType&&0===Be.startOffset&&0===Be.endOffset&&Re&&("TR"==fe.nodeName||fe==at)||("TD"==fe.nodeName||"TH"==fe.nodeName)&&!Re}(ne,oe,Be,fe)){fe||(fe=Be);for(var Re=fe.lastChild;Re.lastChild;)Re=Re.lastChild;3==Re.nodeType&&(oe.setEnd(Re,Re.data.length),ne.selection.setRng(oe))}}ne.on("KeyDown",function(){re()}),ne.on("MouseDown",function(oe){2!=oe.button&&re()})}()),Ie.gecko&&(Me(),qe()),Ie.ie>9&&(Me(),qe())}}),ge("tinymce/tableplugin/CellSelection",["tinymce/tableplugin/TableGrid","tinymce/dom/TreeWalker","tinymce/util/Tools"],function(xt,Nt,Ie){return function(j,xe){function We(Be){j.getBody().style.webkitUserSelect="",(Be||re)&&(j.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected"),re=!1)}function $e(Be,fe){return!(!Be||!fe)&&Be===te.getParent(fe,"table")}function ne(Be){var fe,Re,at=Be.target;if(!q&&!me&&at!==Q&&(Q=at,qe&&Me)){if(Re=te.getParent(at,"td,th"),$e(qe,Re)||(Re=te.getParent(qe,"td,th")),Me===Re&&!re)return;if(xe(!0),$e(qe,Re)){Be.preventDefault(),et||(et=new xt(j,qe,Me),j.getBody().style.webkitUserSelect="none"),et.setEndCell(Re),re=!0,fe=j.selection.getSel();try{fe.removeAllRanges?fe.removeAllRanges():fe.empty()}catch(pt){}}}}var et,Me,qe,Q,q,me,te=j.dom,re=!0,oe=function(){Me=et=qe=Q=null,xe(!1)};return j.on("SelectionChange",function(Be){re&&Be.stopImmediatePropagation()},!0),j.on("MouseDown",function(Be){2==Be.button||q||me||(We(),Me=te.getParent(Be.target,"td,th"),qe=te.getParent(Me,"table"))}),j.on("mouseover",ne),j.on("remove",function(){te.unbind(j.getDoc(),"mouseover",ne),We()}),j.on("MouseUp",function(){function Be(Ce,Se){var Je=new Nt(Ce,Ce);do{if(3==Ce.nodeType&&0!==Ie.trim(Ce.nodeValue).length)return void(Se?fe.setStart(Ce,0):fe.setEnd(Ce,Ce.nodeValue.length));if("BR"==Ce.nodeName)return void(Se?fe.setStartBefore(Ce):fe.setEndBefore(Ce))}while(Ce=Se?Je.next():Je.prev())}var fe,Re,at,pt,dt,Le=j.selection;if(Me){if(et&&(j.getBody().style.webkitUserSelect=""),(Re=te.select("td[data-mce-selected],th[data-mce-selected]")).length>0){(fe=te.createRng()).setStartBefore(pt=Re[0]),fe.setEndAfter(pt),Be(pt,1),at=new Nt(pt,te.getParent(Re[0],"table"));do{if("TD"==pt.nodeName||"TH"==pt.nodeName){if(!te.getAttrib(pt,"data-mce-selected"))break;dt=pt}}while(pt=at.next());Be(dt),Le.setRng(fe)}j.nodeChanged(),oe()}}),j.on("KeyUp Drop SetContent",function(Be){We("setcontent"==Be.type),oe(),q=!1}),j.on("ObjectResizeStart ObjectResized",function(Be){q="objectresized"!=Be.type}),j.on("dragstart",function(){me=!0}),j.on("drop dragend",function(){me=!1}),{clear:We}}}),ge("tinymce/tableplugin/Dialogs",["tinymce/util/Tools","tinymce/Env"],function(xt,Nt){var Ie=xt.each;return function(j){function xe(){var re=j.settings.color_picker_callback;if(re)return function(){var oe=this;re.call(j,function(Be){oe.value(Be).fire("change")},oe.value())}}function We(re){return{title:"Advanced",type:"form",defaults:{onchange:function(){Q(re,this.parents().reverse()[0],"style"==this.name())}},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border color",type:"colorbox",name:"borderColor",onaction:xe()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:xe()}]}]}}function $e(re){return re?re.replace(/px$/,""):""}function ne(re){return/^[0-9]+$/.test(re)&&(re+="px"),re}function et(re){Ie("left center right".split(" "),function(oe){j.formatter.remove("align"+oe,{},re)})}function qe(re,oe,Be){return function fe(Re,at){return at=at||[],xt.each(Re,function(pt){var dt={text:pt.text||pt.title};pt.menu?dt.menu=fe(pt.menu):(dt.value=pt.value,oe&&oe(dt)),at.push(dt)}),at}(re,Be||[])}function Q(re,oe,Be){var fe=oe.toJSON(),Re=re.parseStyle(fe.style);Be?(oe.find("#borderColor").value(Re["border-color"]||"")[0].fire("change"),oe.find("#backgroundColor").value(Re["background-color"]||"")[0].fire("change")):(Re["border-color"]=fe.borderColor,Re["background-color"]=fe.backgroundColor),oe.find("#style").value(re.serializeStyle(re.parseStyle(re.serializeStyle(Re))))}function q(re,oe,Be){var fe=re.parseStyle(re.getAttrib(Be,"style"));fe["border-color"]&&(oe.borderColor=fe["border-color"]),fe["background-color"]&&(oe.backgroundColor=fe["background-color"]),oe.style=re.serializeStyle(fe)}var te=this;te.tableProps=function(){te.table(!0)},te.table=function(re){function oe(){function Je(gt,Dt,Pe){if("TD"===gt.tagName||"TH"===gt.tagName)Ce.setStyle(gt,Dt,Pe);else if(gt.children)for(var ct=0;ct<gt.children.length;ct++)Je(gt.children[ct],Dt,Pe)}var Et;Q(Ce,this),!1===(Se=xt.extend(Se,this.toJSON())).class&&delete Se.class,j.undoManager.transact(function(){if(fe||(fe=j.plugins.table.insertTable(Se.cols||1,Se.rows||1)),j.dom.setAttribs(fe,{style:Se.style,class:Se.class}),j.settings.table_style_by_css){if((Le=[]).push({name:"border",value:Se.border}),Le.push({name:"border-spacing",value:ne(Se.cellspacing)}),function(re,oe,Be){var fe=re.parseStyle(re.getAttrib(oe,"style"));Ie(Be,function(Re){fe[Re.name]=Re.value}),re.setAttrib(oe,"style",re.serializeStyle(re.parseStyle(re.serializeStyle(fe))))}(Ce,fe,Le),Ce.setAttribs(fe,{"data-mce-border-color":Se.borderColor,"data-mce-cell-padding":Se.cellpadding,"data-mce-border":Se.border}),fe.children)for(var gt=0;gt<fe.children.length;gt++)Je(fe.children[gt],"border",Se.border),Je(fe.children[gt],"padding",ne(Se.cellpadding))}else j.dom.setAttribs(fe,{border:Se.border,cellpadding:Se.cellpadding,cellspacing:Se.cellspacing});Ce.getAttrib(fe,"width")&&!j.settings.table_style_by_css?Ce.setAttrib(fe,"width",$e(Se.width)):Ce.setStyle(fe,"width",ne(Se.width)),Ce.setStyle(fe,"height",ne(Se.height)),(Et=Ce.select("caption",fe)[0])&&!Se.caption&&Ce.remove(Et),!Et&&Se.caption&&((Et=Ce.create("caption")).innerHTML=Nt.ie?"\xa0":'<br data-mce-bogus="1"/>',fe.insertBefore(Et,fe.firstChild)),et(fe),Se.align&&j.formatter.apply("align"+Se.align,{},fe),j.focus(),j.addVisual()})}function Be(Je,Et){return function(ct,ut){for(var Tt=0;Tt<ut.length;Tt++){var ve=Ce.getStyle(ut[Tt],Et);if(void 0===ct&&(ct=ve),ct!=ve)return""}return ct}(undefined,j.dom.select("td,th",Je))}var fe,Re,at,pt,dt,Le,Ce=j.dom,Se={};!0===re?(fe=Ce.getParent(j.selection.getStart(),"table"))&&(Se={width:$e(Ce.getStyle(fe,"width")||Ce.getAttrib(fe,"width")),height:$e(Ce.getStyle(fe,"height")||Ce.getAttrib(fe,"height")),cellspacing:$e(Ce.getStyle(fe,"border-spacing")||Ce.getAttrib(fe,"cellspacing")),cellpadding:Ce.getAttrib(fe,"data-mce-cell-padding")||Ce.getAttrib(fe,"cellpadding")||Be(fe,"padding"),border:Ce.getAttrib(fe,"data-mce-border")||Ce.getAttrib(fe,"border")||Be(fe,"border"),borderColor:Ce.getAttrib(fe,"data-mce-border-color"),caption:!!Ce.select("caption",fe)[0],class:Ce.getAttrib(fe,"class")},Ie("left center right".split(" "),function(Je){j.formatter.matchNode(fe,"align"+Je)&&(Se.align=Je)})):(Re={label:"Cols",name:"cols"},at={label:"Rows",name:"rows"}),j.settings.table_class_list&&(Se.class&&(Se.class=Se.class.replace(/\s*mce\-item\-table\s*/g,"")),pt={name:"class",type:"listbox",label:"Class",values:qe(j.settings.table_class_list,function(Je){Je.value&&(Je.textStyle=function(){return j.formatter.getCssText({block:"table",classes:[Je.value]})})})}),dt={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:!1!==j.settings.table_appearance_options?[Re,at,{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[Re,at,{label:"Width",name:"width"},{label:"Height",name:"height"}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},pt]},!1!==j.settings.table_advtab?(q(Ce,Se,fe),j.windowManager.open({title:"Table properties",data:Se,bodyType:"tabpanel",body:[{title:"General",type:"form",items:dt},We(Ce)],onsubmit:oe})):j.windowManager.open({title:"Table properties",data:Se,body:dt,onsubmit:oe})},te.merge=function(re,oe){j.windowManager.open({title:"Merge cells",body:[{label:"Cols",name:"cols",type:"textbox",value:"1",size:10},{label:"Rows",name:"rows",type:"textbox",value:"1",size:10}],onsubmit:function(){var Be=this.toJSON();j.undoManager.transact(function(){re.merge(oe,Be.cols,Be.rows)})}})},te.cell=function(){function re(Ce,Se,Je){(1===dt.length||Je)&&pt.setAttrib(Ce,Se,Je)}function oe(Ce,Se,Je){(1===dt.length||Je)&&pt.setStyle(Ce,Se,Je)}function Be(){Q(pt,this),Re=xt.extend(Re,this.toJSON()),j.undoManager.transact(function(){Ie(dt,function(Ce){re(Ce,"scope",Re.scope),re(Ce,"style",Re.style),re(Ce,"class",Re.class),oe(Ce,"width",ne(Re.width)),oe(Ce,"height",ne(Re.height)),Re.type&&Ce.nodeName.toLowerCase()!==Re.type&&(Ce=pt.rename(Ce,Re.type)),1===dt.length&&(et(Ce),function(re){Ie("top middle bottom".split(" "),function(oe){j.formatter.remove("valign"+oe,{},re)})}(Ce)),Re.align&&j.formatter.apply("align"+Re.align,{},Ce),Re.valign&&j.formatter.apply("valign"+Re.valign,{},Ce)}),j.focus()})}var fe,Re,at,pt=j.dom,dt=[];if(dt=j.dom.select("td[data-mce-selected],th[data-mce-selected]"),fe=j.dom.getParent(j.selection.getStart(),"td,th"),!dt.length&&fe&&dt.push(fe),fe=fe||dt[0]){dt.length>1?Re={width:"",height:"",scope:"",class:"",align:"",style:"",type:fe.nodeName.toLowerCase()}:((Re={width:$e(pt.getStyle(fe,"width")||pt.getAttrib(fe,"width")),height:$e(pt.getStyle(fe,"height")||pt.getAttrib(fe,"height")),scope:pt.getAttrib(fe,"scope"),class:pt.getAttrib(fe,"class")}).type=fe.nodeName.toLowerCase(),Ie("left center right".split(" "),function(Ce){j.formatter.matchNode(fe,"align"+Ce)&&(Re.align=Ce)}),Ie("top middle bottom".split(" "),function(Ce){j.formatter.matchNode(fe,"valign"+Ce)&&(Re.valign=Ce)}),q(pt,Re,fe)),j.settings.table_cell_class_list&&(at={name:"class",type:"listbox",label:"Class",values:qe(j.settings.table_cell_class_list,function(Ce){Ce.value&&(Ce.textStyle=function(){return j.formatter.getCssText({block:"td",classes:[Ce.value]})})})});var Le={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},at]};j.windowManager.open(!1!==j.settings.table_cell_advtab?{title:"Cell properties",bodyType:"tabpanel",data:Re,body:[{title:"General",type:"form",items:Le},We(pt)],onsubmit:Be}:{title:"Cell properties",data:Re,body:Le,onsubmit:Be})}},te.row=function(){function re(Je,Et,gt){(1===Se.length||gt)&&Ce.setAttrib(Je,Et,gt)}function Be(){var Je,Et,gt;Q(Ce,this),dt=xt.extend(dt,this.toJSON()),j.undoManager.transact(function(){var Dt=dt.type;Ie(Se,function(Pe){re(Pe,"scope",dt.scope),re(Pe,"style",dt.style),re(Pe,"class",dt.class),function(Je,Et,gt){(1===Se.length||gt)&&Ce.setStyle(Je,"height",gt)}(Pe,0,ne(dt.height)),Dt!==Pe.parentNode.nodeName.toLowerCase()&&(Je=Ce.getParent(Pe,"table"),Et=Pe.parentNode,(gt=Ce.select(Dt,Je)[0])||(gt=Ce.create(Dt),Je.firstChild?Je.insertBefore(gt,Je.firstChild):Je.appendChild(gt)),gt.appendChild(Pe),Et.hasChildNodes()||Ce.remove(Et)),1===Se.length&&et(Pe),dt.align&&j.formatter.apply("align"+dt.align,{},Pe)}),j.focus()})}var fe,Re,at,pt,dt,Le,Ce=j.dom,Se=[];fe=j.dom.getParent(j.selection.getStart(),"table"),Re=j.dom.getParent(j.selection.getStart(),"td,th"),Ie(fe.rows,function(Je){Ie(Je.cells,function(Et){if(Ce.getAttrib(Et,"data-mce-selected")||Et==Re)return Se.push(Je),!1})}),(at=Se[0])&&(Se.length>1?dt={height:"",scope:"",class:"",align:"",type:at.parentNode.nodeName.toLowerCase()}:((dt={height:$e(Ce.getStyle(at,"height")||Ce.getAttrib(at,"height")),scope:Ce.getAttrib(at,"scope"),class:Ce.getAttrib(at,"class")}).type=at.parentNode.nodeName.toLowerCase(),Ie("left center right".split(" "),function(Je){j.formatter.matchNode(at,"align"+Je)&&(dt.align=Je)}),q(Ce,dt,at)),j.settings.table_row_class_list&&(pt={name:"class",type:"listbox",label:"Class",values:qe(j.settings.table_row_class_list,function(Je){Je.value&&(Je.textStyle=function(){return j.formatter.getCssText({block:"tr",classes:[Je.value]})})})}),Le={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"Header",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},pt]},j.windowManager.open(!1!==j.settings.table_row_advtab?{title:"Row properties",data:dt,bodyType:"tabpanel",body:[{title:"General",type:"form",items:Le},We(Ce)],onsubmit:Be}:{title:"Row properties",data:dt,body:Le,onsubmit:Be}))}}}),ge("tinymce/tableplugin/ResizeBars",["tinymce/util/Tools","tinymce/util/VK"],function(xt,Nt){var Ie;return function(j){function xe(De,Xe){return{index:De,y:j.dom.getPos(Xe).y}}function We(De,Xe){return{index:De,y:j.dom.getPos(Xe).y+Xe.offsetHeight}}function $e(De,Xe){return{index:De,x:j.dom.getPos(Xe).x}}function ne(De,Xe){return{index:De,x:j.dom.getPos(Xe).x+Xe.offsetWidth}}function et(){return"rtl"===j.getBody().dir}function Me(){return j.inline}function qe(){return Me?j.getBody().ownerDocument.body:j.getBody()}function Q(De,Xe){return et()?ne(De,Xe):$e(De,Xe)}function q(De,Xe){return et()?$e(De,Xe):ne(De,Xe)}function te(De,Xe){var wt=j.dom.getStyle(De,Xe,!0);return parseInt(wt,10)}function re(De){return te(De,"width")/te(De.parentElement,"width")*100}function fe(De,Xe,wt){for(var ft=[],It=1;It<wt.length;It++)ft.push(De(It-1,wt[It].element));return ft.push(Xe(wt.length-1,wt[wt.length-1].element)),ft}function Re(){var De=j.dom.select("."+Vt,qe());xt.each(De,function(Xe){j.dom.remove(Xe)})}function at(De){Re(),Pe(De)}function pt(De,Xe,wt,ft,It,jt,Gt,Kt){var Zt={"data-mce-bogus":"all",class:Vt+" "+De,unselectable:"on","data-mce-resize":!1,style:"cursor: "+Xe+"; margin: 0; padding: 0; position: absolute; left: "+wt+"px; top: "+ft+"px; height: "+It+"px; width: "+jt+"px; "};return Zt[Gt]=Kt,Zt}function Ce(De){return xt.map(De.rows,function(Xe){return{element:Xe,cells:xt.map(Xe.cells,function(ft){var It=ft.hasAttribute("rowspan")?parseInt(ft.getAttribute("rowspan"),10):1,jt=ft.hasAttribute("colspan")?parseInt(ft.getAttribute("colspan"),10):1;return{element:ft,rowspan:It,colspan:jt}})}})}function Se(De){function Xe(tn,fn){return tn+","+fn}var jt={},Gt=[],Kt=0,Zt=0;return xt.each(De,function(tn,fn){var hn=[];xt.each(tn.cells,function(Nn){for(var _n=0;jt[Xe(fn,_n)]!==Xt;)_n++;for(var Rn={element:Nn.element,colspan:Nn.colspan,rowspan:Nn.rowspan,rowIndex:fn,colIndex:_n},In=0;In<Nn.colspan;In++)for(var Un=0;Un<Nn.rowspan;Un++){var Wn=fn+Un,Vn=_n+In;jt[Xe(Wn,Vn)]=Rn,Kt=Math.max(Kt,Wn+1),Zt=Math.max(Zt,Vn+1)}hn.push(Rn)}),Gt.push({element:tn.element,cells:hn})}),{grid:{maxRows:Kt,maxCols:Zt},getAt:function(tn,fn){return jt[Xe(tn,fn)]},getAllCells:function(){var tn=[];return xt.each(Gt,function(fn){tn=tn.concat(fn.cells)}),tn},getAllRows:function(){return Gt}}}function Je(De,Xe){for(var wt=[],ft=De;ft<Xe;ft++)wt.push(ft);return wt}function Et(De,Xe,wt){for(var ft,It=De(),jt=0;jt<It.length;jt++)Xe(It[jt])&&(ft=It[jt]);return ft||wt()}function gt(De){var Xe=Je(0,De.grid.maxCols),wt=Je(0,De.grid.maxRows);return xt.map(Xe,function(ft){return Et(function(){for(var Kt=[],Zt=0;Zt<wt.length;Zt++){var tn=De.getAt(Zt,ft);tn&&tn.colIndex===ft&&Kt.push(tn)}return Kt},function(Kt){return 1===Kt.colspan},function(){for(var Kt,Zt=0;Zt<wt.length;Zt++)if(Kt=De.getAt(Zt,ft))return Kt;return null})})}function Dt(De){var Xe=Je(0,De.grid.maxCols),wt=Je(0,De.grid.maxRows);return xt.map(wt,function(ft){return Et(function(){for(var Kt=[],Zt=0;Zt<Xe.length;Zt++){var tn=De.getAt(ft,Zt);tn&&tn.rowIndex===ft&&Kt.push(tn)}return Kt},function(Kt){return 1===Kt.rowspan},function(){return De.getAt(ft,0)})})}function Pe(De){var wt=Se(Ce(De)),ft=Dt(wt),It=gt(wt),jt=j.dom.getPos(De),Gt=ft.length>0?fe(xe,We,ft):[],Kt=It.length>0?fe(Q,q,It):[];(function(De,Xe,wt){xt.each(De,function(ft){var It=wt.x,jt=ft.y-Mn/2,Gt=Mn,Kt=Xe;j.dom.add(qe(),"div",pt(Jt,ln,It,jt,Gt,Kt,En,ft.index))})})(Gt,De.offsetWidth,jt),function(De,Xe,wt){xt.each(De,function(ft){var It=ft.x-Mn/2,jt=wt.y,Gt=Xe,Kt=Mn;j.dom.add(qe(),"div",pt(Tn,Xn,It,jt,Gt,Kt,On,ft.index))})}(Kt,De.offsetHeight,jt)}function ct(De,Xe,wt,ft){if(Xe<0||Xe>=De.length-1)return"";var It=De[Xe];if(It)It={value:It,delta:0};else for(var jt=De.slice(0,Xe).reverse(),Gt=0;Gt<jt.length;Gt++)jt[Gt]&&(It={value:jt[Gt],delta:Gt+1});var Kt=De[Xe+1];if(Kt)Kt={value:Kt,delta:1};else for(var Zt=De.slice(Xe+1),tn=0;tn<Zt.length;tn++)Zt[tn]&&(Kt={value:Zt[tn],delta:tn+1});var fn=Kt.delta-It.delta,hn=Math.abs(Kt.value-It.value)/fn;return wt?hn/te(ft,"width")*100:hn}function ut(De,Xe){var wt=j.dom.getStyle(De,Xe);return wt||(wt=j.dom.getAttrib(De,Xe)),wt||(wt=j.dom.getStyle(De,Xe,!0)),wt}function Tt(De,Xe,wt){var ft=ut(De,"width"),It=parseInt(ft,10),jt=Xe?function(De,Xe){return te(De,"width")/te(Xe,"width")*100}(De,wt):te(De,"width");return(Xe&&!rn(ft)||!Xe&&!Qt(ft))&&(It=0),!isNaN(It)&&It>0?It:jt}function ve(De,Xe,wt){for(var ft=gt(De),It=xt.map(ft,function(tn){return Q(tn.colIndex,tn.element).x}),jt=[],Gt=0;Gt<ft.length;Gt++){var Zt=(ft[Gt].element.hasAttribute("colspan")?parseInt(ft[Gt].element.getAttribute("colspan"),10):1)>1?ct(It,Gt):Tt(ft[Gt].element,Xe,wt);jt.push(Zt=Zt||Bn)}return jt}function Qe(De){var Xe=ut(De,"height"),wt=parseInt(Xe,10);return rn(Xe)&&(wt=0),!isNaN(wt)&&wt>0?wt:te(De,"height")}function Ct(De){for(var Xe=Dt(De),wt=xt.map(Xe,function(Kt){return xe(Kt.rowIndex,Kt.element).y}),ft=[],It=0;It<Xe.length;It++){var Gt=(Xe[It].element.hasAttribute("rowspan")?parseInt(Xe[It].element.getAttribute("rowspan"),10):1)>1?ct(wt,It):Qe(Xe[It].element);ft.push(Gt=Gt||$n)}return ft}function He(De,Xe,wt,ft,It){function jt(hn){return xt.map(hn,function(){return 0})}function Kt(hn,Nn){var _n,Rn=jt(fn.slice(0,hn)),In=jt(fn.slice(Nn+1));if(wt>=0){var Un=Math.max(ft,fn[Nn]-wt);_n=Rn.concat([wt,Un-fn[Nn]]).concat(In)}else{var Wn=Math.max(ft,fn[hn]+wt);_n=Rn.concat([Wn-fn[hn],fn[hn]-Wn]).concat(In)}return _n}var fn=De.slice(0);return 0===De.length?[]:1===De.length?It?[100-fn[0]]:[Math.max(ft,fn[0]+wt)-fn[0]]:0===Xe?Kt(0,1):Xe>0&&Xe<De.length-1?Kt(Xe,Xe+1):Xe===De.length-1?function(hn,Nn){var _n,Rn=jt(fn.slice(0,Nn));if(wt>=0)_n=Rn.concat([wt]);else{var In=Math.max(ft,fn[Nn]+wt);_n=Rn.concat([In-fn[Nn]])}return _n}(0,Xe):[]}function _t(De,Xe,wt){for(var ft=0,It=De;It<Xe;It++)ft+=wt[It];return ft}function Lt(De,Xe){var wt=De.getAllCells();return xt.map(wt,function(ft){var It=_t(ft.colIndex,ft.colIndex+ft.colspan,Xe);return{element:ft.element,width:It,colspan:ft.colspan}})}function Ot(De,Xe){var wt=De.getAllCells();return xt.map(wt,function(ft){var It=_t(ft.rowIndex,ft.rowIndex+ft.rowspan,Xe);return{element:ft.element,height:It,rowspan:ft.rowspan}})}function sn(De,Xe){var wt=De.getAllRows();return xt.map(wt,function(ft,It){return{element:ft.element,height:Xe[It]}})}function rn(De){return zn.test(De)}function Qt(De){return Kn.test(De)}function Cn(De,Xe,wt){for(var Zt=Se(Ce(De)),tn=rn(De.width)||rn(De.style.width),fn=ve(Zt,tn,De),hn=tn?function(De,Xe){return Xe/te(De,"width")*100}(De,Xe):Xe,Nn=He(fn,wt,hn,Bn,tn),_n=[],Rn=0;Rn<Nn.length;Rn++)_n.push(Nn[Rn]+fn[Rn]);var In=Lt(Zt,_n),Un=tn?"%":"px",Wn=tn?wt<Zt.grid.maxCols-1?re(De):re(De)+function(De,Xe){return Xe/te(De.parentElement,"width")*100}(De,Xe):wt<Zt.grid.maxCols-1?te(De,"width"):te(De,"width")+Xe;j.undoManager.transact(function(){var Gn;Gn=Un,xt.each(In,function(jn){j.dom.setStyle(jn.element,"width",jn.width+Gn),j.dom.setAttrib(jn.element,"width",null)}),function(Vn,Gn,jn){wt!=Zt.grid.maxCols-1&&jn||(j.dom.setStyle(De,"width",Vn+Gn),j.dom.setAttrib(De,"width",null))}(Wn,Un,tn)})}function cn(De,Xe,wt){for(var It=Se(Ce(De)),jt=Ct(It),Gt=[],Kt=0,Zt=0;Zt<jt.length;Zt++)Gt.push(Zt===wt?Xe+jt[Zt]:jt[Zt]),Kt+=Kt[Zt];var tn=Ot(It,Gt),fn=sn(It,Gt);j.undoManager.transact(function(){xt.each(fn,function(hn){j.dom.setStyle(hn.element,"height",hn.height+"px"),j.dom.setAttrib(hn.element,"height",null)}),xt.each(tn,function(hn){j.dom.setStyle(hn.element,"height",hn.height+"px"),j.dom.setAttrib(hn.element,"height",null)}),j.dom.setStyle(De,"height",Kt+"px"),j.dom.setAttrib(De,"height",null)})}function vt(){if(j.dom.remove(bt),Bt){var De,Xe;if(j.dom.removeClass(st,Yn),Bt=!1,kt(st)){var wt=parseInt(j.dom.getAttrib(st,An),10),ft=j.dom.getPos(st).x;De=parseInt(j.dom.getAttrib(st,On),10),Xe=et()?wt-ft:ft-wt,Math.abs(Xe)>=1&&Cn(Ie,Xe,De)}else if(Ft(st)){var It=parseInt(j.dom.getAttrib(st,Sn),10),jt=j.dom.getPos(st).y;De=parseInt(j.dom.getAttrib(st,En),10),Xe=jt-It,Math.abs(Xe)>=1&&cn(Ie,Xe,De)}at(Ie),j.nodeChanged()}}function Ye(De,Xe){bt=bt||function(){var De=document.createElement("div");return De.setAttribute("style","margin: 0; padding: 0; position: fixed; left: 0px; top: 0px; height: 100%; width: 100%;"),De.setAttribute("data-mce-bogus","all"),De}(),Bt=!0,j.dom.addClass(De,Yn),st=De,function(De,Xe){j.dom.bind(De,"mouseup",function(){vt()}),j.dom.bind(De,"mousemove",function(wt){clearTimeout(ht),Bt&&Xe(wt)}),j.dom.bind(De,"mouseout",function(){ht=setTimeout(function(){vt()},200)})}(bt,Xe),j.dom.add(qe(),bt)}function kt(De){return j.dom.hasClass(De,Tn)}function Ft(De){return j.dom.hasClass(De,Jt)}function Yt(De){var Xe=De.clientX-(Rt=Rt!==Xt?Rt:De.clientX);Rt=De.clientX;var wt=j.dom.getPos(st).x;j.dom.setStyle(st,"left",wt+Xe+"px")}function an(De){var Xe=De.clientY-(Ut=Ut!==Xt?Ut:De.clientY);Ut=De.clientY;var wt=j.dom.getPos(st).y;j.dom.setStyle(st,"top",wt+Xe+"px")}function nt(De){var Xe=De.target,wt=j.getBody();if(j.$.contains(wt,Ie)||Ie===wt)if(kt(Xe)){De.preventDefault();var ft=j.dom.getPos(Xe).x;j.dom.setAttrib(Xe,An,ft),function(De){Rt=Xt,Ye(De,Yt)}(Xe)}else if(Ft(Xe)){De.preventDefault();var It=j.dom.getPos(Xe).y;j.dom.setAttrib(Xe,Sn,It),function(De){Ut=Xt,Ye(De,an)}(Xe)}else Re()}var ht,Bt,bt,st,Rt,Ut,Vt="mce-resize-bar",Jt="mce-resize-bar-row",ln="row-resize",En="data-row",Sn="data-initial-top",Tn="mce-resize-bar-col",Xn="col-resize",On="data-col",An="data-initial-left",Mn=4,Bn=10,$n=10,Yn="mce-resize-bar-dragging",zn=new RegExp(/(\d+(\.\d+)?%)/),Kn=new RegExp(/px|em/);return j.on("init",function(){j.dom.bind(qe(),"mousedown",nt)}),j.on("ObjectResized",function(De){var Xe=De.target;if("TABLE"===Xe.nodeName){var wt=[];xt.each(Xe.rows,function(ft){xt.each(ft.cells,function(It){var jt=j.dom.getStyle(It,"width",!0);wt.push({cell:It,width:jt})})}),xt.each(wt,function(ft){j.dom.setStyle(ft.cell,"width",ft.width),j.dom.setAttrib(ft.cell,"width",null)})}}),j.on("mouseover",function(De){if(!Bt){var Xe=j.dom.getParent(De.target,"table");("TABLE"===De.target.nodeName||Xe)&&(Ie=Xe,at(Xe))}}),j.on("keydown",function(De){switch(De.keyCode){case Nt.LEFT:case Nt.RIGHT:case Nt.UP:case Nt.DOWN:Re()}}),j.on("remove",function(){Re(),j.dom.unbind(qe(),"mousedown",nt)}),{adjustWidth:Cn,adjustHeight:cn,clearBars:Re,drawBars:Pe,determineDeltas:He,getTableGrid:Se,getTableDetails:Ce,getWidths:ve,getPixelHeights:Ct,isPercentageBasedSize:rn,isPixelBasedSize:Qt,recalculateWidths:Lt,recalculateCellHeights:Ot,recalculateRowHeights:sn}}}),ge("tinymce/tableplugin/Plugin",["tinymce/tableplugin/TableGrid","tinymce/tableplugin/Quirks","tinymce/tableplugin/CellSelection","tinymce/tableplugin/Dialogs","tinymce/tableplugin/ResizeBars","tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/Env","tinymce/PluginManager"],function(xt,Nt,Ie,j,xe,We,$e,ne,et){var qe=We.each;et.add("table",function(Q){function q(Pe){return function(){Q.execCommand(Pe)}}function me(Pe,ct){var ut,Tt,ve,Qe;for(ve='<table id="__mce"><tbody>',ut=0;ut<ct;ut++){for(ve+="<tr>",Tt=0;Tt<Pe;Tt++)ve+="<td>"+(ne.ie&&ne.ie<10?"&nbsp;":"<br>")+"</td>";ve+="</tr>"}return ve+="</tbody></table>",Q.undoManager.transact(function(){Q.insertContent(ve),Qe=Q.dom.get("__mce"),Q.dom.setAttrib(Qe,"id",null),Q.$("tr",Qe).each(function(Ct,He){Q.fire("newrow",{node:He}),Q.$("th,td",He).each(function(_t,Lt){Q.fire("newcell",{node:Lt})})}),Q.dom.setAttribs(Qe,Q.settings.table_default_attributes||{}),Q.dom.setStyles(Qe,Q.settings.table_default_styles||{})}),Qe}function te(Pe,ct,ut){function Tt(){var ve,Qe,Ct,He={},_t=0;(ve=(Qe=Q.dom.select("td[data-mce-selected],th[data-mce-selected]"))[0])||(ve=Q.selection.getStart()),ut&&Qe.length>0?(qe(Qe,function(Lt){return He[Lt.parentNode.parentNode.nodeName]=1}),qe(He,function(Lt){_t+=Lt}),Ct=1!==_t):Ct=!Q.dom.getParent(ve,ct),Pe.disabled(Ct),Q.selection.selectorChanged(ct,function(Lt){Pe.disabled(!Lt)})}Q.initialized?Tt():Q.on("init",Tt)}function re(){te(this,"table")}function oe(){te(this,"td,th")}function Re(Pe,ct,ut){var Tt,ve,Qe,Ct,He,_t=ut.getEl().getElementsByTagName("table")[0],Lt=ut.isRtl()||"tl-tr"==ut.parent().rel;for(_t.nextSibling.innerHTML=Pe+1+" x "+(ct+1),Lt&&(Pe=9-Pe),ve=0;ve<10;ve++)for(Tt=0;Tt<10;Tt++)Q.dom.toggleClass(Ct=_t.rows[ve].childNodes[Tt].firstChild,"mce-active",He=(Lt?Tt>=Pe:Tt<=Pe)&&ve<=ct),He&&(Qe=Ct);return Qe.parentNode}var Se,Je,Et=this,gt=new j(Q);!Q.settings.object_resizing||!1===Q.settings.table_resize_bars||!0!==Q.settings.object_resizing&&"table"!==Q.settings.object_resizing||(Je=xe(Q)),Q.addMenuItem("inserttable",!1===Q.settings.table_grid?{text:"Table",icon:"table",context:"table",onclick:gt.table}:{text:"Table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(Pe){Pe.aria&&(this.parent().hideAll(),Pe.stopImmediatePropagation(),gt.table())},onshow:function(){Re(0,0,this.menu.items()[0])},onhide:function(){var Pe=this.menu.items()[0].getEl().getElementsByTagName("a");Q.dom.removeClass(Pe,"mce-active"),Q.dom.addClass(Pe[0],"mce-active")},menu:[{type:"container",html:function(){var Pe="";Pe='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var ct=0;ct<10;ct++){Pe+="<tr>";for(var ut=0;ut<10;ut++)Pe+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*ct+ut)+'" href="#" data-mce-x="'+ut+'" data-mce-y="'+ct+'"></a></td>';Pe+="</tr>"}return(Pe+="</table>")+'<div class="mce-text-center" role="presentation">1 x 1</div>'}(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(Pe){var ct,ut,Tt=Pe.target;"A"==Tt.tagName.toUpperCase()&&(ct=parseInt(Tt.getAttribute("data-mce-x"),10),ut=parseInt(Tt.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"==this.parent().rel)&&(ct=9-ct),ct===this.lastX&&ut===this.lastY||(Re(ct,ut,Pe.control),this.lastX=ct,this.lastY=ut))},onclick:function(Pe){var ct=this;"A"==Pe.target.tagName.toUpperCase()&&(Pe.preventDefault(),Pe.stopPropagation(),ct.parent().cancel(),Q.undoManager.transact(function(){me(ct.lastX+1,ct.lastY+1)}),Q.addVisual())}}]}),Q.addMenuItem("tableprops",{text:"Table properties",context:"table",onPostRender:re,onclick:gt.tableProps}),Q.addMenuItem("deletetable",{text:"Delete table",context:"table",onPostRender:re,cmd:"mceTableDelete"}),Q.addMenuItem("cell",{separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:q("mceTableCellProps"),onPostRender:oe},{text:"Merge cells",onclick:q("mceTableMergeCells"),onPostRender:function(){te(this,"td,th",!0)}},{text:"Split cell",onclick:q("mceTableSplitCells"),onPostRender:oe}]}),Q.addMenuItem("row",{text:"Row",context:"table",menu:[{text:"Insert row before",onclick:q("mceTableInsertRowBefore"),onPostRender:oe},{text:"Insert row after",onclick:q("mceTableInsertRowAfter"),onPostRender:oe},{text:"Delete row",onclick:q("mceTableDeleteRow"),onPostRender:oe},{text:"Row properties",onclick:q("mceTableRowProps"),onPostRender:oe},{text:"-"},{text:"Cut row",onclick:q("mceTableCutRow"),onPostRender:oe},{text:"Copy row",onclick:q("mceTableCopyRow"),onPostRender:oe},{text:"Paste row before",onclick:q("mceTablePasteRowBefore"),onPostRender:oe},{text:"Paste row after",onclick:q("mceTablePasteRowAfter"),onPostRender:oe}]}),Q.addMenuItem("column",{text:"Column",context:"table",menu:[{text:"Insert column before",onclick:q("mceTableInsertColBefore"),onPostRender:oe},{text:"Insert column after",onclick:q("mceTableInsertColAfter"),onPostRender:oe},{text:"Delete column",onclick:q("mceTableDeleteCol"),onPostRender:oe}]});var Pe,Dt=[];qe("inserttable tableprops deletetable | cell row column".split(" "),function(Pe){Dt.push("|"==Pe?{text:"-"}:Q.menuItems[Pe])}),Q.addButton("table",{type:"menubutton",title:"Table",menu:Dt}),ne.isIE||Q.on("click",function(Pe){"TABLE"===(Pe=Pe.target).nodeName&&(Q.selection.select(Pe),Q.nodeChanged())}),Et.quirks=new Nt(Q),Q.on("Init",function(){Et.cellSelection=new Ie(Q,function(Pe){Pe&&Je&&Je.clearBars()}),Et.resizeBars=Je}),Q.on("PreInit",function(){Q.serializer.addAttributeFilter("data-mce-cell-padding,data-mce-border,data-mce-border-color",function(Pe,ct){for(var ut=Pe.length;ut--;)Pe[ut].attr(ct,null)})}),qe({mceTableSplitCells:function(Pe){Pe.split()},mceTableMergeCells:function(Pe){var ct;ct=Q.dom.getParent(Q.selection.getStart(),"th,td"),Q.dom.select("td[data-mce-selected],th[data-mce-selected]").length?Pe.merge():gt.merge(Pe,ct)},mceTableInsertRowBefore:function(Pe){Pe.insertRows(!0)},mceTableInsertRowAfter:function(Pe){Pe.insertRows()},mceTableInsertColBefore:function(Pe){Pe.insertCols(!0)},mceTableInsertColAfter:function(Pe){Pe.insertCols()},mceTableDeleteCol:function(Pe){Pe.deleteCols()},mceTableDeleteRow:function(Pe){Pe.deleteRows()},mceTableCutRow:function(Pe){Se=Pe.cutRows()},mceTableCopyRow:function(Pe){Se=Pe.copyRows()},mceTablePasteRowBefore:function(Pe){Pe.pasteRows(Se,!0)},mceTablePasteRowAfter:function(Pe){Pe.pasteRows(Se)},mceSplitColsBefore:function(Pe){Pe.splitCols(!0)},mceSplitColsAfter:function(Pe){Pe.splitCols(!1)},mceTableDelete:function(Pe){Je&&Je.clearBars(),Pe.deleteTable()}},function(Pe,ct){Q.addCommand(ct,function(){var ut=new xt(Q);ut&&(Pe(ut),Q.execCommand("mceRepaint"),Et.cellSelection.clear())})}),qe({mceInsertTable:gt.table,mceTableProps:function(){gt.table(!0)},mceTableRowProps:gt.row,mceTableCellProps:gt.cell},function(Pe,ct){Q.addCommand(ct,function(ut,Tt){Pe(Tt)})}),Q.addButton("tableprops",{title:"Table properties",onclick:gt.tableProps,icon:"table"}),Q.addButton("tabledelete",{title:"Delete table",onclick:q("mceTableDelete")}),Q.addButton("tablecellprops",{title:"Cell properties",onclick:q("mceTableCellProps")}),Q.addButton("tablemergecells",{title:"Merge cells",onclick:q("mceTableMergeCells")}),Q.addButton("tablesplitcells",{title:"Split cell",onclick:q("mceTableSplitCells")}),Q.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:q("mceTableInsertRowBefore")}),Q.addButton("tableinsertrowafter",{title:"Insert row after",onclick:q("mceTableInsertRowAfter")}),Q.addButton("tabledeleterow",{title:"Delete row",onclick:q("mceTableDeleteRow")}),Q.addButton("tablerowprops",{title:"Row properties",onclick:q("mceTableRowProps")}),Q.addButton("tablecutrow",{title:"Cut row",onclick:q("mceTableCutRow")}),Q.addButton("tablecopyrow",{title:"Copy row",onclick:q("mceTableCopyRow")}),Q.addButton("tablepasterowbefore",{title:"Paste row before",onclick:q("mceTablePasteRowBefore")}),Q.addButton("tablepasterowafter",{title:"Paste row after",onclick:q("mceTablePasteRowAfter")}),Q.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:q("mceTableInsertColBefore")}),Q.addButton("tableinsertcolafter",{title:"Insert column after",onclick:q("mceTableInsertColAfter")}),Q.addButton("tabledeletecol",{title:"Delete column",onclick:q("mceTableDeleteCol")}),""!==(Pe=Q.settings.table_toolbar)&&!1!==Pe&&(Pe||(Pe="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"),Q.addContextToolbar(function(Pe){return Q.dom.is(Pe,"table")&&Q.getBody().contains(Pe)},Pe)),!1!==Q.settings.table_tab_navigation&&Q.on("keydown",function(Pe){var ct,ut,Tt;9==Pe.keyCode&&(ct=Q.dom.getParent(Q.selection.getStart(),"th,td"))&&(Pe.preventDefault(),ut=new xt(Q),Tt=Pe.shiftKey?-1:1,Q.undoManager.transact(function(){!ut.moveRelIdx(ct,Tt)&&Tt>0&&(ut.insertRow(),ut.refresh(),ut.moveRelIdx(ct,Tt))}))}),Et.insertTable=me,Et.setClipboardRows=function(Pe){Se=Pe},Et.getClipboardRows=function(){return Se}})})}(window);